.class public Lcom/android/providers/contacts/ContactsProvider2;
.super Lcom/android/providers/contacts/AbstractContactsProvider;
.source "ContactsProvider2.java"

# interfaces
.implements Landroid/accounts/OnAccountsUpdateListener;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/android/providers/contacts/ContactsProvider2$CrossProcessCursorWrapper;,
        Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;,
        Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupByDisplayNameQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupByRawContactIdQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupBySourceIdQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$AddressBookIndexQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$DirectoryQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$GroupIdCacheEntry;,
        Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;,
        Lcom/android/providers/contacts/ContactsProvider2$RawContactsQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$DataContactsQuery;
    }
.end annotation


# static fields
.field private static final AAB_GROUPS_TRACKING:I = 0xd6d9

.field private static final AAB_TRACKING:I = 0xd6d8

.field private static final AGGREGATE_CONTACTS:Ljava/lang/String; = "sync.contacts.aggregate"

.field private static final AGGREGATION_EXCEPTIONS:I = 0x1770

.field private static final AGGREGATION_EXCEPTION_ID:I = 0x1771

.field private static final AGGREGATION_SUGGESTIONS:I = 0x1f40

.field private static final BACKGROUND_TASK_CHANGE_LOCALE:I = 0x9

.field private static final BACKGROUND_TASK_CLEANUP_PHOTOS:I = 0xa

.field private static final BACKGROUND_TASK_IMPORT_LEGACY_CONTACTS:I = 0x2

.field private static final BACKGROUND_TASK_INITIALIZE:I = 0x0

.field private static final BACKGROUND_TASK_INITIALIZE_DONE:I = 0xb

.field private static final BACKGROUND_TASK_OPEN_WRITE_ACCESS:I = 0x1

.field private static final BACKGROUND_TASK_PROCESSING_UPGRADE:I = 0xc

.field private static final BACKGROUND_TASK_UPDATE_ACCOUNTS:I = 0x3

.field private static final BACKGROUND_TASK_UPDATE_DIRECTORIES:I = 0x8

.field private static final BACKGROUND_TASK_UPDATE_LOCALE:I = 0x4

.field private static final BACKGROUND_TASK_UPDATE_PROVIDER_STATUS:I = 0x7

.field private static final BACKGROUND_TASK_UPDATE_SEARCH_INDEX:I = 0x6

.field private static final BACKGROUND_TASK_UPGRADE_AGGREGATION_ALGORITHM:I = 0x5

.field private static final COMPLETE_NAME:I = 0x4650

.field private static final CONTACTS:I = 0x3e8

.field private static final CONTACTS_AS_MULTI_VCARD:I = 0x3f8

.field private static final CONTACTS_AS_VCARD:I = 0x3f7

.field static final CONTACTS_DB_TAG:Ljava/lang/String; = "contacts"

.field private static final CONTACTS_FILTER:I = 0x3ed

.field private static final CONTACTS_FREQUENT:I = 0x401

.field protected static final CONTACTS_GROUP:I = 0x3f0

.field private static final CONTACTS_ID:I = 0x3e9

.field private static final CONTACTS_ID_DATA:I = 0x3ec

.field private static final CONTACTS_ID_DISPLAY_PHOTO:I = 0x3f4

.field private static final CONTACTS_ID_ENTITIES:I = 0x3fb

.field private static final CONTACTS_ID_PHOTO:I = 0x3f1

.field private static final CONTACTS_ID_STREAM_ITEMS:I = 0x3fe

.field private static final CONTACTS_IN_GROUP_SELECT:Ljava/lang/String; = "_id IN (SELECT contact_id FROM raw_contacts WHERE raw_contacts._id IN (SELECT data.raw_contact_id FROM data JOIN mimetypes ON (data.mimetype_id = mimetypes._id) WHERE mimetype_id=? AND data1=(SELECT groups._id FROM groups WHERE title=?)))"

.field private static final CONTACTS_LOOKUP:I = 0x3ea

.field private static final CONTACTS_LOOKUP_DATA:I = 0x3f9

.field private static final CONTACTS_LOOKUP_DISPLAY_PHOTO:I = 0x3f5

.field private static final CONTACTS_LOOKUP_ENTITIES:I = 0x3fc

.field private static final CONTACTS_LOOKUP_ID:I = 0x3eb

.field private static final CONTACTS_LOOKUP_ID_DATA:I = 0x3fa

.field private static final CONTACTS_LOOKUP_ID_DISPLAY_PHOTO:I = 0x3f6

.field private static final CONTACTS_LOOKUP_ID_ENTITIES:I = 0x3fd

.field private static final CONTACTS_LOOKUP_ID_PHOTO:I = 0x3f3

.field private static final CONTACTS_LOOKUP_ID_STREAM_ITEMS:I = 0x400

.field private static final CONTACTS_LOOKUP_PHOTO:I = 0x3f2

.field private static final CONTACTS_LOOKUP_STREAM_ITEMS:I = 0x3ff

.field private static final CONTACTS_STREQUENT:I = 0x3ee

.field private static final CONTACTS_STREQUENT_FILTER:I = 0x3ef

.field protected static final CONTACT_LOOKUP_NAME_TYPES:Ljava/lang/String; = "2,4,3"

.field private static final CONTACT_MEMORY_FILE_NAME:Ljava/lang/String; = "contactAssetFile"

.field private static final CS_FRIENDS:I = 0xd2f0

.field private static final DATA:I = 0xbb8

.field private static final DATA_ID:I = 0xbb9

.field public static final DATA_JOIN_RAW_CONTACTS_JOIN_CONTACT:Ljava/lang/String; = "data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN contacts ON (raw_contacts.contact_id = contacts._id) "

.field private static final DATA_USAGE_FEEDBACK_ID:I = 0x4e21

.field private static final DEBUG:Z = false

.field public static final DEFAULT_ACCOUNT_TYPE:Ljava/lang/String; = "com.google"

.field public static final DEFAULT_MAX_SUGGESTIONS:I = 0x5

.field private static final DEFAULT_PREAUTHORIZED_URI_EXPIRATION:I = 0x493e0

.field private static final DEFAULT_SNIPPET_ARG_ELLIPSIS:Ljava/lang/String; = "..."

.field private static final DEFAULT_SNIPPET_ARG_END_MATCH:Ljava/lang/String; = "]"

.field private static final DEFAULT_SNIPPET_ARG_MAX_TOKENS:I = -0xa

.field private static final DEFAULT_SNIPPET_ARG_START_MATCH:Ljava/lang/String; = "["

.field private static final DIRECTORIES:I = 0x4269

.field private static final DIRECTORIES_ID:I = 0x426a

.field private static final DISPLAY_PHOTO:I = 0x55f0

.field private static final DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String; = null

.field private static final EMAILS:I = 0xbbd

.field private static final EMAILS_FILTER:I = 0xbc0

.field private static final EMAILS_ID:I = 0xbbe

.field private static final EMAILS_LOOKUP:I = 0xbbf

.field private static final EMAIL_FILTER_CURRENT:J = 0x3f480L

.field private static final EMAIL_FILTER_RECENT:J = 0x278d00L

.field private static final EMAIL_FILTER_SORT_ORDER:Ljava/lang/String; = "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

.field private static final EMPTY_STRING_ARRAY:[Ljava/lang/String; = null

.field private static final FREQUENT_ORDER_BY:Ljava/lang/String; = "times_used DESC,display_name COLLATE LOCALIZED ASC"

.field protected static final GROUPS:I = 0x2710

.field protected static final GROUPS_ID:I = 0x2711

.field protected static final GROUPS_SUMMARY:I = 0x2713

.field protected static final HTC_FACEBOOK_NEED_SYNC_ONCE:Ljava/lang/String; = "htc_facebook_need_sync_once"

.field private static final HTC_SEARCH_SHORTCUT:I = 0x2ee5

.field private static final HTC_SEARCH_SUGGESTIONS:I = 0x2ee4

.field private static final HTC_SEARCH_SUGGESTIONS_BASE:I = 0x2ee6

.field private static final INSERT_URI_ID_VALUE_MAP:Ljava/util/Map; = null
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Ljava/lang/Integer;",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field private static final JOIN_NAME:I = 0xd2f3

.field private static final LEGACY_IMPORT_FAILED_NOTIFICATION:I = 0x1

.field protected static final LIVE_FOLDERS_CONTACTS:I = 0x36b0

.field private static final LIVE_FOLDERS_CONTACTS_FAVORITES:I = 0x36b2

.field private static final LIVE_FOLDERS_CONTACTS_GROUP_NAME:I = 0x36b3

.field protected static final LIVE_FOLDERS_CONTACTS_WITH_PHONES:I = 0x36b1

.field public static LinkMethod:J = 0x0L

.field private static final MAX_STREAM_ITEMS_PER_RAW_CONTACT:I = 0x5

.field private static final MYPHONEBOOK_PROFILE_TRACKING:I = 0xcf08

.field private static final MYPHONEBOOK_TRACKING:I = 0xcb20

.field private static final PARSE_MAIN_NAME:I = 0xd2f2

.field private static final PARSE_NAME:I = 0xd2f1

.field private static final PCSC_SYNC_INFO:I = 0xc739

.field private static final PCSC_TRACKING:I = 0xc738

.field static final PERFORMANCE_FIX_SUPER_PRIMARY:Z = true

.field static final PHONEBOOK_COLLATOR_NAME:Ljava/lang/String; = "PHONEBOOK"

.field private static final PHONES:I = 0xbba

.field private static final PHONES_FILTER:I = 0xbbc

.field private static final PHONES_ID:I = 0xbbb

.field private static final PHONE_FILTER_SORT_ORDER:Ljava/lang/String; = "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

.field protected static final PHONE_LOOKUP:I = 0xfa0

.field private static final PHOTO_CLEANUP_RATE_LIMIT:I = 0x5265c00

.field private static final PHOTO_DIMENSIONS:I = 0x55f1

.field private static final POSTALS:I = 0xbc1

.field private static final POSTALS_ID:I = 0xbc2

.field private static final PREAUTHORIZED_URI_TOKEN:Ljava/lang/String; = "perm_token"

.field private static final PREF_LOCALE:Ljava/lang/String; = "locale"

.field private static final PROFILE:I = 0x4a38

.field private static final PROFILE_AS_VCARD:I = 0x4a3c

.field private static final PROFILE_DATA:I = 0x4a3a

.field private static final PROFILE_DATA_ID:I = 0x4a3b

.field static final PROFILE_DB_TAG:Ljava/lang/String; = "profile"

.field private static final PROFILE_DISPLAY_PHOTO:I = 0x4a44

.field private static final PROFILE_ENTITIES:I = 0x4a39

.field private static final PROFILE_PHOTO:I = 0x4a43

.field private static final PROFILE_RAW_CONTACTS:I = 0x4a3d

.field private static final PROFILE_RAW_CONTACTS_ID:I = 0x4a3e

.field private static final PROFILE_RAW_CONTACTS_ID_DATA:I = 0x4a3f

.field private static final PROFILE_RAW_CONTACTS_ID_ENTITIES:I = 0x4a40

.field private static final PROFILE_RAW_CONTACT_ENTITIES:I = 0x4a42

.field private static final PROFILE_STATUS_UPDATES:I = 0x4a41

.field private static final PROFILE_SYNCSTATE:I = 0x2afa

.field private static final PROFILE_SYNCSTATE_ID:I = 0x2afb

.field private static final PROJECTION_GROUP_ID:[Ljava/lang/String; = null

.field private static final PROPERTY_AGGREGATION_ALGORITHM:Ljava/lang/String; = "aggregation_v2"

.field private static final PROPERTY_AGGREGATION_ALGORITHM_VERSION:I = 0x2

.field private static final PROPERTY_CONTACTS_IMPORTED:Ljava/lang/String; = "contacts_imported_v1"

.field private static final PROPERTY_CONTACTS_IMPORT_VERSION:I = 0x1

.field private static final PROVIDER_STATUS:I = 0x3e81

.field public static final QUERY_PARAMETER_SIP_ADDRESS:Ljava/lang/String; = "sip"

.field static final QUERY_TOKENIZER_REGEX:Ljava/lang/String; = "[^\\w@]+"

.field private static final RAW_CONTACTS:I = 0x7d2

.field private static final RAW_CONTACTS_DATA:I = 0x7d4

.field private static final RAW_CONTACTS_ID:I = 0x7d3

.field private static final RAW_CONTACTS_ID_DISPLAY_PHOTO:I = 0x7d6

.field private static final RAW_CONTACTS_ID_STREAM_ITEMS:I = 0x7d7

.field private static final RAW_CONTACTS_ID_STREAM_ITEMS_ID:I = 0x7d8

.field private static final RAW_CONTACT_ENTITIES:I = 0x3a99

.field private static final RAW_CONTACT_ENTITY_ID:I = 0x7d5

.field public static final REMOVE_DUPLICATE_ENTRIES:Ljava/lang/String; = "remove_duplicate_entries"

.field private static final SEARCH_SHORTCUT:I = 0x2ee2

.field private static final SEARCH_SUGGESTIONS:I = 0x2ee1

.field private static final SEARCH_SUGGESTIONS_MANAUL:I = 0x2ee3

.field private static final SELECTION_AUTO_ADD_GROUPS_BY_RAW_CONTACT_ID:Ljava/lang/String; = "raw_contacts._id=? AND groups.account_name=raw_contacts.account_name AND groups.account_type=raw_contacts.account_type AND (groups.data_set=raw_contacts.data_set OR groups.data_set IS NULL AND raw_contacts.data_set IS NULL) AND auto_add != 0"

.field private static final SELECTION_FAVORITES_GROUPS_BY_RAW_CONTACT_ID:Ljava/lang/String; = "raw_contacts._id=? AND groups.account_name=raw_contacts.account_name AND groups.account_type=raw_contacts.account_type AND (groups.data_set=raw_contacts.data_set OR groups.data_set IS NULL AND raw_contacts.data_set IS NULL) AND favorites != 0"

.field private static final SELECTION_GROUPMEMBERSHIP_DATA:Ljava/lang/String; = "mimetype_id=? AND data1=? AND raw_contact_id=?"

.field private static final SELECTION_STARRED_FROM_RAW_CONTACTS:Ljava/lang/String; = "SELECT starred FROM raw_contacts WHERE _id=?"

.field private static final SETTINGS:I = 0x2328

.field private static final SOCIAL_STREAM_URIS:Ljava/util/List; = null
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/List",
            "<",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field protected static final STARRED_IN_ANDROID:Ljava/lang/String; = "Starred in Android"

.field private static final STATUS_UPDATES:I = 0x1b58

.field private static final STATUS_UPDATES_ID:I = 0x1b59

.field private static final STREAM_ITEMS:I = 0x5208

.field private static final STREAM_ITEMS_ID:I = 0x520a

.field private static final STREAM_ITEMS_ID_PHOTOS:I = 0x520b

.field private static final STREAM_ITEMS_ID_PHOTOS_ID:I = 0x520c

.field private static final STREAM_ITEMS_LIMIT:I = 0x520d

.field private static final STREAM_ITEMS_PHOTOS:I = 0x5209

.field private static final SYNCSTATE:I = 0x2af8

.field private static final SYNCSTATE_ID:I = 0x2af9

.field private static final TAG:Ljava/lang/String; = "ContactsProvider"

.field private static final TIMES_USED_SORT_COLUMN:Ljava/lang/String; = "times_used_sort"

.field private static final TIME_SINCE_LAST_USED:Ljava/lang/String; = "(strftime(\'%s\', \'now\') - last_time_used/1000)"

.field private static final UPDATE_RAW_CONTACT_SET_DIRTY_SQL:Ljava/lang/String; = "UPDATE raw_contacts SET dirty=1 WHERE _id IN ("

.field private static final UPDATE_RAW_CONTACT_SET_VERSION_SQL:Ljava/lang/String; = "UPDATE raw_contacts SET version = version + 1 WHERE _id IN ("

.field static final UPDATE_TIMES_CONTACTED_CONTACTS_TABLE:Ljava/lang/String; = "UPDATE contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE _id=?"

.field static final UPDATE_TIMES_CONTACTED_RAWCONTACTS_TABLE:Ljava/lang/String; = "UPDATE raw_contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE contact_id=?"

#the value of this static final field might be set in the static constructor
.field private static final VERBOSE_LOGGING:Z = false

.field private static final WHERE_CLAUSE_FOR_STATUS_UPDATES_TABLE:Ljava/lang/String; = "status_update_data_id IN (SELECT Distinct presence_data_id FROM status_updates LEFT OUTER JOIN presence ON status_update_data_id = presence_data_id WHERE "

.field static final aabGroupsTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap; = null

.field protected static aabGroupsTrackingTable:Ljava/lang/String; = null

.field static final aabTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap; = null

.field protected static aabTrackingTable:Ljava/lang/String; = null

.field static final csFriendProjectionMap:Lcom/android/providers/contacts/ProjectionMap; = null

.field protected static csFriendTable:Ljava/lang/String; = null

.field private static final isEnableInsertStarredGroupThenSetStarred:Z = true

.field public static final isEnalbeAutoPrimary:Z = true

.field private static isSIMFirstReady:Z

.field protected static mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

.field static final myphonebookProfileTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static myphonebookProfileTrackingTable:Ljava/lang/String;

.field static final myphonebookTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static myphonebookTrackingTable:Ljava/lang/String;

.field protected static pcscSyncInfoTable:Ljava/lang/String;

.field static final pcscTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static pcscTrackingTable:Ljava/lang/String;

.field private static final sAggregationExceptionsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sContactPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sContactsPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sContactsProjectionWithSnippetMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sContactsVCardProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sCountProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sDataPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

.field static final sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sDataUsageTypeMap:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Ljava/lang/String;",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field private static final sDirectoryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sDistinctDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sDistinctDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sGroupsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sGroupsSummaryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sGroupsSummaryProjectionMapWithGroupCountPerAccount:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sHTCContactsExtraColumns:Lcom/android/providers/contacts/ProjectionMap;

.field protected static volatile sIsTryLoadSIM:Z

.field static final sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sPhoneLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sRawContactSyncColumns:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sRawContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sRawEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sSettingsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field protected static final sSipLookupColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sSnippetColumns:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStatusUpdatesProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStreamItemPhotosProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStreamItemsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStrequentFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sStrequentStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

.field private static final sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;


# instance fields
.field private mAccount:Landroid/accounts/Account;

.field private mAccountUpdateListenerRegistered:Z

.field protected mAccountWritability:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field protected final mActiveDb:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Landroid/database/sqlite/SQLiteDatabase;",
            ">;"
        }
    .end annotation
.end field

.field protected final mAggregator:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactAggregator;",
            ">;"
        }
    .end annotation
.end field

.field mBackgroundHandler:Landroid/os/Handler;

.field mBackgroundThread:Landroid/os/HandlerThread;

.field private mCharArrayBuffer:Landroid/database/CharArrayBuffer;

.field private mCommonNicknameCache:Lcom/android/providers/contacts/CommonNicknameCache;

.field protected mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

.field private mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

.field protected mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

.field private mContactsAccountCount:I

.field protected mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

.field protected mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

.field protected mCurrentLocale:Ljava/util/Locale;

.field protected mDataRowHandlers:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;"
        }
    .end annotation
.end field

.field protected final mDbHelper:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsDatabaseHelper;",
            ">;"
        }
    .end annotation
.end field

.field private mDirectoryCache:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;",
            ">;"
        }
    .end annotation
.end field

.field private mDirectoryCacheValid:Z

.field private mEstimatedStorageRequirement:J

.field private mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

.field protected mGroupCountUtility:Lcom/android/providers/contacts/HtcUtils/CacheUtils$GroupCountCacheUtils;

.field protected mGroupIdCache:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactsProvider2$GroupIdCacheEntry;",
            ">;>;"
        }
    .end annotation
.end field

.field protected final mInProfileMode:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private mIsCreateReady:Z

.field private mLastPhotoCleanup:J

.field private mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

.field protected mLocalDataValues:Landroid/content/ContentValues;

.field protected mMaxDisplayPhotoDim:I

.field protected mMaxThumbnailPhotoDim:I

.field private mName:Lcom/android/providers/contacts/NameSplitter$Name;

.field protected mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

.field protected mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

.field private mOkToOpenAccess:Z

.field protected final mPhotoStore:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/PhotoStore;",
            ">;"
        }
    .end annotation
.end field

.field protected mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

.field protected mPreAuthorizedUriDuration:J

.field protected mPreAuthorizedUris:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Landroid/net/Uri;",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field protected mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

.field protected mProfileDataRowHandlers:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;"
        }
    .end annotation
.end field

.field protected mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

.field protected mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

.field private mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

.field protected mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

.field protected mProviderStatus:I

.field private mProviderStatusUpdateNeeded:Z

.field protected mRandom:Ljava/security/SecureRandom;

.field protected volatile mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

.field protected mReadOnlyAccoutTypes:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field private mSb:Ljava/lang/StringBuilder;

.field protected mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

.field private mSelectionArgs:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field protected mSelectionArgs1:[Ljava/lang/String;

.field protected mSelectionArgs2:[Ljava/lang/String;

.field protected mSyncToNetwork:Z

.field private mTestSyncToNetwork:Z

.field protected final mTransactionContext:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/TransactionContext;",
            ">;"
        }
    .end annotation
.end field

.field private final mTransactionHolder:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsTransaction;",
            ">;"
        }
    .end annotation
.end field

.field protected mValues:Landroid/content/ContentValues;

.field private mVisibleTouched:Z

.field protected volatile mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

.field public removeAccountContactIds:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field private sIsPhone:Z

.field private sIsPhoneInitialized:Z


# direct methods
.method static constructor <clinit>()V
    .locals 11

    .prologue
    const/16 v10, 0x5208

    const/16 v9, 0x7d7

    const/4 v8, 0x2

    const/4 v7, 0x1

    const/4 v6, 0x0

    .line 202
    const-string v2, "ContactsProvider"

    invoke-static {v2, v8}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    sput-boolean v2, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    .line 206
    const/4 v2, 0x0

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    .line 236
    const-wide/16 v2, 0x0

    sput-wide v2, Lcom/android/providers/contacts/ContactsProvider2;->LinkMethod:J

    .line 274
    new-instance v2, Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    const/4 v3, -0x1

    invoke-direct {v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;-><init>(I)V

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    .line 430
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    .line 432
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v3, 0xbb8

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "raw_contact_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 433
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v3, 0x7d4

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "raw_contact_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 434
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v3, 0x1b58

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "presence_data_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 435
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "raw_contact_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 436
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "raw_contact_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 437
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v3, 0x5209

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "stream_item_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 438
    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v3, 0x520b

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const-string v4, "stream_item_id"

    invoke-interface {v2, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 444
    const/16 v2, 0xa

    new-array v2, v2, [Ljava/lang/Integer;

    const/16 v3, 0x3fe

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v2, v6

    const/16 v3, 0x3ff

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v2, v7

    const/16 v3, 0x400

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v2, v8

    const/4 v3, 0x3

    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/4 v3, 0x4

    const/16 v4, 0x7d8

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/4 v3, 0x5

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/4 v3, 0x6

    const/16 v4, 0x5209

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/4 v3, 0x7

    const/16 v4, 0x520a

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/16 v3, 0x8

    const/16 v4, 0x520b

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/16 v3, 0x9

    const/16 v4, 0x520c

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    invoke-static {v2}, Lcom/google/android/collect/Lists;->newArrayList([Ljava/lang/Object;)Ljava/util/ArrayList;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    .line 481
    new-array v2, v7, [Ljava/lang/String;

    const-string v3, "groups._id"

    aput-object v3, v2, v6

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->PROJECTION_GROUP_ID:[Ljava/lang/String;

    .line 524
    const-string v2, "pcscTracking"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingTable:Ljava/lang/String;

    .line 525
    const-string v2, "pcscSyncInfo"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->pcscSyncInfoTable:Ljava/lang/String;

    .line 528
    const-string v2, "myphonebookTracking"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingTable:Ljava/lang/String;

    .line 531
    const-string v2, "myphonebookProfileTracking"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingTable:Ljava/lang/String;

    .line 534
    const-string v2, "csfriends"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->csFriendTable:Ljava/lang/String;

    .line 537
    const-string v2, "aabTracking"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingTable:Ljava/lang/String;

    .line 538
    const-string v2, "aabGroupsTracking"

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingTable:Ljava/lang/String;

    .line 554
    sput-boolean v7, Lcom/android/providers/contacts/ContactsProvider2;->isSIMFirstReady:Z

    .line 680
    const/16 v2, 0xb

    new-array v2, v2, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v6

    const-string v3, "raw_contact_id"

    aput-object v3, v2, v7

    const-string v3, "name_raw_contact_id"

    aput-object v3, v2, v8

    const/4 v3, 0x3

    const-string v4, "account_name"

    aput-object v4, v2, v3

    const/4 v3, 0x4

    const-string v4, "account_type"

    aput-object v4, v2, v3

    const/4 v3, 0x5

    const-string v4, "data_set"

    aput-object v4, v2, v3

    const/4 v3, 0x6

    const-string v4, "account_type_and_data_set"

    aput-object v4, v2, v3

    const/4 v3, 0x7

    const-string v4, "dirty"

    aput-object v4, v2, v3

    const/16 v3, 0x8

    const-string v4, "name_verified"

    aput-object v4, v2, v3

    const/16 v3, 0x9

    const-string v4, "sourceid"

    aput-object v4, v2, v3

    const/16 v3, 0xa

    const-string v4, "version"

    aput-object v4, v2, v3

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String;

    .line 694
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "custom_ringtone"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name_alt"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name_source"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "in_visible_group"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "last_time_contacted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "lookup"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "phonetic_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "phonetic_name_style"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_file_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_uri"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_thumb_uri"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "send_to_voicemail"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sort_key_alt"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sort_key"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_contacted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "has_phone_number"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 716
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_presence"

    const-string v4, "agg_presence.mode"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_chat_capability"

    const-string v4, "agg_presence.chat_capability"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status"

    const-string v4, "contacts_status_updates.status"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_ts"

    const-string v4, "contacts_status_updates.status_ts"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_res_package"

    const-string v4, "contacts_status_updates.status_res_package"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_label"

    const-string v4, "contacts_status_updates.status_label"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_icon"

    const-string v4, "contacts_status_updates.status_icon"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 733
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "snippet"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSnippetColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 737
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type_and_data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "dirty"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name_verified"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sourceid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "version"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 748
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 755
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data5"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data6"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data7"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data8"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data9"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data10"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data11"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data12"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data13"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data14"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data15"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_version"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "is_primary"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "is_super_primary"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "mimetype"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "res_package"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_sync1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_sync2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_sync3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_sync4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "group_sourceid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 783
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_presence"

    const-string v4, "agg_presence.mode"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_chat_capability"

    const-string v4, "agg_presence.chat_capability"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status"

    const-string v4, "contacts_status_updates.status"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_ts"

    const-string v4, "contacts_status_updates.status_ts"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_res_package"

    const-string v4, "contacts_status_updates.status_res_package"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_label"

    const-string v4, "contacts_status_updates.status_label"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_status_icon"

    const-string v4, "contacts_status_updates.status_icon"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 800
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "mode"

    const-string v4, "presence.mode"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "chat_capability"

    const-string v4, "presence.chat_capability"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status"

    const-string v4, "status_updates.status"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_ts"

    const-string v4, "status_updates.status_ts"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_res_package"

    const-string v4, "status_updates.status_res_package"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_label"

    const-string v4, "status_updates.status_label"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_icon"

    const-string v4, "status_updates.status_icon"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 811
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_count"

    const-string v4, "COUNT(*)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sCountProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 816
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "default_action"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "vip"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_update_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sHTCContactsExtraColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 824
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "has_phone_number"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name_raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 838
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sSnippetColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionWithSnippetMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 844
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_used_sort"

    const-wide v4, 0x7fffffffffffffffL

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 849
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_used_sort"

    const-string v4, "SUM(data_usage_stat.times_used)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 859
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_used_sort"

    const-wide v4, 0x7fffffffffffffffL

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data1"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data2"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data3"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 874
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_used_sort"

    const-string v4, "data_usage_stat.times_used"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "is_user_profile"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 885
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_display_name"

    const-string v4, "display_name || \'.vcf\'"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_size"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 893
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "deleted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name_alt"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name_source"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "phonetic_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "phonetic_name_style"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sort_key"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sort_key_alt"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_contacted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "last_time_contacted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "custom_ringtone"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "send_to_voicemail"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "aggregation_mode"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 917
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "deleted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 930
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name_raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "deleted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 947
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "number"

    const-string v4, "data1"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "type"

    const-string v4, "0"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "label"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "normalized_number"

    const-string v4, "NULL"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/providers/contacts/ProjectionMap;

    .line 956
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name_raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_update_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 974
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 981
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    const-string v4, "MIN(_id)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_is_user_profile"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 993
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 999
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    const-string v4, "contacts_view._id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "lookup"

    const-string v4, "contacts_view.lookup"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "display_name"

    const-string v4, "contacts_view.display_name"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "last_time_contacted"

    const-string v4, "contacts_view.last_time_contacted"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "times_contacted"

    const-string v4, "contacts_view.times_contacted"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "starred"

    const-string v4, "contacts_view.starred"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "in_visible_group"

    const-string v4, "contacts_view.in_visible_group"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_id"

    const-string v4, "contacts_view.photo_id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_uri"

    const-string v4, "contacts_view.photo_uri"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_thumb_uri"

    const-string v4, "contacts_view.photo_thumb_uri"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "custom_ringtone"

    const-string v4, "contacts_view.custom_ringtone"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "has_phone_number"

    const-string v4, "contacts_view.has_phone_number"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "send_to_voicemail"

    const-string v4, "contacts_view.send_to_voicemail"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "number"

    const-string v4, "data1"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "type"

    const-string v4, "data2"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "label"

    const-string v4, "data3"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "normalized_number"

    const-string v4, "data4"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_update_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1024
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type_and_data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sourceid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "dirty"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "version"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "res_package"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "title"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "title_res"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "group_visible"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "system_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "deleted"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "notes"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "should_sync"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "favorites"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "auto_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "group_is_read_only"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sync4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1057
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "summ_count"

    const-string v4, "ifnull(group_member_count, 0)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "summ_phones"

    const-string v4, "(SELECT COUNT(contacts._id) FROM contacts INNER JOIN raw_contacts ON (raw_contacts.contact_id=contacts._id) INNER JOIN data ON (data.data1=groups._id AND data.raw_contact_id=raw_contacts._id AND data.mimetype_id=(SELECT _id FROM mimetypes WHERE mimetypes.mimetype=\'vnd.android.cursor.item/group_membership\')) WHERE has_phone_number)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1068
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->addAll(Lcom/android/providers/contacts/ProjectionMap;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "group_count_per_account"

    const-string v4, "(SELECT COUNT(*) FROM view_groups WHERE (account_name=groups.account_name AND account_type=groups.account_type AND deleted=0 AND favorites=0 AND auto_add=0) GROUP BY account_name, account_type)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMapWithGroupCountPerAccount:Lcom/android/providers/contacts/ProjectionMap;

    .line 1088
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    const-string v4, "agg_exceptions._id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1096
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "ungrouped_visible"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "should_sync"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "any_unsynced"

    const-string v4, "(CASE WHEN MIN(should_sync,(SELECT (CASE WHEN MIN(should_sync) IS NULL THEN 1 ELSE MIN(should_sync) END) FROM groups WHERE groups.account_name=settings.account_name AND groups.account_type=settings.account_type AND ((groups.data_set IS NULL AND settings.data_set IS NULL) OR (groups.data_set=settings.data_set))))=0 THEN 1 ELSE 0 END)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "summ_count"

    const-string v4, "(SELECT COUNT(*) FROM (SELECT 1 FROM settings LEFT OUTER JOIN raw_contacts ON (raw_contacts.account_name = settings.account_name AND raw_contacts.account_type = settings.account_type) LEFT OUTER JOIN data ON (data.mimetype_id=? AND data.raw_contact_id = raw_contacts._id) LEFT OUTER JOIN contacts ON (raw_contacts.contact_id = contacts._id) GROUP BY settings.account_name,settings.account_type,contact_id HAVING COUNT(data.data1) == 0))"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "summ_phones"

    const-string v4, "(SELECT COUNT(*) FROM (SELECT 1 FROM settings LEFT OUTER JOIN raw_contacts ON (raw_contacts.account_name = settings.account_name AND raw_contacts.account_type = settings.account_type) LEFT OUTER JOIN data ON (data.mimetype_id=? AND data.raw_contact_id = raw_contacts._id) LEFT OUTER JOIN contacts ON (raw_contacts.contact_id = contacts._id) WHERE has_phone_number GROUP BY settings.account_name,settings.account_type,contact_id HAVING COUNT(data.data1) == 0))"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1139
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "presence_raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "presence_data_id"

    const-string v4, "data._id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "im_account"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "im_handle"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "protocol"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "custom_protocol"

    const-string v4, "(CASE WHEN custom_protocol=\'\' THEN NULL ELSE custom_protocol END)"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "mode"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "chat_capability"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_ts"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_res_package"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_icon"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "status_label"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "mimetype"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStatusUpdatesProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1164
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_lookup"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "account_type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "data_set"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_source_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "res_package"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "icon"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "label"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "text"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "timestamp"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "comments"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_sync1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_sync2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_sync3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_sync4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1185
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    const-string v4, "stream_item_photos._id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "raw_contact_source_id"

    const-string v4, "raw_contacts.sourceid"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "sort_index"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_file_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_uri"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    sget-object v5, Landroid/provider/ContactsContract$DisplayPhoto;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\'||\'/\'||"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "photo_file_id"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "height"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "width"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "filesize"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_photo_sync1"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_photo_sync2"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_photo_sync3"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "stream_item_photo_sync4"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemPhotosProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1205
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    const-string v4, "_id"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name"

    const-string v4, "display_name"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1215
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "packageName"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "typeResourceId"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "displayName"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "authority"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "accountType"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "accountName"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "exportSupport"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "shortcutSupport"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photoSupport"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1230
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_guid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_modify"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_delete"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_syncing"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1240
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_modify"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_delete"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_syncing"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1249
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_modify"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_delete"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_syncing"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1258
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "friendid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contactid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "type"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "state"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "contact_serverid"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "profile_name"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "email"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "phonenumber"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "photo_url"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->csFriendProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1272
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_modify"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_delete"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_syncing"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1281
    invoke-static {}, Lcom/android/providers/contacts/ProjectionMap;->builder()Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_id"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_add"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_modify"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_delete"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    const-string v3, "_syncing"

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/providers/contacts/ProjectionMap$Builder;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProjectionMap$Builder;->build()Lcom/android/providers/contacts/ProjectionMap;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 1297
    new-array v2, v6, [Ljava/lang/String;

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->EMPTY_STRING_ARRAY:[Ljava/lang/String;

    .line 1344
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    .line 1345
    .local v0, matcher:Landroid/content/UriMatcher;
    const-string v2, "com.android.contacts"

    const-string v3, "contacts"

    const/16 v4, 0x3e8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1346
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#"

    const/16 v4, 0x3e9

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1347
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/data"

    const/16 v4, 0x3ec

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1348
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/entities"

    const/16 v4, 0x3fb

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1349
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/suggestions"

    const/16 v4, 0x1f40

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1351
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/suggestions/*"

    const/16 v4, 0x1f40

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1353
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/photo"

    const/16 v4, 0x3f1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1354
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/display_photo"

    const/16 v4, 0x3f4

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1356
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/#/stream_items"

    const/16 v4, 0x3fe

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1358
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/filter"

    const/16 v4, 0x3ed

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1359
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/filter/*"

    const/16 v4, 0x3ed

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1360
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*"

    const/16 v4, 0x3ea

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1361
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/data"

    const/16 v4, 0x3f9

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1362
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/photo"

    const/16 v4, 0x3f2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1364
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#"

    const/16 v4, 0x3eb

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1365
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#/data"

    const/16 v4, 0x3fa

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1367
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#/photo"

    const/16 v4, 0x3f3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1369
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/display_photo"

    const/16 v4, 0x3f5

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1371
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#/display_photo"

    const/16 v4, 0x3f6

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1373
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/entities"

    const/16 v4, 0x3fc

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1375
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#/entities"

    const/16 v4, 0x3fd

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1377
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/stream_items"

    const/16 v4, 0x3ff

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1379
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/lookup/*/#/stream_items"

    const/16 v4, 0x400

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1381
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/as_vcard/*"

    const/16 v4, 0x3f7

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1382
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/as_multi_vcard/*"

    const/16 v4, 0x3f8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1384
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/strequent/"

    const/16 v4, 0x3ee

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1385
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/strequent/filter/*"

    const/16 v4, 0x3ef

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1387
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/group/*"

    const/16 v4, 0x3f0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1388
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/frequent"

    const/16 v4, 0x401

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1390
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts"

    const/16 v4, 0x7d2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1391
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#"

    const/16 v4, 0x7d3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1392
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#/data"

    const/16 v4, 0x7d4

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1393
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#/display_photo"

    const/16 v4, 0x7d6

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1395
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#/entity"

    const/16 v4, 0x7d5

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1396
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#/stream_items"

    invoke-virtual {v0, v2, v3, v9}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1398
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contacts/#/stream_items/#"

    const/16 v4, 0x7d8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1401
    const-string v2, "com.android.contacts"

    const-string v3, "raw_contact_entities"

    const/16 v4, 0x3a99

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1403
    const-string v2, "com.android.contacts"

    const-string v3, "data"

    const/16 v4, 0xbb8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1404
    const-string v2, "com.android.contacts"

    const-string v3, "data/#"

    const/16 v4, 0xbb9

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1405
    const-string v2, "com.android.contacts"

    const-string v3, "data/phones"

    const/16 v4, 0xbba

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1406
    const-string v2, "com.android.contacts"

    const-string v3, "data/phones/#"

    const/16 v4, 0xbbb

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1407
    const-string v2, "com.android.contacts"

    const-string v3, "data/phones/filter"

    const/16 v4, 0xbbc

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1408
    const-string v2, "com.android.contacts"

    const-string v3, "data/phones/filter/*"

    const/16 v4, 0xbbc

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1409
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails"

    const/16 v4, 0xbbd

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1410
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails/#"

    const/16 v4, 0xbbe

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1411
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails/lookup"

    const/16 v4, 0xbbf

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1412
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails/lookup/*"

    const/16 v4, 0xbbf

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1413
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails/filter"

    const/16 v4, 0xbc0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1414
    const-string v2, "com.android.contacts"

    const-string v3, "data/emails/filter/*"

    const/16 v4, 0xbc0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1415
    const-string v2, "com.android.contacts"

    const-string v3, "data/postals"

    const/16 v4, 0xbc1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1416
    const-string v2, "com.android.contacts"

    const-string v3, "data/postals/#"

    const/16 v4, 0xbc2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1418
    const-string v2, "com.android.contacts"

    const-string v3, "data/usagefeedback/*"

    const/16 v4, 0x4e21

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1420
    const-string v2, "com.android.contacts"

    const-string v3, "groups"

    const/16 v4, 0x2710

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1421
    const-string v2, "com.android.contacts"

    const-string v3, "groups/#"

    const/16 v4, 0x2711

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1422
    const-string v2, "com.android.contacts"

    const-string v3, "groups_summary"

    const/16 v4, 0x2713

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1424
    const-string v2, "com.android.contacts"

    const-string v3, "syncstate"

    const/16 v4, 0x2af8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1425
    const-string v2, "com.android.contacts"

    const-string v3, "syncstate/#"

    const/16 v4, 0x2af9

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1427
    const-string v2, "com.android.contacts"

    const-string v3, "profile/syncstate"

    const/16 v4, 0x2afa

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1429
    const-string v2, "com.android.contacts"

    const-string v3, "profile/syncstate/#"

    const/16 v4, 0x2afb

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1433
    const-string v2, "com.android.contacts"

    const-string v3, "phone_lookup/*"

    const/16 v4, 0xfa0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1434
    const-string v2, "com.android.contacts"

    const-string v3, "aggregation_exceptions"

    const/16 v4, 0x1770

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1436
    const-string v2, "com.android.contacts"

    const-string v3, "aggregation_exceptions/*"

    const/16 v4, 0x1771

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1439
    const-string v2, "com.android.contacts"

    const-string v3, "aggregation_exceptions_manual"

    const/16 v4, 0x2ee3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1441
    const-string v2, "com.android.contacts"

    const-string v3, "aggregation_exceptions_manual/*"

    const/16 v4, 0x2ee3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1445
    const-string v2, "com.android.contacts"

    const-string v3, "settings"

    const/16 v4, 0x2328

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1447
    const-string v2, "com.android.contacts"

    const-string v3, "status_updates"

    const/16 v4, 0x1b58

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1448
    const-string v2, "com.android.contacts"

    const-string v3, "status_updates/#"

    const/16 v4, 0x1b59

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1450
    const-string v2, "com.android.contacts"

    const-string v3, "search_suggest_query"

    const/16 v4, 0x2ee1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1452
    const-string v2, "com.android.contacts"

    const-string v3, "search_suggest_query/*"

    const/16 v4, 0x2ee1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1454
    const-string v2, "com.android.contacts"

    const-string v3, "search_suggest_shortcut/*"

    const/16 v4, 0x2ee2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1458
    const-string v2, "com.android.contacts"

    const-string v3, "htc_search_suggest_query"

    const/16 v4, 0x2ee6

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1460
    const-string v2, "com.android.contacts"

    const-string v3, "htc_search_suggest_query/*"

    const/16 v4, 0x2ee4

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1462
    const-string v2, "com.android.contacts"

    const-string v3, "htc_search_suggest_shortcut/*"

    const/16 v4, 0x2ee5

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1466
    const-string v2, "com.android.contacts"

    const-string v3, "live_folders/contacts"

    const/16 v4, 0x36b0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1468
    const-string v2, "com.android.contacts"

    const-string v3, "live_folders/contacts/*"

    const/16 v4, 0x36b3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1470
    const-string v2, "com.android.contacts"

    const-string v3, "live_folders/contacts_with_phones"

    const/16 v4, 0x36b1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1472
    const-string v2, "com.android.contacts"

    const-string v3, "live_folders/favorites"

    const/16 v4, 0x36b2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1475
    const-string v2, "com.android.contacts"

    const-string v3, "provider_status"

    const/16 v4, 0x3e81

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1477
    const-string v2, "com.android.contacts"

    const-string v3, "directories"

    const/16 v4, 0x4269

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1478
    const-string v2, "com.android.contacts"

    const-string v3, "directories/#"

    const/16 v4, 0x426a

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1480
    const-string v2, "com.android.contacts"

    const-string v3, "complete_name"

    const/16 v4, 0x4650

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1482
    const-string v2, "com.android.contacts"

    const-string v3, "profile"

    const/16 v4, 0x4a38

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1483
    const-string v2, "com.android.contacts"

    const-string v3, "profile/entities"

    const/16 v4, 0x4a39

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1484
    const-string v2, "com.android.contacts"

    const-string v3, "profile/data"

    const/16 v4, 0x4a3a

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1485
    const-string v2, "com.android.contacts"

    const-string v3, "profile/data/#"

    const/16 v4, 0x4a3b

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1486
    const-string v2, "com.android.contacts"

    const-string v3, "profile/photo"

    const/16 v4, 0x4a43

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1487
    const-string v2, "com.android.contacts"

    const-string v3, "profile/display_photo"

    const/16 v4, 0x4a44

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1488
    const-string v2, "com.android.contacts"

    const-string v3, "profile/as_vcard"

    const/16 v4, 0x4a3c

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1489
    const-string v2, "com.android.contacts"

    const-string v3, "profile/raw_contacts"

    const/16 v4, 0x4a3d

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1490
    const-string v2, "com.android.contacts"

    const-string v3, "profile/raw_contacts/#"

    const/16 v4, 0x4a3e

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1492
    const-string v2, "com.android.contacts"

    const-string v3, "profile/raw_contacts/#/data"

    const/16 v4, 0x4a3f

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1494
    const-string v2, "com.android.contacts"

    const-string v3, "profile/raw_contacts/#/entity"

    const/16 v4, 0x4a40

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1496
    const-string v2, "com.android.contacts"

    const-string v3, "profile/status_updates"

    const/16 v4, 0x4a41

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1498
    const-string v2, "com.android.contacts"

    const-string v3, "profile/raw_contact_entities"

    const/16 v4, 0x4a42

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1501
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items"

    invoke-virtual {v0, v2, v3, v10}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1502
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items/photo"

    const/16 v4, 0x5209

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1503
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items/#"

    const/16 v4, 0x520a

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1504
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items/#/photo"

    const/16 v4, 0x520b

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1505
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items/#/photo/#"

    const/16 v4, 0x520c

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1507
    const-string v2, "com.android.contacts"

    const-string v3, "stream_items_limit"

    const/16 v4, 0x520d

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1509
    const-string v2, "com.android.contacts"

    const-string v3, "display_photo/#"

    const/16 v4, 0x55f0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1510
    const-string v2, "com.android.contacts"

    const-string v3, "photo_dimensions"

    const/16 v4, 0x55f1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1512
    new-instance v1, Ljava/util/HashMap;

    invoke-direct {v1}, Ljava/util/HashMap;-><init>()V

    .line 1513
    .local v1, tmpTypeMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Integer;>;"
    const-string v2, "call"

    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1514
    const-string v2, "long_text"

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1516
    const-string v2, "short_text"

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1518
    invoke-static {v1}, Ljava/util/Collections;->unmodifiableMap(Ljava/util/Map;)Ljava/util/Map;

    move-result-object v2

    sput-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataUsageTypeMap:Ljava/util/Map;

    .line 1525
    const-string v2, "com.android.contacts"

    const-string v3, "pcsc_tracking"

    const v4, 0xc738

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1526
    const-string v2, "com.android.contacts"

    const-string v3, "pcscSyncInfo"

    const v4, 0xc739

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1530
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isMyPhoneBookEnabled()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 1531
    const-string v2, "com.android.contacts"

    const-string v3, "myphonebook_tracking"

    const v4, 0xcb20

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1535
    :cond_0
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isMyPhoneBookProfileEnabled()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1536
    const-string v2, "com.android.contacts"

    const-string v3, "myphonebook_profile_tracking"

    const v4, 0xcf08

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1540
    :cond_1
    const-string v2, "com.android.contacts"

    const-string v3, "csfriends"

    const v4, 0xd2f0

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1543
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isAABEnabled()Z

    move-result v2

    if-eqz v2, :cond_2

    .line 1544
    const-string v2, "com.android.contacts"

    const-string v3, "aab_tracking"

    const v4, 0xd6d8

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1545
    const-string v2, "com.android.contacts"

    const-string v3, "aabGroups_tracking"

    const v4, 0xd6d9

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1549
    :cond_2
    const-string v2, "com.android.contacts"

    const-string v3, "contacts/fixStructuredNameComponents"

    const v4, 0xd2f1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1552
    const-string v2, "com.android.contacts"

    const-string v3, "split_name"

    const v4, 0xd2f1

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1553
    const-string v2, "com.android.contacts"

    const-string v3, "split_main_name"

    const v4, 0xd2f2

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1554
    const-string v2, "com.android.contacts"

    const-string v3, "join_name"

    const v4, 0xd2f3

    invoke-virtual {v0, v2, v3, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1557
    return-void
.end method

.method public constructor <init>()V
    .locals 6

    .prologue
    const-wide/16 v4, 0x0

    const/4 v3, 0x1

    const/4 v2, 0x0

    .line 197
    invoke-direct {p0}, Lcom/android/providers/contacts/AbstractContactsProvider;-><init>()V

    .line 237
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    .line 1322
    new-instance v0, Lcom/android/providers/contacts/NameSplitter$Name;

    invoke-direct {v0}, Lcom/android/providers/contacts/NameSplitter$Name;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mName:Lcom/android/providers/contacts/NameSplitter$Name;

    .line 1323
    new-instance v0, Landroid/database/CharArrayBuffer;

    const/16 v1, 0x80

    invoke-direct {v0, v1}, Landroid/database/CharArrayBuffer;-><init>(I)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCharArrayBuffer:Landroid/database/CharArrayBuffer;

    .line 1329
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    .line 1330
    new-array v0, v3, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    .line 1331
    const/4 v0, 0x2

    new-array v0, v0, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    .line 1332
    invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    .line 1568
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    .line 1569
    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 1591
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    .line 1628
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    .line 1636
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionHolder:Ljava/lang/ThreadLocal;

    .line 1641
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    .line 1652
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    .line 1659
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    .line 1665
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    .line 1672
    new-instance v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-direct {v0, v2}, Lcom/android/providers/contacts/TransactionContext;-><init>(Z)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    .line 1673
    new-instance v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-direct {v0, v3}, Lcom/android/providers/contacts/TransactionContext;-><init>(Z)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    .line 1674
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    .line 1681
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    .line 1684
    new-instance v0, Ljava/security/SecureRandom;

    invoke-direct {v0}, Ljava/security/SecureRandom;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mRandom:Ljava/security/SecureRandom;

    .line 1691
    new-instance v0, Landroid/content/ContentValues;

    invoke-direct {v0}, Landroid/content/ContentValues;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    .line 1693
    new-instance v0, Landroid/content/ContentValues;

    invoke-direct {v0}, Landroid/content/ContentValues;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLocalDataValues:Landroid/content/ContentValues;

    .line 1695
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    .line 1697
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadOnlyAccoutTypes:Ljava/util/ArrayList;

    .line 1700
    iput v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 1703
    iput-wide v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mEstimatedStorageRequirement:J

    .line 1707
    iput-boolean v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mOkToOpenAccess:Z

    .line 1709
    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 1722
    iput-wide v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    .line 1724
    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsCreateReady:Z

    .line 2928
    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTestSyncToNetwork:Z

    .line 10264
    return-void
.end method

.method static synthetic access$200(Lcom/android/providers/contacts/ContactsProvider2;)Lcom/android/providers/contacts/CommonNicknameCache;
    .locals 1
    .parameter "x0"

    .prologue
    .line 197
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/CommonNicknameCache;

    return-object v0
.end method

.method private addAutoAddMembership(J)V
    .locals 3
    .parameter "rawContactId"

    .prologue
    .line 3304
    const-string v1, "raw_contacts._id=? AND groups.account_name=raw_contacts.account_name AND groups.account_type=raw_contacts.account_type AND (groups.data_set=raw_contacts.data_set OR groups.data_set IS NULL AND raw_contacts.data_set IS NULL) AND auto_add != 0"

    invoke-direct {p0, v1, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;

    move-result-object v0

    .line 3306
    .local v0, groupId:Ljava/lang/Long;
    if-eqz v0, :cond_0

    .line 3307
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 3309
    :cond_0
    return-void
.end method

.method private appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V
    .locals 5
    .parameter "sb"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/lang/StringBuilder;",
            "Ljava/util/Set",
            "<",
            "Ljava/lang/Long;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 2911
    .local p2, ids:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {p2}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v0

    .local v0, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v0}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-interface {v0}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    .line 2912
    .local v1, id:J
    invoke-virtual {p1, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const/16 v4, 0x2c

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    goto :goto_0

    .line 2915
    .end local v1           #id:J
    :cond_0
    invoke-virtual {p1}, Ljava/lang/StringBuilder;->length()I

    move-result v3

    add-int/lit8 v3, v3, -0x1

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2916
    return-void
.end method

.method private buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;
    .locals 5
    .parameter "stream"

    .prologue
    .line 9259
    :try_start_0
    invoke-virtual {p1}, Ljava/io/ByteArrayOutputStream;->flush()V

    .line 9261
    invoke-virtual {p1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B

    move-result-object v0

    .line 9263
    .local v0, byteData:[B
    const-string v2, "contactAssetFile"

    invoke-static {v0, v2}, Landroid/os/ParcelFileDescriptor;->fromData([BLjava/lang/String;)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    array-length v3, v0

    int-to-long v3, v3

    invoke-direct {p0, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    .line 9268
    .end local v0           #byteData:[B
    :goto_0
    return-object v2

    .line 9266
    :catch_0
    move-exception v1

    .line 9267
    .local v1, e:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Problem writing stream into an ParcelFileDescriptor: "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v1}, Ljava/io/IOException;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 9268
    const/4 v2, 0x0

    goto :goto_0
.end method

.method private changeLocaleInBackground()V
    .locals 3

    .prologue
    .line 2160
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2161
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 2162
    .local v1, profileDb:Landroid/database/sqlite/SQLiteDatabase;
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 2163
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 2165
    :try_start_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initForDefaultLocale()V

    .line 2166
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V

    .line 2167
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 2169
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2170
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2173
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateLocaleInBackground()V

    .line 2174
    return-void

    .line 2169
    :catchall_0
    move-exception v2

    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2170
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v2
.end method

.method private cleanUpOldStreamItems(JJ)J
    .locals 14
    .parameter "rawContactId"
    .parameter "insertedStreamItemId"

    .prologue
    .line 3808
    move-wide/from16 v9, p3

    .line 3809
    .local v9, postCleanupInsertedStreamId:J
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "stream_items"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "_id"

    aput-object v4, v2, v3

    const-string v3, "raw_contact_id=?"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x0

    const/4 v6, 0x0

    const-string v7, "timestamp DESC, _id DESC"

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3813
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v11

    .line 3814
    .local v11, streamItemCount:I
    const/4 v0, 0x5

    if-gt v11, v0, :cond_0

    .line 3830
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3832
    .end local p3
    :goto_0
    return-wide p3

    .line 3818
    .restart local p3
    :cond_0
    :try_start_1
    invoke-interface {v8}, Landroid/database/Cursor;->moveToLast()Z

    .line 3819
    :goto_1
    invoke-interface {v8}, Landroid/database/Cursor;->getPosition()I

    move-result v0

    const/4 v1, 0x5

    if-lt v0, v1, :cond_2

    .line 3820
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v12

    .line 3821
    .local v12, streamItemId:J
    cmp-long v0, p3, v12

    if-nez v0, :cond_1

    .line 3823
    const-wide/16 v9, 0x0

    .line 3825
    :cond_1
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v0

    invoke-direct {p0, v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(J)I

    .line 3826
    invoke-interface {v8}, Landroid/database/Cursor;->moveToPrevious()Z
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_1

    .line 3830
    .end local v11           #streamItemCount:I
    .end local v12           #streamItemId:J
    :catchall_0
    move-exception v0

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v0

    .restart local v11       #streamItemCount:I
    :cond_2
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    move-wide/from16 p3, v9

    .line 3832
    goto :goto_0
.end method

.method private completeName(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;
    .locals 8
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 9754
    if-nez p2, :cond_0

    .line 9755
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object p2

    .line 9758
    :cond_0
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    .line 9759
    .local v4, values:Landroid/content/ContentValues;
    const-string v5, "vnd.android.cursor.item/name"

    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;

    .line 9762
    .local v1, handler:Lcom/android/providers/contacts/DataRowHandlerForStructuredName;
    const/16 v5, 0xa

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "data1"

    aput-object v7, v5, v6

    const/4 v6, 0x1

    const-string v7, "data4"

    aput-object v7, v5, v6

    const/4 v6, 0x2

    const-string v7, "data2"

    aput-object v7, v5, v6

    const/4 v6, 0x3

    const-string v7, "data5"

    aput-object v7, v5, v6

    const/4 v6, 0x4

    const-string v7, "data3"

    aput-object v7, v5, v6

    const/4 v6, 0x5

    const-string v7, "data6"

    aput-object v7, v5, v6

    const/4 v6, 0x6

    const-string v7, "phonetic_name"

    aput-object v7, v5, v6

    const/4 v6, 0x7

    const-string v7, "data9"

    aput-object v7, v5, v6

    const/16 v6, 0x8

    const-string v7, "data8"

    aput-object v7, v5, v6

    const/16 v6, 0x9

    const-string v7, "data7"

    aput-object v7, v5, v6

    invoke-direct {p0, v4, p1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->copyQueryParamsToContentValues(Landroid/content/ContentValues;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 9775
    invoke-virtual {v1, v4, v4}, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;->fixStructuredNameComponents(Landroid/content/ContentValues;Landroid/content/ContentValues;)V

    .line 9777
    new-instance v0, Landroid/database/MatrixCursor;

    invoke-direct {v0, p2}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 9778
    .local v0, cursor:Landroid/database/MatrixCursor;
    array-length v5, p2

    new-array v3, v5, [Ljava/lang/Object;

    .line 9779
    .local v3, row:[Ljava/lang/Object;
    const/4 v2, 0x0

    .local v2, i:I
    :goto_0
    array-length v5, p2

    if-ge v2, v5, :cond_1

    .line 9780
    aget-object v5, p2, v2

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v3, v2

    .line 9779
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 9782
    :cond_1
    invoke-virtual {v0, v3}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    .line 9783
    return-object v0
.end method

.method private varargs copyQueryParamsToContentValues(Landroid/content/ContentValues;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 5
    .parameter "values"
    .parameter "uri"
    .parameter "columns"

    .prologue
    .line 9787
    move-object v0, p3

    .local v0, arr$:[Ljava/lang/String;
    array-length v3, v0

    .local v3, len$:I
    const/4 v2, 0x0

    .local v2, i$:I
    :goto_0
    if-ge v2, v3, :cond_1

    aget-object v1, v0, v2

    .line 9788
    .local v1, column:Ljava/lang/String;
    invoke-virtual {p2, v1}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    .line 9789
    .local v4, param:Ljava/lang/String;
    if-eqz v4, :cond_0

    .line 9790
    invoke-virtual {p1, v1, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 9787
    :cond_0
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 9793
    .end local v1           #column:Ljava/lang/String;
    .end local v4           #param:Ljava/lang/String;
    :cond_1
    return-void
.end method

.method private deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 12
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3839
    const/4 v7, 0x0

    .line 3843
    .local v7, count:I
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v0

    if-eqz v0, :cond_1

    sget-object v0, Landroid/provider/ContactsContract$Profile;->CONTENT_URI:Landroid/net/Uri;

    const-string v2, "data"

    invoke-static {v0, v2}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v1

    .line 3846
    .local v1, dataUri:Landroid/net/Uri;
    :goto_0
    sget-object v2, Lcom/android/providers/contacts/DataRowHandler$DataDeleteQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v5, 0x0

    move-object v0, p0

    move-object v3, p1

    move-object v4, p2

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 3849
    .local v6, c:Landroid/database/Cursor;
    :cond_0
    :goto_1
    :try_start_0
    invoke-interface {v6}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 3850
    const/4 v0, 0x2

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 3851
    .local v9, rawContactId:J
    const/4 v0, 0x1

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v8

    .line 3852
    .local v8, mimeType:Ljava/lang/String;
    invoke-virtual {p0, v8}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v11

    .line 3853
    .local v11, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v11, v0, v2, v6}, Lcom/android/providers/contacts/DataRowHandler;->delete(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/database/Cursor;)I

    move-result v0

    add-int/2addr v7, v0

    .line 3854
    if-nez p3, :cond_0

    .line 3855
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v9, v10}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 3859
    .end local v8           #mimeType:Ljava/lang/String;
    .end local v9           #rawContactId:J
    .end local v11           #rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    throw v0

    .line 3843
    .end local v1           #dataUri:Landroid/net/Uri;
    .end local v6           #c:Landroid/database/Cursor;
    :cond_1
    sget-object v1, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    goto :goto_0

    .line 3859
    .restart local v1       #dataUri:Landroid/net/Uri;
    .restart local v6       #c:Landroid/database/Cursor;
    :cond_2
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 3862
    return v7
.end method

.method private deleteDataGroupMembership(JJ)V
    .locals 5
    .parameter "rawContactId"
    .parameter "groupId"

    .prologue
    .line 3349
    const/4 v1, 0x3

    new-array v0, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v1, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v3

    invoke-static {v3, v4}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v1

    aput-object v1, v0, v2

    const/4 v1, 0x1

    invoke-static {p3, p4}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v0, v1

    const/4 v1, 0x2

    invoke-static {p1, p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v0, v1

    .line 3353
    .local v0, selectionArgs:[Ljava/lang/String;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "data"

    const-string v3, "mimetype_id=? AND data1=? AND raw_contact_id=?"

    invoke-virtual {v1, v2, v3, v0}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 3354
    return-void
.end method

.method private deleteSettings(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4660
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "settings"

    invoke-virtual {v1, v2, p2, p3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    .line 4661
    .local v0, count:I
    const/4 v1, 0x1

    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 4662
    return v0
.end method

.method private deleteStatusUpdates(Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4830
    sget-boolean v0, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v0, :cond_0

    .line 4831
    const-string v0, "ContactsProvider"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "deleting data from status_updates for "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 4833
    :cond_0
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "status_updates"

    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2, p2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4835
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "presence"

    invoke-virtual {v0, v1, p1, p2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    return v0
.end method

.method private deleteStreamItem(J)I
    .locals 6
    .parameter "streamItemId"

    .prologue
    .line 4857
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(J)I

    .line 4858
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "stream_items"

    const-string v2, "_id=?"

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    return v0
.end method

.method private deleteStreamItemPhotos(J)I
    .locals 6
    .parameter "streamItemId"

    .prologue
    .line 4875
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "stream_item_photos"

    const-string v2, "stream_item_id=?"

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    return v0
.end method

.method private deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4866
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 4867
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, p3, p4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccountForStreamItemPhotos(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;

    .line 4870
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "stream_item_photos"

    invoke-virtual {v1, v2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 6
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4842
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 4843
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, p3, p4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccountForStreamItems(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;

    move-result-object v4

    .line 4847
    .local v4, streamItemIds:Ljava/util/List;,"Ljava/util/List<Ljava/lang/Long;>;"
    invoke-interface {v4}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v1

    .local v1, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z

    move-result v5

    if-eqz v5, :cond_0

    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/Long;

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    .line 4848
    .local v2, streamItemId:J
    invoke-direct {p0, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(J)I

    goto :goto_0

    .line 4851
    .end local v2           #streamItemId:J
    :cond_0
    const/4 v5, 0x1

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 4852
    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v5

    return v5
.end method

.method private enforceModifyingAccount(Landroid/accounts/Account;J)V
    .locals 15
    .parameter "account"
    .parameter "rawContactId"

    .prologue
    .line 3708
    const-string v5, "raw_contacts._id=? AND raw_contacts.account_name=? AND raw_contacts.account_type=?"

    .line 3711
    .local v5, accountSelection:Ljava/lang/String;
    const-string v9, "raw_contacts._id=? AND raw_contacts.account_name IS NULL AND raw_contacts.account_type IS NULL"

    .line 3715
    .local v9, noAccountSelection:Ljava/lang/String;
    if-eqz p1, :cond_0

    .line 3716
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "raw_contacts"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "raw_contacts._id"

    aput-object v7, v4, v6

    const/4 v6, 0x3

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    invoke-static/range {p2 .. p3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v6, v7

    const/4 v7, 0x1

    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v8, v8, Landroid/accounts/Account;->name:Ljava/lang/String;

    aput-object v8, v6, v7

    const/4 v7, 0x2

    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v8, v8, Landroid/accounts/Account;->type:Ljava/lang/String;

    aput-object v8, v6, v7

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    .end local v9           #noAccountSelection:Ljava/lang/String;
    move-result-object v14

    .line 3727
    .local v14, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v14}, Landroid/database/Cursor;->getCount()I

    move-result v2

    if-nez v2, :cond_1

    .line 3728
    new-instance v2, Ljava/lang/SecurityException;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Caller account does not match raw contact ID "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide/from16 v0, p2

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v2, v3}, Ljava/lang/SecurityException;-><init>(Ljava/lang/String;)V

    throw v2
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 3732
    :catchall_0
    move-exception v2

    invoke-interface {v14}, Landroid/database/Cursor;->close()V

    throw v2

    .line 3721
    .end local v14           #c:Landroid/database/Cursor;
    .restart local v9       #noAccountSelection:Ljava/lang/String;
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const-string v7, "raw_contacts"

    const/4 v2, 0x1

    new-array v8, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "raw_contacts._id"

    aput-object v3, v8, v2

    const/4 v2, 0x1

    new-array v10, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static/range {p2 .. p3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v10, v2

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/4 v13, 0x0

    invoke-virtual/range {v6 .. v13}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v14

    .restart local v14       #c:Landroid/database/Cursor;
    goto :goto_0

    .line 3732
    .end local v9           #noAccountSelection:Ljava/lang/String;
    :cond_1
    invoke-interface {v14}, Landroid/database/Cursor;->close()V

    .line 3734
    return-void
.end method

.method private enforceModifyingAccountForStreamItemPhotos(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;
    .locals 10
    .parameter "account"
    .parameter "selection"
    .parameter "selectionArgs"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/accounts/Account;",
            "Ljava/lang/String;",
            "[",
            "Ljava/lang/String;",
            ")",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation

    .prologue
    const/4 v6, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    .line 3777
    invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;

    move-result-object v9

    .line 3778
    .local v9, streamItemPhotoIds:Ljava/util/List;,"Ljava/util/List<Ljava/lang/Long;>;"
    new-instance v0, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v0}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 3779
    .local v0, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 3780
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v4

    const-string v3, "raw_contact_id"

    aput-object v3, v2, v6

    move-object v3, p2

    move-object v4, p3

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3784
    .local v8, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 3785
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-interface {v9, v1}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 3788
    const/4 v1, 0x1

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-direct {p0, p1, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccount(Landroid/accounts/Account;J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 3791
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3793
    return-object v9
.end method

.method private enforceModifyingAccountForStreamItems(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;
    .locals 10
    .parameter "account"
    .parameter "selection"
    .parameter "selectionArgs"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/accounts/Account;",
            "Ljava/lang/String;",
            "[",
            "Ljava/lang/String;",
            ")",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation

    .prologue
    const/4 v6, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    .line 3747
    invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;

    move-result-object v9

    .line 3748
    .local v9, streamItemIds:Ljava/util/List;,"Ljava/util/List<Ljava/lang/Long;>;"
    new-instance v0, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v0}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 3749
    .local v0, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 3750
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v4

    const-string v3, "raw_contact_id"

    aput-object v3, v2, v6

    move-object v3, p2

    move-object v4, p3

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3754
    .local v8, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 3755
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-interface {v9, v1}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 3758
    const/4 v1, 0x1

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-direct {p0, p1, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccount(Landroid/accounts/Account;J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 3761
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3763
    return-object v9
.end method

.method private enforceSocialStreamReadPermission(Landroid/net/Uri;)V
    .locals 3
    .parameter "uri"

    .prologue
    .line 3679
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v1

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-interface {v0, v1}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->isValidPreAuthorizedUri(Landroid/net/Uri;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 3681
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    const-string v1, "android.permission.READ_SOCIAL_STREAM"

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V

    .line 3684
    :cond_0
    return-void
.end method

.method private enforceSocialStreamWritePermission(Landroid/net/Uri;)V
    .locals 3
    .parameter "uri"

    .prologue
    .line 3692
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v1

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-interface {v0, v1}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3693
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    const-string v1, "android.permission.WRITE_SOCIAL_STREAM"

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V

    .line 3696
    :cond_0
    return-void
.end method

.method private final ensureAccountContactsWhenAccountUpdate()Z
    .locals 1

    .prologue
    .line 10251
    const/4 v0, 0x1

    return v0
.end method

.method private findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;
    .locals 9
    .parameter "selection"
    .parameter "rawContactId"

    .prologue
    const/4 v6, 0x0

    const/4 v5, 0x0

    .line 3312
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "groups,raw_contacts"

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->PROJECTION_GROUP_ID:[Ljava/lang/String;

    const/4 v3, 0x1

    new-array v4, v3, [Ljava/lang/String;

    invoke-static {p2, p3}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v4, v6

    move-object v3, p1

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3317
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3318
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v0

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v5

    .line 3322
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    :goto_0
    return-object v5

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    goto :goto_0

    :catchall_0
    move-exception v0

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private findValidAccountsWithDataSets(Ljava/lang/String;)Ljava/util/Set;
    .locals 6
    .parameter "table"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/lang/String;",
            ")",
            "Ljava/util/Set",
            "<",
            "Lcom/android/providers/contacts/AccountWithDataSet;",
            ">;"
        }
    .end annotation

    .prologue
    .line 6478
    new-instance v0, Ljava/util/HashSet;

    invoke-direct {v0}, Ljava/util/HashSet;-><init>()V

    .line 6479
    .local v0, accountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "SELECT DISTINCT account_name,account_type,data_set FROM "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x0

    invoke-virtual {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v1

    .line 6484
    .local v1, c:Landroid/database/Cursor;
    :cond_0
    :goto_0
    :try_start_0
    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 6485
    const/4 v2, 0x0

    invoke-interface {v1, v2}, Landroid/database/Cursor;->isNull(I)Z

    move-result v2

    if-nez v2, :cond_0

    const/4 v2, 0x1

    invoke-interface {v1, v2}, Landroid/database/Cursor;->isNull(I)Z

    move-result v2

    if-nez v2, :cond_0

    .line 6486
    new-instance v2, Lcom/android/providers/contacts/AccountWithDataSet;

    const/4 v3, 0x0

    invoke-interface {v1, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x1

    invoke-interface {v1, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x2

    invoke-interface {v1, v5}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v2, v3, v4, v5}, Lcom/android/providers/contacts/AccountWithDataSet;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    invoke-interface {v0, v2}, Ljava/util/Set;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 6491
    :catchall_0
    move-exception v2

    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    throw v2

    :cond_1
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    .line 6493
    return-object v0
.end method

.method private fixSuperPrimaryOfContactDataByUpdate(Landroid/database/sqlite/SQLiteDatabase;J)V
    .locals 20
    .parameter "db"
    .parameter "rawContactId"
    .annotation runtime Ljava/lang/Deprecated;
    .end annotation

    .prologue
    .line 10041
    const/4 v3, 0x2

    new-array v0, v3, [Ljava/lang/String;

    move-object/from16 v19, v0

    const/4 v3, 0x0

    const-string v4, "vnd.android.cursor.item/phone_v2"

    aput-object v4, v19, v3

    const/4 v3, 0x1

    const-string v4, "vnd.android.cursor.item/email_v2"

    aput-object v4, v19, v3

    .line 10046
    .local v19, mimetypes:[Ljava/lang/String;
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "  SELECT  contact_id  FROM raw_contacts WHERE _id = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide/from16 v0, p2

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x0

    move-object/from16 v0, p1

    invoke-virtual {v0, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 10047
    .local v10, c:Landroid/database/Cursor;
    const-wide/16 v11, -0x1

    .line 10049
    .local v11, contactId:J
    if-eqz v10, :cond_0

    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 10050
    const/4 v3, 0x0

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v11

    .line 10053
    :cond_0
    if-eqz v10, :cond_1

    .line 10054
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 10057
    :cond_1
    const-wide/16 v3, 0x0

    cmp-long v3, v11, v3

    if-gtz v3, :cond_4

    .line 10075
    :cond_2
    return-void

    .line 10053
    :catchall_0
    move-exception v3

    if-eqz v10, :cond_3

    .line 10054
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    :cond_3
    throw v3

    .line 10060
    :cond_4
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 10062
    .local v2, dataHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    move-object/from16 v9, v19

    .local v9, arr$:[Ljava/lang/String;
    array-length v0, v9

    move/from16 v17, v0

    .local v17, len$:I
    const/16 v16, 0x0

    .local v16, i$:I
    :goto_0
    move/from16 v0, v16

    move/from16 v1, v17

    if-ge v0, v1, :cond_2

    aget-object v18, v9, v16

    .line 10063
    .local v18, mimetype:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v15

    .line 10064
    .local v15, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-eqz v15, :cond_6

    .line 10065
    invoke-virtual {v15}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v3

    move-wide/from16 v0, p2

    invoke-virtual {v2, v0, v1, v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getDataSuperPrimaryCountByRawContactAndMimeType(JJ)J

    move-result-wide v13

    .line 10066
    .local v13, counts:J
    const-wide/16 v3, 0x0

    cmp-long v3, v13, v3

    if-eqz v3, :cond_5

    const-wide/16 v3, 0x1

    cmp-long v3, v13, v3

    if-lez v3, :cond_6

    .line 10067
    :cond_5
    const-wide/16 v3, 0x0

    cmp-long v3, v13, v3

    if-nez v3, :cond_7

    const/4 v3, 0x1

    :goto_1
    move-object/from16 v0, p1

    invoke-virtual {v15, v0, v11, v12, v3}, Lcom/android/providers/contacts/DataRowHandler;->fixNewSuperPrimaryDataIfNoSuperPrimary2(Landroid/database/sqlite/SQLiteDatabase;JZ)J

    move-result-wide v5

    .line 10068
    .local v5, primaryId:J
    const-wide/16 v3, 0x0

    cmp-long v3, v5, v3

    if-lez v3, :cond_6

    .line 10069
    invoke-virtual {v15}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v7

    move-wide/from16 v3, p2

    invoke-virtual/range {v2 .. v8}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setIsPrimary(JJJ)V

    .line 10070
    invoke-virtual {v15}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v7

    move-wide/from16 v3, p2

    invoke-virtual/range {v2 .. v8}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setIsSuperPrimary(JJJ)V

    .line 10062
    .end local v5           #primaryId:J
    .end local v13           #counts:J
    :cond_6
    add-int/lit8 v16, v16, 0x1

    goto :goto_0

    .line 10067
    .restart local v13       #counts:J
    :cond_7
    const/4 v3, 0x0

    goto :goto_1
.end method

.method private flushTransactionalChanges()V
    .locals 24

    .prologue
    .line 2809
    sget-boolean v21, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v21, :cond_0

    .line 2810
    const-string v21, "ContactsProvider"

    const-string v22, "flushTransactionChanges"

    invoke-static/range {v21 .. v22}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2814
    :cond_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Lcom/android/providers/contacts/TransactionContext;

    .line 2815
    .local v18, transactionContext:Lcom/android/providers/contacts/TransactionContext;
    if-nez v18, :cond_1

    .line 2817
    :try_start_0
    new-instance v21, Ljava/lang/RuntimeException;

    const-string v22, "The operation list could be null"

    invoke-direct/range {v21 .. v22}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
    :try_end_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 2904
    :goto_0
    return-void

    .line 2818
    :catch_0
    move-exception v8

    .line 2819
    .local v8, e:Ljava/lang/RuntimeException;
    const-string v21, "ContactsProvider"

    const-string v22, ""

    move-object/from16 v0, v21

    move-object/from16 v1, v22

    invoke-static {v0, v1, v8}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto :goto_0

    .line 2824
    .end local v8           #e:Ljava/lang/RuntimeException;
    :cond_1
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->getInsertedRawContactIds()Ljava/util/Set;

    move-result-object v21

    invoke-interface/range {v21 .. v21}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v10

    .local v10, i$:Ljava/util/Iterator;
    :cond_2
    :goto_1
    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z

    move-result v21

    if-eqz v21, :cond_3

    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/Long;

    invoke-virtual/range {v21 .. v21}, Ljava/lang/Long;->longValue()J

    move-result-wide v14

    .line 2825
    .local v14, rawContactId:J
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v22, v0

    invoke-virtual/range {v22 .. v22}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v22

    check-cast v22, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, v21

    move-object/from16 v1, v22

    invoke-virtual {v0, v1, v14, v15}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateRawContactDisplayName(Landroid/database/sqlite/SQLiteDatabase;J)Ljava/lang/String;

    move-result-object v7

    .line 2830
    .local v7, displayNamePrimary:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v22, v0

    invoke-virtual/range {v22 .. v22}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v22

    check-cast v22, Lcom/android/providers/contacts/TransactionContext;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v23, v0

    invoke-virtual/range {v23 .. v23}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v23

    check-cast v23, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, v21

    move-object/from16 v1, v22

    move-object/from16 v2, v23

    invoke-virtual {v0, v1, v2, v14, v15}, Lcom/android/providers/contacts/ContactAggregator;->onRawContactInsert(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)J

    move-result-wide v4

    .line 2839
    .local v4, contactId:J
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isAABEnabled()Z

    move-result v21

    if-eqz v21, :cond_2

    .line 2841
    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1, v7}, Lcom/android/providers/contacts/ContactsProvider2;->updateSourceID_ForAAB(Ljava/lang/Long;Ljava/lang/String;)V

    goto :goto_1

    .line 2847
    .end local v4           #contactId:J
    .end local v7           #displayNamePrimary:Ljava/lang/String;
    .end local v14           #rawContactId:J
    :cond_3
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->getDirtyRawContactIds()Ljava/util/Set;

    move-result-object v6

    .line 2848
    .local v6, dirtyRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {v6}, Ljava/util/Set;->isEmpty()Z

    move-result v21

    if-nez v21, :cond_4

    .line 2849
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const/16 v22, 0x0

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2850
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const-string v22, "UPDATE raw_contacts SET dirty=1 WHERE _id IN ("

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2851
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V

    .line 2852
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const-string v22, ")"

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2853
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v22, v0

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    invoke-virtual/range {v21 .. v22}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 2870
    :cond_4
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->getNeedFixPrimaryDisableAggregationContactIds()Ljava/util/Set;

    move-result-object v21

    invoke-interface/range {v21 .. v21}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v13

    .line 2871
    .local v13, iter:Ljava/util/Iterator;,"Ljava/util/Iterator<Ljava/lang/Long;>;"
    :cond_5
    :goto_2
    invoke-interface {v13}, Ljava/util/Iterator;->hasNext()Z

    move-result v21

    if-eqz v21, :cond_6

    .line 2872
    invoke-interface {v13}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Ljava/lang/Long;

    .line 2873
    .local v20, value:Ljava/lang/Long;
    if-eqz v20, :cond_5

    .line 2874
    invoke-virtual/range {v20 .. v20}, Ljava/lang/Long;->longValue()J

    move-result-wide v16

    .line 2876
    .local v16, rawId:J
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    move-wide/from16 v2, v16

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->fixSuperPrimaryOfContactDataByUpdate(Landroid/database/sqlite/SQLiteDatabase;J)V

    goto :goto_2

    .line 2885
    .end local v16           #rawId:J
    .end local v20           #value:Ljava/lang/Long;
    :cond_6
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->getUpdatedRawContactIds()Ljava/util/Set;

    move-result-object v19

    .line 2886
    .local v19, updatedRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface/range {v19 .. v19}, Ljava/util/Set;->isEmpty()Z

    move-result v21

    if-nez v21, :cond_7

    .line 2887
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const/16 v22, 0x0

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2888
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const-string v22, "UPDATE raw_contacts SET version = version + 1 WHERE _id IN ("

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2889
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    move-object/from16 v2, v19

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V

    .line 2890
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v21, v0

    const-string v22, ")"

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2891
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    move-object/from16 v22, v0

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    invoke-virtual/range {v21 .. v22}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 2895
    :cond_7
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->getUpdatedSyncStates()Ljava/util/Set;

    move-result-object v21

    invoke-interface/range {v21 .. v21}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v10

    :cond_8
    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z

    move-result v21

    if-eqz v21, :cond_9

    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Ljava/util/Map$Entry;

    .line 2896
    .local v9, entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/Long;Ljava/lang/Object;>;"
    invoke-interface {v9}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/Long;

    invoke-virtual/range {v21 .. v21}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    .line 2897
    .local v11, id:J
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v22

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Landroid/database/sqlite/SQLiteDatabase;

    invoke-interface {v9}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v23

    move-object/from16 v0, v22

    move-object/from16 v1, v21

    move-object/from16 v2, v23

    invoke-virtual {v0, v1, v11, v12, v2}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;JLjava/lang/Object;)I

    move-result v21

    if-gtz v21, :cond_8

    .line 2898
    new-instance v21, Ljava/lang/IllegalStateException;

    const-string v22, "unable to update sync state, does it still exist?"

    invoke-direct/range {v21 .. v22}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V

    throw v21

    .line 2903
    .end local v9           #entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/Long;Ljava/lang/Object;>;"
    .end local v11           #id:J
    :cond_9
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual/range {v21 .. v21}, Lcom/android/providers/contacts/TransactionContext;->clear()V

    goto/16 :goto_0
.end method

.method private getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;
    .locals 4
    .parameter "uri"

    .prologue
    .line 10557
    const-string v3, "name_for_primary_account"

    invoke-virtual {p1, v3}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 10559
    .local v0, primaryAccountName:Ljava/lang/String;
    const-string v3, "type_for_primary_account"

    invoke-virtual {p1, v3}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 10563
    .local v1, primaryAccountType:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_1

    .line 10564
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    .line 10565
    .local v2, sb:Ljava/lang/StringBuilder;
    const-string v3, "(CASE WHEN account_name="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10566
    invoke-static {v2, v0}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 10567
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 10568
    const-string v3, " AND account_type="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10569
    invoke-static {v2, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 10571
    :cond_0
    const-string v3, " THEN 0 ELSE 1 END)"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10572
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    .line 10574
    .end local v2           #sb:Ljava/lang/StringBuilder;
    :goto_0
    return-object v3

    :cond_1
    const/4 v3, 0x0

    goto :goto_0
.end method

.method private getDirectoryAuthority(Ljava/lang/String;)Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    .locals 12
    .parameter "directoryId"

    .prologue
    .line 6669
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    monitor-enter v11

    .line 6670
    :try_start_0
    iget-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    if-nez v1, :cond_1

    .line 6671
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1}, Ljava/util/HashMap;->clear()V

    .line 6672
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 6673
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "directories"

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2$DirectoryQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    move-result-object v8

    .line 6677
    .local v8, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_1
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 6678
    new-instance v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    const/4 v1, 0x0

    invoke-direct {v10, v1}, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;-><init>(Lcom/android/providers/contacts/ContactsProvider2$1;)V

    .line 6679
    .local v10, info:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v9

    .line 6680
    .local v9, id:Ljava/lang/String;
    const/4 v1, 0x1

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->authority:Ljava/lang/String;

    .line 6681
    const/4 v1, 0x2

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    .line 6682
    const/4 v1, 0x3

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    .line 6683
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1, v9, v10}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_0

    .line 6686
    .end local v9           #id:Ljava/lang/String;
    .end local v10           #info:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    :catchall_0
    move-exception v1

    :try_start_2
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    .line 6692
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v8           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v1

    monitor-exit v11
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    throw v1

    .line 6686
    .restart local v0       #db:Landroid/database/sqlite/SQLiteDatabase;
    .restart local v8       #cursor:Landroid/database/Cursor;
    :cond_0
    :try_start_3
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 6688
    const/4 v1, 0x1

    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 6691
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v8           #cursor:Landroid/database/Cursor;
    :cond_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    monitor-exit v11
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    return-object v1
.end method

.method static getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;
    .locals 12
    .parameter "uri"
    .parameter "parameter"

    .prologue
    const/16 v11, 0x26

    const/4 v10, -0x1

    const/4 v7, 0x0

    .line 9915
    invoke-virtual {p0}, Landroid/net/Uri;->getEncodedQuery()Ljava/lang/String;

    move-result-object v4

    .line 9916
    .local v4, query:Ljava/lang/String;
    if-nez v4, :cond_1

    .line 9961
    :cond_0
    :goto_0
    return-object v7

    .line 9920
    :cond_1
    invoke-virtual {v4}, Ljava/lang/String;->length()I

    move-result v5

    .line 9921
    .local v5, queryLength:I
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v2

    .line 9924
    .local v2, parameterLength:I
    const/4 v1, 0x0

    .line 9926
    .local v1, index:I
    :cond_2
    :goto_1
    invoke-virtual {v4, p1, v1}, Ljava/lang/String;->indexOf(Ljava/lang/String;I)I

    move-result v1

    .line 9927
    if-eq v1, v10, :cond_0

    .line 9933
    if-lez v1, :cond_3

    .line 9934
    add-int/lit8 v8, v1, -0x1

    invoke-virtual {v4, v8}, Ljava/lang/String;->charAt(I)C

    move-result v3

    .line 9935
    .local v3, prevChar:C
    const/16 v8, 0x3f

    if-eq v3, v8, :cond_3

    if-eq v3, v11, :cond_3

    .line 9937
    add-int/2addr v1, v2

    .line 9938
    goto :goto_1

    .line 9942
    .end local v3           #prevChar:C
    :cond_3
    add-int/2addr v1, v2

    .line 9944
    if-eq v5, v1, :cond_0

    .line 9948
    invoke-virtual {v4, v1}, Ljava/lang/String;->charAt(I)C

    move-result v8

    const/16 v9, 0x3d

    if-ne v8, v9, :cond_2

    .line 9949
    add-int/lit8 v1, v1, 0x1

    .line 9954
    invoke-virtual {v4, v11, v1}, Ljava/lang/String;->indexOf(II)I

    move-result v0

    .line 9955
    .local v0, ampIndex:I
    if-ne v0, v10, :cond_4

    .line 9956
    invoke-virtual {v4, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v6

    .line 9961
    .local v6, value:Ljava/lang/String;
    :goto_2
    invoke-static {v6}, Landroid/net/Uri;->decode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    goto :goto_0

    .line 9958
    .end local v6           #value:Ljava/lang/String;
    :cond_4
    invoke-virtual {v4, v1, v0}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v6

    .restart local v6       #value:Ljava/lang/String;
    goto :goto_2
.end method

.method private getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;
    .locals 7
    .parameter "resources"
    .parameter "expectedType"
    .parameter "resourceId"

    .prologue
    const/4 v3, 0x0

    .line 4318
    if-eqz p3, :cond_0

    :try_start_0
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-nez v4, :cond_2

    :cond_0
    move-object v1, v3

    .line 4331
    :cond_1
    :goto_0
    return-object v1

    .line 4321
    :cond_2
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    invoke-virtual {p1, v4}, Landroid/content/res/Resources;->getResourceEntryName(I)Ljava/lang/String;

    move-result-object v1

    .line 4322
    .local v1, resourceEntryName:Ljava/lang/String;
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    invoke-virtual {p1, v4}, Landroid/content/res/Resources;->getResourceTypeName(I)Ljava/lang/String;

    move-result-object v2

    .line 4323
    .local v2, resourceTypeName:Ljava/lang/String;
    invoke-virtual {p2, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_1

    .line 4324
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Resource "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " ("

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, ") is of type "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " but "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " is required."

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Landroid/content/res/Resources$NotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    move-object v1, v3

    .line 4326
    goto :goto_0

    .line 4330
    .end local v1           #resourceEntryName:Ljava/lang/String;
    .end local v2           #resourceTypeName:Ljava/lang/String;
    :catch_0
    move-exception v0

    .local v0, e:Landroid/content/res/Resources$NotFoundException;
    move-object v1, v3

    .line 4331
    goto :goto_0
.end method

.method private getSettableColumnsForPresenceTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;
    .locals 3
    .parameter "values"

    .prologue
    .line 5297
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 5298
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "mode"

    const-string v2, "mode"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5300
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "chat_capability"

    const-string v2, "chat_capability"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5302
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    return-object v0
.end method

.method private getSettableColumnsForStatusUpdatesTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;
    .locals 3
    .parameter "values"

    .prologue
    .line 5282
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 5283
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status"

    const-string v2, "status"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5285
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_ts"

    const-string v2, "status_ts"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5287
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_res_package"

    const-string v2, "status_res_package"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5289
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_label"

    const-string v2, "status_label"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5291
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_icon"

    const-string v2, "status_icon"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5293
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    return-object v0
.end method

.method private getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;
    .locals 2
    .parameter "selection"

    .prologue
    .line 5274
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 5275
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v1, "status_update_data_id IN (SELECT Distinct presence_data_id FROM status_updates LEFT OUTER JOIN presence ON status_update_data_id = presence_data_id WHERE "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5276
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5277
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5278
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private handleDataUsageFeedback(Landroid/net/Uri;)Z
    .locals 22
    .parameter "uri"

    .prologue
    .line 10454
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v11

    .line 10455
    .local v11, currentTimeMillis:J
    const-string v2, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v20

    .line 10456
    .local v20, usageType:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v2

    const-string v3, ","

    invoke-virtual {v2, v3}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v6

    .line 10457
    .local v6, ids:[Ljava/lang/String;
    new-instance v14, Ljava/util/ArrayList;

    invoke-direct {v14}, Ljava/util/ArrayList;-><init>()V

    .line 10459
    .local v14, dataIds:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    move-object v10, v6

    .local v10, arr$:[Ljava/lang/String;
    array-length v0, v10

    move/from16 v17, v0

    .local v17, len$:I
    const/4 v15, 0x0

    .local v15, i$:I
    :goto_0
    move/from16 v0, v17

    if-ge v15, v0, :cond_0

    aget-object v16, v10, v15

    .line 10460
    .local v16, id:Ljava/lang/String;
    invoke-static/range {v16 .. v16}, Ljava/lang/Long;->valueOf(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v14, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10459
    add-int/lit8 v15, v15, 0x1

    goto :goto_0

    .line 10463
    .end local v16           #id:Ljava/lang/String;
    :cond_0
    invoke-static/range {v20 .. v20}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 10464
    const-string v2, "ContactsProvider"

    const-string v3, "Method for data usage feedback isn\'t specified. Ignoring."

    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 10465
    const/16 v19, 0x0

    .line 10471
    .local v19, successful:Z
    :goto_1
    array-length v2, v6

    new-array v0, v2, [Ljava/lang/String;

    move-object/from16 v18, v0

    .line 10472
    .local v18, questionMarks:[Ljava/lang/String;
    const-string v2, "?"

    move-object/from16 v0, v18

    invoke-static {v0, v2}, Ljava/util/Arrays;->fill([Ljava/lang/Object;Ljava/lang/Object;)V

    .line 10473
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "_id IN ("

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ","

    move-object/from16 v0, v18

    invoke-static {v3, v0}, Landroid/text/TextUtils;->join(Ljava/lang/CharSequence;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ")"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    .line 10474
    .local v5, where:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "view_data"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v8, "contact_id"

    aput-object v8, v4, v7

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 10479
    .local v13, cursor:Landroid/database/Cursor;
    :goto_2
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_3

    .line 10480
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v3, 0x0

    const/4 v4, 0x0

    invoke-interface {v13, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    .line 10481
    new-instance v21, Landroid/content/ContentValues;

    invoke-direct/range {v21 .. v21}, Landroid/content/ContentValues;-><init>()V

    .line 10482
    .local v21, values2:Landroid/content/ContentValues;
    const-string v2, "last_time_contacted"

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v21

    invoke-virtual {v0, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 10483
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "contacts"

    const-string v4, "_id=?"

    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, v21

    invoke-virtual {v2, v3, v0, v4, v7}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    .line 10485
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "UPDATE contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE _id=?"

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 10486
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "UPDATE raw_contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE contact_id=?"

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_2

    .line 10489
    .end local v21           #values2:Landroid/content/ContentValues;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 10467
    .end local v5           #where:Ljava/lang/String;
    .end local v13           #cursor:Landroid/database/Cursor;
    .end local v18           #questionMarks:[Ljava/lang/String;
    .end local v19           #successful:Z
    :cond_1
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-virtual {v0, v14, v1, v11, v12}, Lcom/android/providers/contacts/ContactsProvider2;->updateDataUsageStat(Ljava/util/List;Ljava/lang/String;J)I

    move-result v2

    if-lez v2, :cond_2

    const/16 v19, 0x1

    .restart local v19       #successful:Z
    :goto_3
    goto/16 :goto_1

    .end local v19           #successful:Z
    :cond_2
    const/16 v19, 0x0

    goto :goto_3

    .line 10489
    .restart local v5       #where:Ljava/lang/String;
    .restart local v13       #cursor:Landroid/database/Cursor;
    .restart local v18       #questionMarks:[Ljava/lang/String;
    .restart local v19       #successful:Z
    :cond_3
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 10492
    return v19
.end method

.method private hasColumn([Ljava/lang/String;Ljava/lang/String;)Z
    .locals 3
    .parameter "projection"
    .parameter "column"

    .prologue
    const/4 v1, 0x1

    .line 6702
    if-nez p1, :cond_1

    .line 6709
    :cond_0
    :goto_0
    return v1

    .line 6706
    :cond_1
    const/4 v0, 0x0

    .local v0, i:I
    :goto_1
    array-length v2, p1

    if-ge v0, v2, :cond_2

    .line 6707
    aget-object v2, p1, v0

    invoke-virtual {p2, v2}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_0

    .line 6706
    add-int/lit8 v0, v0, 0x1

    goto :goto_1

    .line 6709
    :cond_2
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private importAccountsInfoToMyContactCard([Landroid/accounts/Account;Ljava/util/Set;)V
    .locals 14
    .parameter "accounts"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "([",
            "Landroid/accounts/Account;",
            "Ljava/util/Set",
            "<",
            "Lcom/android/providers/contacts/AccountWithDataSet;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 6396
    .local p2, existingAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    new-instance v6, Ljava/util/HashSet;

    invoke-direct {v6}, Ljava/util/HashSet;-><init>()V

    .line 6398
    .local v6, existingAccounts:Ljava/util/HashSet;,"Ljava/util/HashSet<Landroid/accounts/Account;>;"
    invoke-interface/range {p2 .. p2}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v7

    .local v7, i$:Ljava/util/Iterator;
    :cond_0
    :goto_0
    invoke-interface {v7}, Ljava/util/Iterator;->hasNext()Z

    move-result v11

    if-eqz v11, :cond_1

    invoke-interface {v7}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 6399
    .local v3, accountWithSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v3}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v1

    .line 6400
    .local v1, accountName:Ljava/lang/String;
    invoke-virtual {v3}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v2

    .line 6401
    .local v2, accountType:Ljava/lang/String;
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_0

    invoke-static {v2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_0

    .line 6402
    new-instance v0, Landroid/accounts/Account;

    invoke-direct {v0, v1, v2}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    .line 6403
    .local v0, account:Landroid/accounts/Account;
    invoke-virtual {v6, v0}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 6405
    .end local v0           #account:Landroid/accounts/Account;
    .end local v1           #accountName:Ljava/lang/String;
    .end local v2           #accountType:Ljava/lang/String;
    .end local v3           #accountWithSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :cond_1
    move-object v4, p1

    .local v4, arr$:[Landroid/accounts/Account;
    array-length v9, v4

    .local v9, len$:I
    const/4 v7, 0x0

    .local v7, i$:I
    :goto_1
    if-ge v7, v9, :cond_8

    aget-object v0, v4, v7

    .line 6407
    .restart local v0       #account:Landroid/accounts/Account;
    invoke-virtual {v6, v0}, Ljava/util/HashSet;->contains(Ljava/lang/Object;)Z

    move-result v11

    if-nez v11, :cond_5

    .line 6411
    const-wide/high16 v11, 0x400c

    invoke-static {v11, v12}, Lcom/htc/util/contacts/BuildUtils$HtcSense;->isAboveOrEqualToVer(D)Z

    move-result v11

    if-eqz v11, :cond_4

    .line 6412
    iget-object v11, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_4

    .line 6413
    const/4 v8, 0x0

    .line 6414
    .local v8, key:Ljava/lang/String;
    const-string v11, "com.htc.socialnetwork.facebook"

    iget-object v12, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v11, v12}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_2

    const-string v11, "com.facebook.auth.login"

    iget-object v12, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v11, v12}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_3

    .line 6416
    :cond_2
    const-string v8, "htc_facebook_need_sync_once"

    .line 6422
    :cond_3
    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_4

    .line 6423
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v11

    invoke-static {v11}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v10

    .line 6424
    .local v10, prefs:Landroid/content/SharedPreferences;
    if-eqz v10, :cond_6

    invoke-interface {v10}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v5

    .line 6425
    .local v5, editor:Landroid/content/SharedPreferences$Editor;
    :goto_2
    if-eqz v5, :cond_4

    .line 6426
    const/4 v11, 0x1

    invoke-interface {v5, v8, v11}, Landroid/content/SharedPreferences$Editor;->putBoolean(Ljava/lang/String;Z)Landroid/content/SharedPreferences$Editor;

    .line 6427
    invoke-interface {v5}, Landroid/content/SharedPreferences$Editor;->apply()V

    .line 6434
    .end local v5           #editor:Landroid/content/SharedPreferences$Editor;
    .end local v8           #key:Ljava/lang/String;
    .end local v10           #prefs:Landroid/content/SharedPreferences;
    :cond_4
    const-string v11, "com.htc.cs"

    iget-object v12, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v11, v12}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_7

    .line 6435
    iget-object v11, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_5

    iget-object v11, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-static {v11}, Lcom/android/providers/contacts/HtcUtils/Utils;->CheckEmailAddress(Ljava/lang/String;)Z

    move-result v11

    if-eqz v11, :cond_5

    .line 6436
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v11

    invoke-static {v11, v0}, Lcom/htc/util/contacts/ContactsUtility;->importCsAccountInfoToMyContact(Landroid/content/Context;Landroid/accounts/Account;)V

    .line 6405
    :cond_5
    :goto_3
    add-int/lit8 v7, v7, 0x1

    goto :goto_1

    .line 6424
    .restart local v8       #key:Ljava/lang/String;
    .restart local v10       #prefs:Landroid/content/SharedPreferences;
    :cond_6
    const/4 v5, 0x0

    goto :goto_2

    .line 6439
    .end local v8           #key:Ljava/lang/String;
    .end local v10           #prefs:Landroid/content/SharedPreferences;
    :cond_7
    iget-object v11, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_5

    iget-object v11, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-static {v11}, Lcom/android/providers/contacts/HtcUtils/Utils;->CheckEmailAddress(Ljava/lang/String;)Z

    move-result v11

    if-eqz v11, :cond_5

    .line 6441
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v11

    iget-object v12, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    iget-object v13, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v11, v12, v13}, Lcom/htc/util/contacts/ContactsUtility;->importAccountEmailToMyContact(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_3

    .line 6446
    .end local v0           #account:Landroid/accounts/Account;
    :cond_8
    return-void
.end method

.method private importLegacyContactsInBackground()V
    .locals 5

    .prologue
    .line 2370
    const-string v2, "ContactsProvider"

    const-string v3, "Importing legacy contacts"

    invoke-static {v2, v3}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2371
    const/4 v2, 0x1

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 2373
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-static {v2}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v1

    .line 2374
    .local v1, prefs:Landroid/content/SharedPreferences;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-virtual {v2, p0, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setLocale(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/Locale;)V

    .line 2375
    invoke-interface {v1}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v2

    const-string v3, "locale"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-virtual {v4}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-interface {v2, v3, v4}, Landroid/content/SharedPreferences$Editor;->putString(Ljava/lang/String;Ljava/lang/String;)Landroid/content/SharedPreferences$Editor;

    move-result-object v2

    invoke-interface {v2}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 2377
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getLegacyContactImporter()Lcom/android/providers/contacts/LegacyContactImporter;

    move-result-object v0

    .line 2378
    .local v0, importer:Lcom/android/providers/contacts/LegacyContactImporter;
    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->importLegacyContacts(Lcom/android/providers/contacts/LegacyContactImporter;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 2379
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->onLegacyContactImportSuccess()V

    .line 2383
    :goto_0
    return-void

    .line 2381
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->onLegacyContactImportFailure()V

    goto :goto_0
.end method

.method private inProfileMode()Z
    .locals 2

    .prologue
    .line 2352
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Boolean;

    .line 2353
    .local v0, profileMode:Ljava/lang/Boolean;
    if-eqz v0, :cond_0

    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private insertContact(Landroid/content/ContentValues;)J
    .locals 2
    .parameter "values"

    .prologue
    .line 3187
    new-instance v0, Ljava/lang/UnsupportedOperationException;

    const-string v1, "Aggregate contacts are created automatically"

    invoke-direct {v0, v1}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v0
.end method

.method private insertDataGroupMembership(JJ)V
    .locals 5
    .parameter "rawContactId"
    .parameter "groupId"

    .prologue
    .line 3340
    new-instance v0, Landroid/content/ContentValues;

    invoke-direct {v0}, Landroid/content/ContentValues;-><init>()V

    .line 3341
    .local v0, groupMembershipValues:Landroid/content/ContentValues;
    const-string v1, "data1"

    invoke-static {p3, p4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3342
    const-string v1, "raw_contact_id"

    invoke-static {p1, p2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3343
    const-string v2, "mimetype_id"

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v1, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v3

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v0, v2, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3345
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "data"

    const/4 v3, 0x0

    invoke-virtual {v1, v2, v3, v0}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    .line 3346
    return-void
.end method

.method private insertRawContact(Landroid/net/Uri;Landroid/content/ContentValues;Z)J
    .locals 24
    .parameter "uri"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3199
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Landroid/content/ContentValues;->clear()V

    .line 3200
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    move-object/from16 v0, v20

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3201
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "contact_id"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 3205
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v20

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v7

    .line 3207
    .local v7, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    const-string v20, "deleted"

    move-object/from16 v0, p2

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v20

    if-eqz v20, :cond_0

    const-string v20, "deleted"

    move-object/from16 v0, p2

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/Integer;->intValue()I

    move-result v20

    if-eqz v20, :cond_0

    .line 3209
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "aggregation_mode"

    const/16 v22, 0x3

    invoke-static/range {v22 .. v22}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v22

    invoke-virtual/range {v20 .. v22}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3213
    :cond_0
    const/16 v16, 0x0

    .line 3214
    .local v16, profile:Z
    if-eqz p1, :cond_1

    .line 3215
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v20

    sget-object v21, Landroid/provider/ContactsContract$Profile;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual/range {v21 .. v21}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v21

    invoke-virtual/range {v20 .. v21}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v20

    if-eqz v20, :cond_1

    .line 3216
    const/16 v16, 0x1

    .line 3219
    :cond_1
    if-nez v16, :cond_6

    .line 3223
    const-string v15, "com.htc.android.pcsc"

    .line 3224
    .local v15, pcType:Ljava/lang/String;
    const-string v14, "pcsc"

    .line 3225
    .local v14, pcName:Ljava/lang/String;
    const/4 v12, 0x0

    .line 3227
    .local v12, isPC:Z
    :try_start_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "account_type"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    .line 3228
    .local v6, accountTypeInValues:Ljava/lang/String;
    if-eqz v6, :cond_2

    invoke-virtual {v6, v15}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v20

    if-eqz v20, :cond_3

    .line 3229
    :cond_2
    const/4 v12, 0x1

    .line 3231
    :cond_3
    if-eqz v12, :cond_6

    .line 3233
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "account_name"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-virtual {v0, v1, v14}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3234
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "account_type"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-virtual {v0, v1, v15}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3236
    new-instance v8, Lcom/android/providers/contacts/AccountWithDataSet;

    const/16 v20, 0x0

    move-object/from16 v0, v20

    invoke-direct {v8, v14, v14, v0}, Lcom/android/providers/contacts/AccountWithDataSet;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 3239
    .end local v7           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .local v8, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :try_start_1
    invoke-static {}, Lcom/android/providers/contacts/HtcUtils/Utils;->is360Enabled()Z

    move-result v20

    const/16 v21, 0x1

    move/from16 v0, v20

    move/from16 v1, v21

    if-eq v0, v1, :cond_4

    invoke-static {}, Lcom/android/providers/contacts/HtcUtils/Utils;->is360PcscSyncEnabled()Z

    move-result v20

    const/16 v21, 0x1

    move/from16 v0, v20

    move/from16 v1, v21

    if-eq v0, v1, :cond_4

    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isAABEnabled()Z

    move-result v20

    const/16 v21, 0x1

    move/from16 v0, v20

    move/from16 v1, v21

    if-eq v0, v1, :cond_4

    .line 3241
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "sourceid"

    invoke-static {}, Lcom/android/providers/contacts/HtcUtils/Utils;->getRandomSourceId()Ljava/lang/String;

    move-result-object v22

    invoke-virtual/range {v20 .. v22}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3244
    :cond_4
    sget-boolean v20, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v20, :cond_5

    const-string v20, "ContactsProvider"

    const-string v21, "insert raw contact "

    invoke-static/range {v20 .. v21}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    :cond_5
    move-object v7, v8

    .line 3253
    .end local v6           #accountTypeInValues:Ljava/lang/String;
    .end local v8           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v12           #isPC:Z
    .end local v14           #pcName:Ljava/lang/String;
    .end local v15           #pcType:Ljava/lang/String;
    .restart local v7       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :cond_6
    :goto_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "raw_contact_is_read_only"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v20

    if-nez v20, :cond_7

    .line 3254
    if-eqz v7, :cond_7

    .line 3255
    invoke-virtual {v7}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    .line 3256
    .local v4, accountType:Ljava/lang/String;
    invoke-virtual {v7}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v10

    .line 3257
    .local v10, dataSet:Ljava/lang/String;
    invoke-static {v10}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v20

    if-nez v20, :cond_b

    new-instance v20, Ljava/lang/StringBuilder;

    invoke-direct/range {v20 .. v20}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    const-string v21, "/"

    invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    move-object/from16 v0, v20

    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    .line 3259
    .local v5, accountTypeAndDataSet:Ljava/lang/String;
    :goto_1
    move-object/from16 v0, p0

    invoke-virtual {v0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->isReadyOnlyAccountType(Ljava/lang/String;)Z

    move-result v13

    .line 3260
    .local v13, isReadOnly:Z
    if-eqz v13, :cond_7

    .line 3261
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "raw_contact_is_read_only"

    const/16 v22, 0x1

    invoke-static/range {v22 .. v22}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v22

    invoke-virtual/range {v20 .. v22}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3268
    .end local v4           #accountType:Ljava/lang/String;
    .end local v5           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v10           #dataSet:Ljava/lang/String;
    .end local v13           #isReadOnly:Z
    :cond_7
    invoke-virtual {v7}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    .line 3269
    .restart local v4       #accountType:Ljava/lang/String;
    if-eqz v4, :cond_8

    const-string v20, "com.facebook.auth.login"

    move-object/from16 v0, v20

    invoke-virtual {v4, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v20

    if-eqz v20, :cond_8

    .line 3272
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "is_restricted"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v20

    if-nez v20, :cond_8

    .line 3273
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "is_restricted"

    const/16 v22, 0x1

    invoke-static/range {v22 .. v22}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v22

    invoke-virtual/range {v20 .. v22}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3279
    :cond_8
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Landroid/database/sqlite/SQLiteDatabase;

    const-string v21, "raw_contacts"

    const-string v22, "contact_id"

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v23, v0

    invoke-virtual/range {v20 .. v23}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v17

    .line 3282
    .local v17, rawContactId:J
    const/4 v9, 0x0

    .line 3283
    .local v9, aggregationMode:I
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "aggregation_mode"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v20

    if-eqz v20, :cond_9

    .line 3284
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v20, v0

    const-string v21, "aggregation_mode"

    invoke-virtual/range {v20 .. v21}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/Integer;->intValue()I

    move-result v9

    .line 3286
    :cond_9
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, v20

    move-wide/from16 v1, v17

    invoke-virtual {v0, v1, v2, v9}, Lcom/android/providers/contacts/ContactAggregator;->markNewForAggregation(JI)V

    .line 3289
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Lcom/android/providers/contacts/TransactionContext;

    move-object/from16 v0, v20

    move-wide/from16 v1, v17

    invoke-virtual {v0, v1, v2, v7}, Lcom/android/providers/contacts/TransactionContext;->rawContactInserted(JLcom/android/providers/contacts/AccountWithDataSet;)V

    .line 3291
    if-nez p3, :cond_a

    .line 3292
    move-object/from16 v0, p0

    move-wide/from16 v1, v17

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->addAutoAddMembership(J)V

    .line 3293
    const-string v20, "starred"

    move-object/from16 v0, p2

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v19

    .line 3294
    .local v19, starred:Ljava/lang/Long;
    if-eqz v19, :cond_a

    invoke-virtual/range {v19 .. v19}, Ljava/lang/Long;->longValue()J

    move-result-wide v20

    const-wide/16 v22, 0x0

    cmp-long v20, v20, v22

    if-eqz v20, :cond_a

    .line 3295
    invoke-virtual/range {v19 .. v19}, Ljava/lang/Long;->longValue()J

    move-result-wide v20

    const-wide/16 v22, 0x0

    cmp-long v20, v20, v22

    if-eqz v20, :cond_c

    const/16 v20, 0x1

    :goto_2
    move-object/from16 v0, p0

    move-wide/from16 v1, v17

    move/from16 v3, v20

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    .line 3299
    .end local v19           #starred:Ljava/lang/Long;
    :cond_a
    const/16 v20, 0x1

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 3300
    return-wide v17

    .line 3246
    .end local v4           #accountType:Ljava/lang/String;
    .end local v9           #aggregationMode:I
    .end local v17           #rawContactId:J
    .restart local v12       #isPC:Z
    .restart local v14       #pcName:Ljava/lang/String;
    .restart local v15       #pcType:Ljava/lang/String;
    :catch_0
    move-exception v11

    .line 3247
    .local v11, e:Ljava/lang/Exception;
    :goto_3
    const-string v20, "ContactsProvider"

    const-string v21, "insert error: "

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v11}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto/16 :goto_0

    .end local v11           #e:Ljava/lang/Exception;
    .end local v12           #isPC:Z
    .end local v14           #pcName:Ljava/lang/String;
    .end local v15           #pcType:Ljava/lang/String;
    .restart local v4       #accountType:Ljava/lang/String;
    .restart local v10       #dataSet:Ljava/lang/String;
    :cond_b
    move-object v5, v4

    .line 3257
    goto/16 :goto_1

    .line 3295
    .end local v10           #dataSet:Ljava/lang/String;
    .restart local v9       #aggregationMode:I
    .restart local v17       #rawContactId:J
    .restart local v19       #starred:Ljava/lang/Long;
    :cond_c
    const/16 v20, 0x0

    goto :goto_2

    .line 3246
    .end local v4           #accountType:Ljava/lang/String;
    .end local v7           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v9           #aggregationMode:I
    .end local v17           #rawContactId:J
    .end local v19           #starred:Ljava/lang/Long;
    .restart local v6       #accountTypeInValues:Ljava/lang/String;
    .restart local v8       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .restart local v12       #isPC:Z
    .restart local v14       #pcName:Ljava/lang/String;
    .restart local v15       #pcType:Ljava/lang/String;
    :catch_1
    move-exception v11

    move-object v7, v8

    .end local v8           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .restart local v7       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    goto :goto_3
.end method

.method private insertSettings(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 22
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 3982
    const-string v5, "account_name"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 3983
    .local v13, accountName:Ljava/lang/String;
    const-string v5, "account_type"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v14

    .line 3984
    .local v14, accountType:Ljava/lang/String;
    const-string v5, "data_set"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    .line 3985
    .local v16, dataSet:Ljava/lang/String;
    sget-object v5, Landroid/provider/ContactsContract$Settings;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual {v5}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;

    move-result-object v21

    .line 3986
    .local v21, settingsUri:Landroid/net/Uri$Builder;
    if-eqz v13, :cond_0

    .line 3987
    const-string v5, "account_name"

    move-object/from16 v0, v21

    invoke-virtual {v0, v5, v13}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3989
    :cond_0
    if-eqz v14, :cond_1

    .line 3990
    const-string v5, "account_type"

    move-object/from16 v0, v21

    invoke-virtual {v0, v5, v14}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3992
    :cond_1
    if-eqz v16, :cond_2

    .line 3993
    const-string v5, "data_set"

    move-object/from16 v0, v21

    move-object/from16 v1, v16

    invoke-virtual {v0, v5, v1}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3995
    :cond_2
    invoke-virtual/range {v21 .. v21}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v6

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    move-object/from16 v5, p0

    invoke-virtual/range {v5 .. v12}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v15

    .line 3997
    .local v15, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v15}, Landroid/database/Cursor;->getCount()I

    move-result v5

    if-lez v5, :cond_6

    .line 3999
    const/16 v19, 0x0

    .line 4000
    .local v19, selection:Ljava/lang/String;
    const/16 v20, 0x0

    .line 4001
    .local v20, selectionArgs:[Ljava/lang/String;
    if-eqz v13, :cond_3

    if-eqz v14, :cond_3

    .line 4002
    const-string v19, "account_name=? AND account_type=?"

    .line 4003
    if-nez v16, :cond_5

    .line 4004
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v19

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " AND data_set IS NULL"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v19

    .line 4005
    const/4 v5, 0x2

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v20, v0

    .end local v20           #selectionArgs:[Ljava/lang/String;
    const/4 v5, 0x0

    aput-object v13, v20, v5

    const/4 v5, 0x1

    aput-object v14, v20, v5

    .line 4011
    .restart local v20       #selectionArgs:[Ljava/lang/String;
    :cond_3
    :goto_0
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, v19

    move-object/from16 v4, v20

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v5

    int-to-long v0, v5

    move-wide/from16 v17, v0

    .line 4014
    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    .line 4024
    .end local v19           #selection:Ljava/lang/String;
    .end local v20           #selectionArgs:[Ljava/lang/String;
    :cond_4
    :goto_1
    return-wide v17

    .line 4007
    .restart local v19       #selection:Ljava/lang/String;
    .restart local v20       #selectionArgs:[Ljava/lang/String;
    :cond_5
    :try_start_1
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v19

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " AND data_set=?"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v19

    .line 4008
    const/4 v5, 0x3

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v20, v0

    .end local v20           #selectionArgs:[Ljava/lang/String;
    const/4 v5, 0x0

    aput-object v13, v20, v5

    const/4 v5, 0x1

    aput-object v14, v20, v5

    const/4 v5, 0x2

    aput-object v16, v20, v5
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .restart local v20       #selectionArgs:[Ljava/lang/String;
    goto :goto_0

    .line 4014
    .end local v19           #selection:Ljava/lang/String;
    .end local v20           #selectionArgs:[Ljava/lang/String;
    :cond_6
    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    .line 4018
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const-string v6, "settings"

    const/4 v7, 0x0

    move-object/from16 v0, p2

    invoke-virtual {v5, v6, v7, v0}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v17

    .line 4020
    .local v17, id:J
    const-string v5, "ungrouped_visible"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_4

    .line 4021
    const/4 v5, 0x1

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    goto :goto_1

    .line 4014
    .end local v17           #id:J
    :catchall_0
    move-exception v5

    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    throw v5
.end method

.method private insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 9
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 3548
    const-wide/16 v1, 0x0

    .line 3549
    .local v1, id:J
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5}, Landroid/content/ContentValues;->clear()V

    .line 3550
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3552
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "raw_contact_id"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    .line 3555
    .local v3, rawContactId:J
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {p0, p1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 3556
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccount(Landroid/accounts/Account;J)V

    .line 3559
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "account_name"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3560
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "account_type"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3563
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const-string v6, "stream_items"

    const/4 v7, 0x0

    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5, v6, v7, v8}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3564
    const-wide/16 v5, -0x1

    cmp-long v5, v1, v5

    if-nez v5, :cond_0

    .line 3566
    const-wide/16 v5, 0x0

    .line 3574
    :goto_0
    return-wide v5

    .line 3572
    :cond_0
    invoke-direct {p0, v3, v4, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->cleanUpOldStreamItems(JJ)J

    move-result-wide v1

    move-wide v5, v1

    .line 3574
    goto :goto_0
.end method

.method private insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 11
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 3587
    const-wide/16 v1, 0x0

    .line 3588
    .local v1, id:J
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7}, Landroid/content/ContentValues;->clear()V

    .line 3589
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3591
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "stream_item_id"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    .line 3592
    .local v5, streamItemId:J
    const-wide/16 v7, 0x0

    cmp-long v7, v5, v7

    if-eqz v7, :cond_0

    .line 3593
    invoke-direct {p0, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupRawContactIdForStreamId(J)J

    move-result-wide v3

    .line 3596
    .local v3, rawContactId:J
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {p0, p1, v7}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 3597
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccount(Landroid/accounts/Account;J)V

    .line 3601
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_name"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3602
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_type"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3605
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const/4 v8, 0x0

    invoke-direct {p0, v7, v8}, Lcom/android/providers/contacts/ContactsProvider2;->processStreamItemPhoto(Landroid/content/ContentValues;Z)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 3607
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Landroid/database/sqlite/SQLiteDatabase;

    const-string v8, "stream_item_photos"

    const/4 v9, 0x0

    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7, v8, v9, v10}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3610
    .end local v0           #account:Landroid/accounts/Account;
    .end local v3           #rawContactId:J
    :cond_0
    return-wide v1
.end method

.method private joinName(Landroid/content/ContentValues;)Landroid/database/Cursor;
    .locals 11
    .parameter "values"

    .prologue
    .line 5864
    new-instance v0, Lcom/android/providers/contacts/NameSplitter$Name;

    invoke-direct {v0}, Lcom/android/providers/contacts/NameSplitter$Name;-><init>()V

    .line 5865
    .local v0, bestName:Lcom/android/providers/contacts/NameSplitter$Name;
    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/NameSplitter$Name;->fromValues(Landroid/content/ContentValues;)V

    .line 5867
    const/4 v8, 0x0

    iput v8, v0, Lcom/android/providers/contacts/NameSplitter$Name;->fullNameStyle:I

    .line 5868
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-virtual {v8, v0}, Lcom/android/providers/contacts/NameSplitter;->guessNameStyle(Lcom/android/providers/contacts/NameSplitter$Name;)V

    .line 5869
    iget v7, v0, Lcom/android/providers/contacts/NameSplitter$Name;->fullNameStyle:I

    .line 5870
    .local v7, unadjustedFullNameStyle:I
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget v9, v0, Lcom/android/providers/contacts/NameSplitter$Name;->fullNameStyle:I

    invoke-virtual {v8, v9}, Lcom/android/providers/contacts/NameSplitter;->getAdjustedFullNameStyle(I)I

    move-result v8

    iput v8, v0, Lcom/android/providers/contacts/NameSplitter$Name;->fullNameStyle:I

    .line 5871
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    const/4 v9, 0x1

    const/4 v10, 0x0

    invoke-virtual {v8, v0, v9, v10}, Lcom/android/providers/contacts/NameSplitter;->join(Lcom/android/providers/contacts/NameSplitter$Name;ZZ)Ljava/lang/String;

    move-result-object v3

    .line 5872
    .local v3, joined:Ljava/lang/String;
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-virtual {v8, v0}, Lcom/android/providers/contacts/NameSplitter;->joinPhoneticName(Lcom/android/providers/contacts/NameSplitter$Name;)Ljava/lang/String;

    move-result-object v4

    .line 5874
    .local v4, joinedPhoetic:Ljava/lang/String;
    const/4 v8, 0x4

    new-array v1, v8, [Ljava/lang/String;

    const/4 v8, 0x0

    const-string v9, "data1"

    aput-object v9, v1, v8

    const/4 v8, 0x1

    const-string v9, "data10"

    aput-object v9, v1, v8

    const/4 v8, 0x2

    const-string v9, "phonetic_name"

    aput-object v9, v1, v8

    const/4 v8, 0x3

    const-string v9, "data11"

    aput-object v9, v1, v8

    .line 5879
    .local v1, columns:[Ljava/lang/String;
    const/4 v8, 0x4

    new-array v5, v8, [Ljava/lang/Object;

    .line 5880
    .local v5, row:[Ljava/lang/Object;
    move-object v2, v3

    .line 5881
    .local v2, fullName:Ljava/lang/String;
    const/4 v8, 0x0

    aput-object v2, v5, v8

    .line 5882
    const/4 v8, 0x1

    invoke-static {v7}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;

    move-result-object v9

    aput-object v9, v5, v8

    .line 5883
    const/4 v8, 0x2

    aput-object v4, v5, v8

    .line 5884
    const/4 v8, 0x3

    iget v9, v0, Lcom/android/providers/contacts/NameSplitter$Name;->phoneticNameStyle:I

    invoke-static {v9}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;

    move-result-object v9

    aput-object v9, v5, v8

    .line 5885
    new-instance v6, Landroid/database/MatrixCursor;

    invoke-direct {v6, v1}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 5886
    .local v6, selfCursor:Landroid/database/MatrixCursor;
    invoke-virtual {v6, v5}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    .line 5887
    return-object v6
.end method

.method private lookupContactIdByDisplayNames(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 8189
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    .line 8190
    .local v16, sb:Ljava/lang/StringBuilder;
    const-string v2, "normalized_name IN ("

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8191
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 8192
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8193
    .local v17, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_0

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_1

    .line 8195
    :cond_0
    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    move-object/from16 v0, v16

    invoke-static {v0, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8196
    const-string v2, ","

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8191
    :cond_1
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 8199
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_2
    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 8200
    const-string v2, ") AND name_type=2 AND contact_id NOT NULL"

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8203
    const-string v3, "name_lookup INNER JOIN view_raw_contacts ON (name_lookup.raw_contact_id = view_raw_contacts._id)"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupByDisplayNameQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 8206
    .local v13, c:Landroid/database/Cursor;
    :cond_3
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_6

    .line 8207
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 8209
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 8210
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 8212
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v15

    .line 8213
    .local v15, name:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_3

    .line 8214
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8215
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_4

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_5

    :cond_4
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_5

    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    invoke-virtual {v2, v15}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_5

    .line 8219
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v17

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 8225
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #name:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 8213
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v15       #name:Ljava/lang/String;
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_5
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 8225
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #name:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_6
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 8228
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupContactIdByRawContactIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 8132
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    .line 8133
    .local v16, sb:Ljava/lang/StringBuilder;
    const-string v2, "_id IN ("

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8134
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_1

    .line 8135
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8136
    .local v17, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_0

    .line 8137
    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->rawContactId:Ljava/lang/String;

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8138
    const-string v2, ","

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8134
    :cond_0
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 8141
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 8142
    const-string v2, ") AND contact_id NOT NULL"

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8144
    const-string v3, "view_raw_contacts"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupByRawContactIdQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 8147
    .local v13, c:Landroid/database/Cursor;
    :cond_2
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_4

    .line 8148
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 8150
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 8151
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 8153
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v15

    .line 8154
    .local v15, rawContactId:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 8155
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8156
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_3

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_3

    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->rawContactId:Ljava/lang/String;

    invoke-virtual {v2, v15}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 8159
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v17

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 8165
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #rawContactId:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 8154
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v15       #rawContactId:Ljava/lang/String;
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_3
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 8165
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #rawContactId:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_4
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 8168
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupContactIdBySourceIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 8075
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    .line 8076
    .local v15, sb:Ljava/lang/StringBuilder;
    const-string v2, "sourceid IN ("

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8077
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_1

    .line 8078
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8079
    .local v16, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-nez v2, :cond_0

    .line 8080
    move-object/from16 v0, v16

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    invoke-static {v15, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8081
    const-string v2, ","

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8077
    :cond_0
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 8084
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 8085
    const-string v2, ") AND contact_id NOT NULL"

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8087
    const-string v3, "view_raw_contacts"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupBySourceIdQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 8090
    .local v13, c:Landroid/database/Cursor;
    :cond_2
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_4

    .line 8091
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 8093
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 8094
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 8096
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v17

    .line 8097
    .local v17, sourceId:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 8098
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8099
    .restart local v16       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-nez v2, :cond_3

    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_3

    move-object/from16 v0, v16

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    move-object/from16 v0, v17

    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 8102
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v16

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 8108
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .end local v17           #sourceId:Ljava/lang/String;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 8097
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v16       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .restart local v17       #sourceId:Ljava/lang/String;
    :cond_3
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 8108
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .end local v17           #sourceId:Ljava/lang/String;
    :cond_4
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 8111
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupRawContactIdForStreamId(J)J
    .locals 11
    .parameter "streamItemId"

    .prologue
    const/4 v4, 0x1

    const/4 v5, 0x0

    const/4 v7, 0x0

    .line 3658
    const-wide/16 v9, -0x1

    .line 3659
    .local v9, rawContactId:J
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "stream_items"

    new-array v2, v4, [Ljava/lang/String;

    const-string v3, "raw_contact_id"

    aput-object v3, v2, v7

    const-string v3, "_id=?"

    new-array v4, v4, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v7

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3664
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3665
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v9

    .line 3668
    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3670
    return-wide v9

    .line 3668
    :catchall_0
    move-exception v0

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private lookupSingleContactId(Landroid/database/sqlite/SQLiteDatabase;)J
    .locals 10
    .parameter "db"

    .prologue
    const/4 v4, 0x0

    const/4 v3, 0x0

    .line 8044
    const-string v1, "contacts"

    const/4 v0, 0x1

    new-array v2, v0, [Ljava/lang/String;

    const-string v0, "_id"

    aput-object v0, v2, v4

    const-string v8, "1"

    move-object v0, p1

    move-object v4, v3

    move-object v5, v3

    move-object v6, v3

    move-object v7, v3

    invoke-virtual/range {v0 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 8047
    .local v9, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8048
    const/4 v0, 0x0

    invoke-interface {v9, v0}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v0

    .line 8053
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    :goto_0
    return-wide v0

    .line 8050
    :cond_0
    const-wide/16 v0, -0x1

    .line 8053
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    goto :goto_0

    :catchall_0
    move-exception v0

    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;)Landroid/content/res/AssetFileDescriptor;
    .locals 2
    .parameter "fd"

    .prologue
    .line 9273
    const-wide/16 v0, -0x1

    invoke-direct {p0, p1, v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v0

    return-object v0
.end method

.method private makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "fd"
    .parameter "length"

    .prologue
    .line 9277
    if-eqz p1, :cond_0

    new-instance v0, Landroid/content/res/AssetFileDescriptor;

    const-wide/16 v2, 0x0

    move-object v1, p1

    move-wide v4, p2

    invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V

    :goto_0
    return-object v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private mapsToProfileDbWithInsertedValues(Landroid/net/Uri;Landroid/content/ContentValues;)Z
    .locals 7
    .parameter "uri"
    .parameter "values"

    .prologue
    const/4 v4, 0x1

    .line 2508
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v5

    if-eqz v5, :cond_1

    .line 2521
    :cond_0
    :goto_0
    return v4

    .line 2511
    :cond_1
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v5, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v3

    .line 2512
    .local v3, match:I
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-interface {v5, v6}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_2

    .line 2513
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-interface {v5, v6}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Ljava/lang/String;

    .line 2514
    .local v2, idField:Ljava/lang/String;
    invoke-virtual {p2, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_2

    .line 2515
    invoke-virtual {p2, v2}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    .line 2516
    .local v0, id:J
    invoke-static {v0, v1}, Landroid/provider/ContactsContract;->isProfileId(J)Z

    move-result v5

    if-nez v5, :cond_0

    .line 2521
    .end local v0           #id:J
    .end local v2           #idField:Ljava/lang/String;
    :cond_2
    const/4 v4, 0x0

    goto :goto_0
.end method

.method private static matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z
    .locals 6
    .parameter "query"
    .parameter "index"
    .parameter "value"
    .parameter "ignoreCase"

    .prologue
    const/4 v4, 0x0

    .line 9906
    invoke-virtual {p2}, Ljava/lang/String;->length()I

    move-result v5

    .local v5, length:I
    move-object v0, p0

    move v1, p3

    move v2, p1

    move-object v3, p2

    .line 9907
    invoke-virtual/range {v0 .. v5}, Ljava/lang/String;->regionMatches(ZILjava/lang/String;II)Z

    move-result v0

    if-eqz v0, :cond_1

    invoke-virtual {p0}, Ljava/lang/String;->length()I

    move-result v0

    add-int v1, p1, v5

    if-eq v0, v1, :cond_0

    add-int v0, p1, v5

    invoke-virtual {p0, v0}, Ljava/lang/String;->charAt(I)C

    move-result v0

    const/16 v1, 0x26

    if-ne v0, v1, :cond_1

    :cond_0
    const/4 v4, 0x1

    :cond_1
    return v4
.end method

.method private onLegacyContactImportFailure()V
    .locals 8

    .prologue
    const/4 v7, 0x0

    .line 2404
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    .line 2405
    .local v0, context:Landroid/content/Context;
    const-string v3, "notification"

    invoke-virtual {v0, v3}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/app/NotificationManager;

    .line 2409
    .local v2, nm:Landroid/app/NotificationManager;
    new-instance v1, Landroid/app/Notification;

    const v3, 0x1080078

    const v4, 0x7f05009b

    invoke-virtual {v0, v4}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v5

    invoke-direct {v1, v3, v4, v5, v6}, Landroid/app/Notification;-><init>(ILjava/lang/CharSequence;J)V

    .line 2412
    .local v1, n:Landroid/app/Notification;
    const v3, 0x7f05009c

    invoke-virtual {v0, v3}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v3

    const v4, 0x7f05009d

    invoke-virtual {v0, v4}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v4

    new-instance v5, Landroid/content/Intent;

    const-string v6, "com.android.contacts.action.LIST_DEFAULT"

    invoke-direct {v5, v6}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    invoke-static {v0, v7, v5, v7}, Landroid/app/PendingIntent;->getActivity(Landroid/content/Context;ILandroid/content/Intent;I)Landroid/app/PendingIntent;

    move-result-object v5

    invoke-virtual {v1, v0, v3, v4, v5}, Landroid/app/Notification;->setLatestEventInfo(Landroid/content/Context;Ljava/lang/CharSequence;Ljava/lang/CharSequence;Landroid/app/PendingIntent;)V

    .line 2416
    iget v3, v1, Landroid/app/Notification;->flags:I

    or-int/lit8 v3, v3, 0x22

    iput v3, v1, Landroid/app/Notification;->flags:I

    .line 2418
    const/4 v3, 0x1

    invoke-virtual {v2, v3, v1}, Landroid/app/NotificationManager;->notify(ILandroid/app/Notification;)V

    .line 2420
    const/4 v3, 0x2

    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 2421
    const-string v3, "ContactsProvider"

    const-string v4, "Failed to import legacy contacts"

    invoke-static {v3, v4}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2424
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mOkToOpenAccess:Z

    .line 2425
    return-void
.end method

.method private onLegacyContactImportSuccess()V
    .locals 4

    .prologue
    const/4 v3, 0x1

    .line 2389
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    const-string v2, "notification"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/app/NotificationManager;

    .line 2391
    .local v0, nm:Landroid/app/NotificationManager;
    invoke-virtual {v0, v3}, Landroid/app/NotificationManager;->cancel(I)V

    .line 2394
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v2, "contacts_imported_v1"

    invoke-static {v3}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setProperty(Ljava/lang/String;Ljava/lang/String;)V

    .line 2396
    const/4 v1, 0x0

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 2397
    const-string v1, "ContactsProvider"

    const-string v2, "Completed import of legacy contacts"

    invoke-static {v1, v2}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2398
    return-void
.end method

.method private openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "photoFileId"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    const/16 v5, 0xa

    .line 9133
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v2, p1, p2}, Lcom/android/providers/contacts/PhotoStore;->get(J)Lcom/android/providers/contacts/PhotoStore$Entry;

    move-result-object v0

    .line 9134
    .local v0, entry:Lcom/android/providers/contacts/PhotoStore$Entry;
    if-eqz v0, :cond_0

    .line 9136
    :try_start_0
    new-instance v2, Ljava/io/File;

    iget-object v3, v0, Lcom/android/providers/contacts/PhotoStore$Entry;->path:Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    const/high16 v3, 0x1000

    invoke-static {v2, v3}, Landroid/os/ParcelFileDescriptor;->open(Ljava/io/File;I)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    iget-wide v3, v0, Lcom/android/providers/contacts/PhotoStore$Entry;->size:J

    invoke-direct {p0, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    return-object v2

    .line 9140
    :catch_0
    move-exception v1

    .line 9141
    .local v1, fnfe:Ljava/io/FileNotFoundException;
    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 9142
    throw v1

    .line 9145
    .end local v1           #fnfe:Ljava/io/FileNotFoundException;
    :cond_0
    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 9146
    new-instance v2, Ljava/io/FileNotFoundException;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "No photo file found for ID "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v2, v3}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v2
.end method

.method private openDisplayPhotoForWrite(JJLandroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 11
    .parameter "rawContactId"
    .parameter "dataId"
    .parameter "uri"
    .parameter "mode"

    .prologue
    .line 9168
    :try_start_0
    invoke-static {}, Landroid/os/ParcelFileDescriptor;->createPipe()[Landroid/os/ParcelFileDescriptor;

    move-result-object v10

    .line 9169
    .local v10, pipeFds:[Landroid/os/ParcelFileDescriptor;
    new-instance v1, Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;

    const/4 v2, 0x0

    aget-object v7, v10, v2

    const/4 v8, 0x0

    move-object v2, p0

    move-wide v3, p1

    move-wide v5, p3

    invoke-direct/range {v1 .. v8}, Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;-><init>(Lcom/android/providers/contacts/ContactsProvider2;JJLandroid/os/ParcelFileDescriptor;Lcom/android/providers/contacts/ContactsProvider2$1;)V

    .line 9170
    .local v1, pipeMonitor:Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;
    sget-object v3, Landroid/os/AsyncTask;->THREAD_POOL_EXECUTOR:Ljava/util/concurrent/Executor;

    const/4 v2, 0x0

    check-cast v2, [Ljava/lang/Object;

    invoke-virtual {v1, v3, v2}, Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;->executeOnExecutor(Ljava/util/concurrent/Executor;[Ljava/lang/Object;)Landroid/os/AsyncTask;

    .line 9171
    new-instance v2, Landroid/content/res/AssetFileDescriptor;

    const/4 v3, 0x1

    aget-object v3, v10, v3

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    invoke-direct/range {v2 .. v7}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    .line 9174
    .end local v1           #pipeMonitor:Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;
    .end local v10           #pipeFds:[Landroid/os/ParcelFileDescriptor;
    :goto_0
    return-object v2

    .line 9172
    :catch_0
    move-exception v9

    .line 9173
    .local v9, ioe:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Could not create temp image file in mode "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, p6

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 9174
    const/4 v2, 0x0

    goto :goto_0
.end method

.method private openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "db"
    .parameter "uri"
    .parameter "mode"
    .parameter "selection"
    .parameter "selectionArgs"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 9108
    const-string v2, "r"

    invoke-virtual {v2, p3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_0

    .line 9109
    new-instance v3, Ljava/io/FileNotFoundException;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Mode "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " not supported."

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4, p2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v2

    invoke-direct {v3, v2}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 9113
    :cond_0
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "SELECT data15 FROM "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getDataView()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, " WHERE "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 9117
    .local v1, sql:Ljava/lang/String;
    :try_start_0
    invoke-static {p1, v1, p5}, Landroid/database/DatabaseUtils;->blobFileDescriptorForQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDoneException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    return-object v2

    .line 9119
    :catch_0
    move-exception v0

    .line 9121
    .local v0, e:Landroid/database/sqlite/SQLiteDoneException;
    new-instance v2, Ljava/io/FileNotFoundException;

    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v2, v3}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v2
.end method

.method private outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V
    .locals 11
    .parameter "uri"
    .parameter "stream"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    const/4 v2, 0x0

    .line 9287
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v6

    .line 9288
    .local v6, context:Landroid/content/Context;
    sget v8, Lcom/android/vcard/VCardConfig;->VCARD_TYPE_DEFAULT:I

    .line 9289
    .local v8, vcardconfig:I
    const-string v1, "nophoto"

    invoke-virtual {p1, v1, v2}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 9291
    const/high16 v1, 0x80

    or-int/2addr v8, v1

    .line 9293
    :cond_0
    new-instance v0, Lcom/android/vcard/VCardComposer;

    invoke-direct {v0, v6, v8, v2}, Lcom/android/vcard/VCardComposer;-><init>(Landroid/content/Context;IZ)V

    .line 9295
    .local v0, composer:Lcom/android/vcard/VCardComposer;
    const/4 v9, 0x0

    .line 9297
    .local v9, writer:Ljava/io/Writer;
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v1

    if-eqz v1, :cond_3

    .line 9301
    sget-object v1, Landroid/provider/ContactsContract$RawContactsEntity;->PROFILE_CONTENT_URI:Landroid/net/Uri;

    invoke-direct {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v5

    .line 9306
    .local v5, rawContactsUri:Landroid/net/Uri;
    :goto_0
    :try_start_0
    new-instance v10, Ljava/io/BufferedWriter;

    new-instance v1, Ljava/io/OutputStreamWriter;

    invoke-direct {v1, p2}, Ljava/io/OutputStreamWriter;-><init>(Ljava/io/OutputStream;)V

    invoke-direct {v10, v1}, Ljava/io/BufferedWriter;-><init>(Ljava/io/Writer;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_5

    .line 9307
    .end local v9           #writer:Ljava/io/Writer;
    .local v10, writer:Ljava/io/Writer;
    const/4 v4, 0x0

    move-object v1, p1

    move-object v2, p3

    move-object v3, p4

    :try_start_1
    invoke-virtual/range {v0 .. v5}, Lcom/android/vcard/VCardComposer;->init(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/net/Uri;)Z

    move-result v1

    if-nez v1, :cond_4

    .line 9308
    const-string v1, "ContactsProvider"

    const-string v2, "Failed to init VCardComposer"

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1

    .line 9318
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 9319
    if-eqz v10, :cond_1

    .line 9321
    :try_start_2
    invoke-virtual {v10}, Ljava/io/Writer;->close()V
    :try_end_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_0

    :cond_1
    :goto_1
    move-object v9, v10

    .line 9327
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    :cond_2
    :goto_2
    return-void

    .line 9303
    .end local v5           #rawContactsUri:Landroid/net/Uri;
    :cond_3
    sget-object v5, Landroid/provider/ContactsContract$RawContactsEntity;->CONTENT_URI:Landroid/net/Uri;

    .restart local v5       #rawContactsUri:Landroid/net/Uri;
    goto :goto_0

    .line 9322
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catch_0
    move-exception v7

    .line 9323
    .local v7, e:Ljava/io/IOException;
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_1

    .line 9312
    .end local v7           #e:Ljava/io/IOException;
    :cond_4
    :goto_3
    :try_start_3
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->isAfterLast()Z

    move-result v1

    if-nez v1, :cond_5

    .line 9313
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->createOneEntry()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v10, v1}, Ljava/io/Writer;->write(Ljava/lang/String;)V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto :goto_3

    .line 9315
    :catch_1
    move-exception v7

    move-object v9, v10

    .line 9316
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v7       #e:Ljava/io/IOException;
    .restart local v9       #writer:Ljava/io/Writer;
    :goto_4
    :try_start_4
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0

    .line 9318
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 9319
    if-eqz v9, :cond_2

    .line 9321
    :try_start_5
    invoke-virtual {v9}, Ljava/io/Writer;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    goto :goto_2

    .line 9322
    :catch_2
    move-exception v7

    .line 9323
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9318
    .end local v7           #e:Ljava/io/IOException;
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :cond_5
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 9319
    if-eqz v10, :cond_7

    .line 9321
    :try_start_6
    invoke-virtual {v10}, Ljava/io/Writer;->close()V
    :try_end_6
    .catch Ljava/io/IOException; {:try_start_6 .. :try_end_6} :catch_3

    move-object v9, v10

    .line 9324
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto :goto_2

    .line 9322
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catch_3
    move-exception v7

    .line 9323
    .restart local v7       #e:Ljava/io/IOException;
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    move-object v9, v10

    .line 9324
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto/16 :goto_2

    .line 9318
    .end local v7           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v1

    :goto_5
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 9319
    if-eqz v9, :cond_6

    .line 9321
    :try_start_7
    invoke-virtual {v9}, Ljava/io/Writer;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    .line 9324
    :cond_6
    :goto_6
    throw v1

    .line 9322
    :catch_4
    move-exception v7

    .line 9323
    .restart local v7       #e:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "IOException during closing output stream: "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_6

    .line 9318
    .end local v7           #e:Ljava/io/IOException;
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catchall_1
    move-exception v1

    move-object v9, v10

    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto :goto_5

    .line 9315
    :catch_5
    move-exception v7

    goto/16 :goto_4

    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :cond_7
    move-object v9, v10

    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto/16 :goto_2
.end method

.method private parseMainName(Ljava/lang/String;)Landroid/database/Cursor;
    .locals 11
    .parameter "displayName"

    .prologue
    const/4 v10, 0x3

    const/4 v9, 0x2

    const/4 v8, 0x1

    const/4 v7, 0x0

    .line 5844
    const/4 v0, 0x0

    .line 5846
    .local v0, c:Landroid/database/Cursor;
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    .line 5847
    .local v5, update:Landroid/content/ContentValues;
    new-instance v2, Lcom/android/providers/contacts/NameSplitter$Name;

    invoke-direct {v2}, Lcom/android/providers/contacts/NameSplitter$Name;-><init>()V

    .line 5848
    .local v2, name:Lcom/android/providers/contacts/NameSplitter$Name;
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-virtual {v6, v2, p1}, Lcom/android/providers/contacts/NameSplitter;->splicateWesterNameWithoutffixName(Lcom/android/providers/contacts/NameSplitter$Name;Ljava/lang/String;)V

    .line 5849
    invoke-virtual {v2, v5}, Lcom/android/providers/contacts/NameSplitter$Name;->toValues(Landroid/content/ContentValues;)V

    .line 5851
    new-array v1, v10, [Ljava/lang/String;

    const-string v6, "data2"

    aput-object v6, v1, v7

    const-string v6, "data5"

    aput-object v6, v1, v8

    const-string v6, "data3"

    aput-object v6, v1, v9

    .line 5852
    .local v1, columns:[Ljava/lang/String;
    const/4 v3, 0x0

    .line 5853
    .local v3, row:[Ljava/lang/Object;
    new-instance v4, Landroid/database/MatrixCursor;

    invoke-direct {v4, v1}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 5854
    .local v4, selfCursor:Landroid/database/MatrixCursor;
    new-array v3, v10, [Ljava/lang/Object;

    .line 5855
    const-string v6, "data2"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v6

    aput-object v6, v3, v7

    .line 5856
    const-string v6, "data5"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v6

    aput-object v6, v3, v8

    .line 5857
    const-string v6, "data3"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v6

    aput-object v6, v3, v9

    .line 5858
    invoke-virtual {v4, v3}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    .line 5859
    move-object v0, v4

    .line 5860
    return-object v0
.end method

.method private parseName(Ljava/lang/String;)Landroid/database/Cursor;
    .locals 11
    .parameter "displayName"

    .prologue
    const/4 v10, 0x4

    const/4 v9, 0x3

    const/4 v8, 0x2

    const/4 v7, 0x1

    const/4 v6, 0x0

    .line 6374
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    .line 6375
    .local v4, update:Landroid/content/ContentValues;
    new-instance v1, Lcom/android/providers/contacts/NameSplitter$Name;

    invoke-direct {v1}, Lcom/android/providers/contacts/NameSplitter$Name;-><init>()V

    .line 6376
    .local v1, name:Lcom/android/providers/contacts/NameSplitter$Name;
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-virtual {v5, v1, p1}, Lcom/android/providers/contacts/NameSplitter;->split(Lcom/android/providers/contacts/NameSplitter$Name;Ljava/lang/String;)V

    .line 6377
    invoke-virtual {v1, v4}, Lcom/android/providers/contacts/NameSplitter$Name;->toValues(Landroid/content/ContentValues;)V

    .line 6379
    const/4 v5, 0x5

    new-array v0, v5, [Ljava/lang/String;

    const-string v5, "data2"

    aput-object v5, v0, v6

    const-string v5, "data5"

    aput-object v5, v0, v7

    const-string v5, "data3"

    aput-object v5, v0, v8

    const-string v5, "data4"

    aput-object v5, v0, v9

    const-string v5, "data6"

    aput-object v5, v0, v10

    .line 6382
    .local v0, columns:[Ljava/lang/String;
    const/4 v2, 0x0

    .line 6383
    .local v2, row:[Ljava/lang/Object;
    new-instance v3, Landroid/database/MatrixCursor;

    invoke-direct {v3, v0}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 6384
    .local v3, selfCursor:Landroid/database/MatrixCursor;
    const/4 v5, 0x5

    new-array v2, v5, [Ljava/lang/Object;

    .line 6385
    const-string v5, "data2"

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v2, v6

    .line 6386
    const-string v5, "data5"

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v2, v7

    .line 6387
    const-string v5, "data3"

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v2, v8

    .line 6388
    const-string v5, "data4"

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v2, v9

    .line 6389
    const-string v5, "data6"

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v2, v10

    .line 6390
    invoke-virtual {v3, v2}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    .line 6391
    return-object v3
.end method

.method private preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;
    .locals 8
    .parameter "uri"

    .prologue
    .line 2651
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mRandom:Ljava/security/SecureRandom;

    invoke-virtual {v4}, Ljava/security/SecureRandom;->nextLong()J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    .line 2652
    .local v3, token:Ljava/lang/String;
    invoke-virtual {p1}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;

    move-result-object v4

    const-string v5, "perm_token"

    invoke-virtual {v4, v5, v3}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    move-result-object v4

    invoke-virtual {v4}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v0

    .line 2655
    .local v0, authUri:Landroid/net/Uri;
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iget-wide v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUriDuration:J

    add-long v1, v4, v6

    .line 2656
    .local v1, expiration:J
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    invoke-interface {v4, v0, v5}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2658
    return-object v0
.end method

.method private processStreamItemPhoto(Landroid/content/ContentValues;Z)Z
    .locals 11
    .parameter "values"
    .parameter "forUpdate"

    .prologue
    const/4 v6, 0x0

    const/4 v5, 0x1

    .line 3625
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-nez v4, :cond_1

    .line 3648
    .end local p2
    :cond_0
    :goto_0
    return p2

    .line 3628
    .restart local p2
    :cond_1
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->getAsByteArray(Ljava/lang/String;)[B

    move-result-object v1

    .line 3629
    .local v1, photoBytes:[B
    if-eqz v1, :cond_0

    .line 3635
    :try_start_0
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/PhotoStore;

    new-instance v7, Lcom/android/providers/contacts/PhotoProcessor;

    iget v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxDisplayPhotoDim:I

    iget v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxThumbnailPhotoDim:I

    const/4 v10, 0x1

    invoke-direct {v7, v1, v8, v9, v10}, Lcom/android/providers/contacts/PhotoProcessor;-><init>([BIIZ)V

    const/4 v8, 0x1

    invoke-virtual {v4, v7, v8}, Lcom/android/providers/contacts/PhotoStore;->insert(Lcom/android/providers/contacts/PhotoProcessor;Z)J

    move-result-wide v2

    .line 3637
    .local v2, photoFileId:J
    const-wide/16 v7, 0x0

    cmp-long v4, v2, v7

    if-eqz v4, :cond_2

    .line 3638
    const-string v4, "photo_file_id"

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v7

    invoke-virtual {p1, v4, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3639
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    move p2, v5

    .line 3640
    goto :goto_0

    .line 3643
    :cond_2
    const-string v4, "ContactsProvider"

    const-string v5, "Could not process stream item photo for insert"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    move p2, v6

    .line 3644
    goto :goto_0

    .line 3646
    .end local v2           #photoFileId:J
    :catch_0
    move-exception v0

    .line 3647
    .local v0, ioe:Ljava/io/IOException;
    const-string v4, "ContactsProvider"

    const-string v5, "Could not process stream item photo for insert"

    invoke-static {v4, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    move p2, v6

    .line 3648
    goto :goto_0
.end method

.method private query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    .locals 10
    .parameter "db"
    .parameter "qb"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "groupBy"
    .parameter "limit"

    .prologue
    .line 7821
    if-eqz p3, :cond_0

    array-length v0, p3

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    const-string v0, "_count"

    const/4 v1, 0x0

    aget-object v1, p3, v1

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7823
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sCountProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p2, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7825
    :cond_0
    const/4 v6, 0x0

    move-object v0, p2

    move-object v1, p1

    move-object v2, p3

    move-object v3, p4

    move-object v4, p5

    move-object/from16 v5, p7

    move-object/from16 v7, p6

    move-object/from16 v8, p8

    invoke-virtual/range {v0 .. v8}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 7827
    .local v9, c:Landroid/database/Cursor;
    if-eqz v9, :cond_1

    .line 7828
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    invoke-interface {v9, v0, v1}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V

    .line 7830
    :cond_1
    return-object v9
.end method

.method private queryProviderStatus(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;
    .locals 5
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 7837
    new-instance v0, Landroid/database/MatrixCursor;

    invoke-direct {v0, p2}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 7838
    .local v0, cursor:Landroid/database/MatrixCursor;
    invoke-virtual {v0}, Landroid/database/MatrixCursor;->newRow()Landroid/database/MatrixCursor$RowBuilder;

    move-result-object v2

    .line 7839
    .local v2, row:Landroid/database/MatrixCursor$RowBuilder;
    const/4 v1, 0x0

    .local v1, i:I
    :goto_0
    array-length v3, p2

    if-ge v1, v3, :cond_2

    .line 7840
    const-string v3, "status"

    aget-object v4, p2, v1

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 7841
    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/database/MatrixCursor$RowBuilder;->add(Ljava/lang/Object;)Landroid/database/MatrixCursor$RowBuilder;

    .line 7839
    :cond_0
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 7842
    :cond_1
    const-string v3, "data1"

    aget-object v4, p2, v1

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 7843
    iget-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mEstimatedStorageRequirement:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/database/MatrixCursor$RowBuilder;->add(Ljava/lang/Object;)Landroid/database/MatrixCursor$RowBuilder;

    goto :goto_1

    .line 7846
    :cond_2
    return-object v0
.end method

.method private queryUnEditableAccount(Ljava/util/ArrayList;)Ljava/util/ArrayList;
    .locals 10
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;)",
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation

    .prologue
    .line 10324
    .local p1, oldList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    new-instance v6, Ljava/util/ArrayList;

    invoke-direct {v6}, Ljava/util/ArrayList;-><init>()V

    .line 10325
    .local v6, supportContactAuthorities:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    const-string v9, "com.android.contacts"

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10326
    const-string v9, "com.htc.socialnetwork.snprovider"

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10327
    const-string v9, "htceas"

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10328
    const-string v9, "com.htc.plurk.Users"

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10329
    const-string v9, "com.htc.htctwitter.Users"

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10332
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V

    .line 10333
    .local v0, accountTypes:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    invoke-static {}, Landroid/content/ContentResolver;->getContentService()Landroid/content/IContentService;

    move-result-object v2

    .line 10335
    .local v2, cs:Landroid/content/IContentService;
    :try_start_0
    invoke-interface {v2}, Landroid/content/IContentService;->getSyncAdapterTypes()[Landroid/content/SyncAdapterType;

    move-result-object v8

    .line 10337
    .local v8, syncs:[Landroid/content/SyncAdapterType;
    move-object v1, v8

    .local v1, arr$:[Landroid/content/SyncAdapterType;
    array-length v5, v1

    .local v5, len$:I
    const/4 v4, 0x0

    .local v4, i$:I
    :goto_0
    if-ge v4, v5, :cond_1

    aget-object v7, v1, v4

    .line 10338
    .local v7, sync:Landroid/content/SyncAdapterType;
    if-eqz v7, :cond_0

    iget-object v9, v7, Landroid/content/SyncAdapterType;->authority:Ljava/lang/String;

    if-eqz v9, :cond_0

    iget-object v9, v7, Landroid/content/SyncAdapterType;->authority:Ljava/lang/String;

    invoke-virtual {v6, v9}, Ljava/util/ArrayList;->contains(Ljava/lang/Object;)Z

    move-result v9

    if-eqz v9, :cond_0

    iget-object v9, v7, Landroid/content/SyncAdapterType;->accountType:Ljava/lang/String;

    if-eqz v9, :cond_0

    .line 10340
    invoke-virtual {v7}, Landroid/content/SyncAdapterType;->supportsUploading()Z

    move-result v9

    if-nez v9, :cond_0

    .line 10341
    iget-object v9, v7, Landroid/content/SyncAdapterType;->accountType:Ljava/lang/String;

    invoke-virtual {v0, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10337
    :cond_0
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    .line 10345
    .end local v1           #arr$:[Landroid/content/SyncAdapterType;
    .end local v4           #i$:I
    .end local v5           #len$:I
    .end local v7           #sync:Landroid/content/SyncAdapterType;
    .end local v8           #syncs:[Landroid/content/SyncAdapterType;
    :catch_0
    move-exception v3

    .line 10346
    .local v3, e:Landroid/os/RemoteException;
    invoke-virtual {v3}, Landroid/os/RemoteException;->printStackTrace()V

    .line 10347
    move-object v0, p1

    .line 10350
    .end local v3           #e:Landroid/os/RemoteException;
    :cond_1
    return-object v0
.end method

.method private queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    .locals 11
    .parameter "lookupQb"
    .parameter "db"
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "groupBy"
    .parameter "limit"
    .parameter "contactIdColumn"
    .parameter "contactId"
    .parameter "lookupKeyColumn"
    .parameter "lookupKey"

    .prologue
    .line 7860
    if-nez p6, :cond_0

    .line 7861
    const/4 v1, 0x2

    new-array v6, v1, [Ljava/lang/String;

    .line 7866
    .local v6, args:[Ljava/lang/String;
    :goto_0
    const/4 v1, 0x0

    invoke-static/range {p11 .. p12}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v6, v1

    .line 7867
    const/4 v1, 0x1

    invoke-static/range {p14 .. p14}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v6, v1

    .line 7868
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, p10

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "=? AND "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    move-object/from16 v0, p13

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "=?"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    move-object v1, p0

    move-object v2, p2

    move-object v3, p1

    move-object v4, p4

    move-object/from16 v5, p5

    move-object/from16 v7, p7

    move-object/from16 v8, p8

    move-object/from16 v9, p9

    .line 7869
    invoke-direct/range {v1 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 7871
    .local v10, c:Landroid/database/Cursor;
    invoke-interface {v10}, Landroid/database/Cursor;->getCount()I

    move-result v1

    if-eqz v1, :cond_1

    .line 7876
    .end local v10           #c:Landroid/database/Cursor;
    :goto_1
    return-object v10

    .line 7863
    .end local v6           #args:[Ljava/lang/String;
    :cond_0
    move-object/from16 v0, p6

    array-length v1, v0

    add-int/lit8 v1, v1, 0x2

    new-array v6, v1, [Ljava/lang/String;

    .line 7864
    .restart local v6       #args:[Ljava/lang/String;
    const/4 v1, 0x0

    const/4 v2, 0x2

    move-object/from16 v0, p6

    array-length v3, v0

    move-object/from16 v0, p6

    invoke-static {v0, v1, v6, v2, v3}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_0

    .line 7875
    .restart local v10       #c:Landroid/database/Cursor;
    :cond_1
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 7876
    const/4 v10, 0x0

    goto :goto_1
.end method

.method private rawContactIsLocal(J)Z
    .locals 11
    .parameter "rawContactId"

    .prologue
    const/4 v4, 0x2

    const/4 v5, 0x0

    const/4 v9, 0x1

    const/4 v10, 0x0

    .line 4812
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "raw_contacts"

    const/4 v2, 0x3

    new-array v2, v2, [Ljava/lang/String;

    const-string v3, "account_name"

    aput-object v3, v2, v10

    const-string v3, "account_type"

    aput-object v3, v2, v9

    const-string v3, "data_set"

    aput-object v3, v2, v4

    const-string v3, "_id=?"

    new-array v4, v9, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v10

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 4821
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->isNull(I)Z

    move-result v0

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    invoke-interface {v8, v0}, Landroid/database/Cursor;->isNull(I)Z

    move-result v0

    if-eqz v0, :cond_0

    const/4 v0, 0x2

    invoke-interface {v8, v0}, Landroid/database/Cursor;->isNull(I)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v0

    if-eqz v0, :cond_0

    move v0, v9

    .line 4823
    :goto_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    return v0

    :cond_0
    move v0, v10

    .line 4821
    goto :goto_0

    .line 4823
    :catchall_0
    move-exception v0

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method static readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z
    .locals 5
    .parameter "uri"
    .parameter "parameter"
    .parameter "defaultValue"

    .prologue
    const/4 v2, 0x1

    const/4 v3, 0x0

    .line 9888
    invoke-virtual {p0}, Landroid/net/Uri;->getEncodedQuery()Ljava/lang/String;

    move-result-object v1

    .line 9889
    .local v1, query:Ljava/lang/String;
    if-nez v1, :cond_1

    .line 9900
    .end local p2
    :cond_0
    :goto_0
    return p2

    .line 9893
    .restart local p2
    :cond_1
    invoke-virtual {v1, p1}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v0

    .line 9894
    .local v0, index:I
    const/4 v4, -0x1

    if-eq v0, v4, :cond_0

    .line 9898
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v4

    add-int/2addr v0, v4

    .line 9900
    const-string v4, "=0"

    invoke-static {v1, v0, v4, v3}, Lcom/android/providers/contacts/ContactsProvider2;->matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z

    move-result v4

    if-nez v4, :cond_2

    const-string v4, "=false"

    invoke-static {v1, v0, v4, v2}, Lcom/android/providers/contacts/ContactsProvider2;->matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z

    move-result v4

    if-nez v4, :cond_2

    :goto_1
    move p2, v2

    goto :goto_0

    :cond_2
    move v2, v3

    goto :goto_1
.end method

.method protected static sanitizeMatch(Ljava/lang/String;)Ljava/lang/String;
    .locals 3
    .parameter "filter"

    .prologue
    .line 8527
    const-string v0, "\'"

    const-string v1, ""

    invoke-virtual {p0, v0, v1}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "*"

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "-"

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "\""

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private setModifyToGroupTrackingTable(Ljava/lang/String;)V
    .locals 3
    .parameter "groupID"

    .prologue
    .line 1572
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "UPDATE aabGroupsTracking SET _modify=1 WHERE _id=\'"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "\';"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 1573
    .local v0, sql:Ljava/lang/String;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v1, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 1574
    return-void
.end method

.method private setRawContactDirtyForceZero(J)V
    .locals 0
    .parameter "rawContactId"

    .prologue
    .line 9573
    return-void
.end method

.method private setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V
    .locals 1
    .parameter "qb"

    .prologue
    .line 8651
    const-string v0, "photo_files JOIN stream_item_photos ON (stream_item_photos.photo_file_id=photo_files._id) JOIN stream_items ON (stream_item_photos.stream_item_id=stream_items._id) JOIN raw_contacts ON (stream_items.raw_contact_id=raw_contacts._id)"

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8661
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemPhotosProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8662
    return-void
.end method

.method private setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V
    .locals 2
    .parameter "qb"

    .prologue
    .line 8641
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getStreamItemsView()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " AS "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "view_stream_items"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8647
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8648
    return-void
.end method

.method private statusUpdateToHtml(Ljava/lang/String;)Ljava/lang/String;
    .locals 1
    .parameter "status"

    .prologue
    .line 4313
    invoke-static {p1}, Landroid/text/TextUtils;->htmlEncode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private tryUpdateSearchIndexInTransaction()V
    .locals 4

    .prologue
    .line 10427
    :try_start_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInTransaction()V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_0} :catch_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1

    .line 10441
    :cond_0
    :goto_0
    return-void

    .line 10428
    :catch_0
    move-exception v0

    .line 10429
    .local v0, e:Landroid/database/sqlite/SQLiteException;
    const-string v2, "ContactsProvider"

    const-string v3, ""

    invoke-static {v2, v3, v0}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 10430
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    .line 10431
    .local v1, transcationContext:Lcom/android/providers/contacts/TransactionContext;
    if-eqz v1, :cond_0

    .line 10432
    invoke-virtual {v1}, Lcom/android/providers/contacts/TransactionContext;->clearSearchIndexUpdates()V

    goto :goto_0

    .line 10434
    .end local v0           #e:Landroid/database/sqlite/SQLiteException;
    .end local v1           #transcationContext:Lcom/android/providers/contacts/TransactionContext;
    :catch_1
    move-exception v0

    .line 10435
    .local v0, e:Ljava/lang/Exception;
    const-string v2, "ContactsProvider"

    const-string v3, ""

    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 10436
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    .line 10437
    .restart local v1       #transcationContext:Lcom/android/providers/contacts/TransactionContext;
    if-eqz v1, :cond_0

    .line 10438
    invoke-virtual {v1}, Lcom/android/providers/contacts/TransactionContext;->clearSearchIndexUpdates()V

    goto :goto_0
.end method

.method private updateAggregationException(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)I
    .locals 23
    .parameter "db"
    .parameter "values"

    .prologue
    .line 5704
    const-string v3, "type"

    move-object/from16 v0, p2

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I

    move-result v12

    .line 5705
    .local v12, exceptionType:I
    const-string v3, "raw_contact_id1"

    move-object/from16 v0, p2

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v19, v0

    .line 5706
    .local v19, rcId1:J
    const-string v3, "raw_contact_id2"

    move-object/from16 v0, p2

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v21, v0

    .line 5710
    .local v21, rcId2:J
    cmp-long v3, v19, v21

    if-gez v3, :cond_3

    .line 5711
    move-wide/from16 v15, v19

    .line 5712
    .local v15, rawContactId1:J
    move-wide/from16 v17, v21

    .line 5720
    .local v17, rawContactId2:J
    :goto_0
    const/4 v14, 0x0

    .line 5721
    .local v14, needReturn:Z
    const-string v4, "raw_contacts"

    const/4 v3, 0x1

    new-array v5, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v6, "aggregation_mode"

    aput-object v6, v5, v3

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id IN ("

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide v0, v15

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, " , "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide/from16 v0, v17

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, ")"

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    move-object/from16 v3, p1

    invoke-virtual/range {v3 .. v10}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v11

    .line 5724
    .local v11, c:Landroid/database/Cursor;
    if-eqz v11, :cond_2

    .line 5725
    :cond_0
    invoke-interface {v11}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_1

    .line 5726
    const/4 v3, 0x0

    invoke-interface {v11, v3}, Landroid/database/Cursor;->getInt(I)I

    move-result v3

    const/4 v4, 0x3

    if-ne v3, v4, :cond_0

    .line 5727
    const/4 v14, 0x1

    .line 5734
    :cond_1
    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    .line 5736
    :cond_2
    if-eqz v14, :cond_4

    .line 5737
    const/4 v3, 0x0

    .line 5767
    :goto_1
    return v3

    .line 5714
    .end local v11           #c:Landroid/database/Cursor;
    .end local v14           #needReturn:Z
    .end local v15           #rawContactId1:J
    .end local v17           #rawContactId2:J
    :cond_3
    move-wide/from16 v17, v19

    .line 5715
    .restart local v17       #rawContactId2:J
    move-wide/from16 v15, v21

    .restart local v15       #rawContactId1:J
    goto :goto_0

    .line 5741
    .restart local v11       #c:Landroid/database/Cursor;
    .restart local v14       #needReturn:Z
    :cond_4
    if-nez v12, :cond_5

    .line 5742
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    .line 5743
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v4, 0x1

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    .line 5744
    const-string v3, "agg_exceptions"

    const-string v4, "raw_contact_id1=? AND raw_contact_id2=?"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    move-object/from16 v0, p1

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 5756
    :goto_2
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactAggregator;->invalidateAggregationExceptionCache()V

    .line 5757
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactAggregator;

    const/4 v4, 0x0

    const/4 v5, 0x1

    move-wide v0, v15

    invoke-virtual {v3, v0, v1, v4, v5}, Lcom/android/providers/contacts/ContactAggregator;->markForAggregation(JIZ)V

    .line 5759
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactAggregator;

    const/4 v4, 0x0

    const/4 v5, 0x1

    move-wide/from16 v0, v17

    invoke-virtual {v3, v0, v1, v4, v5}, Lcom/android/providers/contacts/ContactAggregator;->markForAggregation(JIZ)V

    .line 5762
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-object/from16 v0, p1

    move-wide v1, v15

    invoke-virtual {v3, v4, v0, v1, v2}, Lcom/android/providers/contacts/ContactAggregator;->aggregateContact(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 5763
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-object/from16 v0, p1

    move-wide/from16 v1, v17

    invoke-virtual {v3, v4, v0, v1, v2}, Lcom/android/providers/contacts/ContactAggregator;->aggregateContact(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 5767
    const/4 v3, 0x1

    goto/16 :goto_1

    .line 5748
    :cond_5
    new-instance v13, Landroid/content/ContentValues;

    const/4 v3, 0x3

    invoke-direct {v13, v3}, Landroid/content/ContentValues;-><init>(I)V

    .line 5749
    .local v13, exceptionValues:Landroid/content/ContentValues;
    const-string v3, "type"

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v13, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 5750
    const-string v3, "raw_contact_id1"

    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v13, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 5751
    const-string v3, "raw_contact_id2"

    invoke-static/range {v17 .. v18}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v13, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 5752
    const-string v3, "agg_exceptions"

    const-string v4, "_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3, v4, v13}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    goto/16 :goto_2
.end method

.method private updateContactInfoAfterAccountUpdate()V
    .locals 15

    .prologue
    .line 10082
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    if-eqz v0, :cond_4

    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lez v0, :cond_4

    .line 10084
    const/4 v8, 0x0

    .line 10086
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    new-instance v14, Ljava/lang/StringBuilder;

    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V

    .line 10087
    .local v14, sb:Ljava/lang/StringBuilder;
    const-string v0, "_id"

    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10088
    const-string v0, " IN ("

    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10089
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v11

    .local v11, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v11}, Ljava/util/Iterator;->hasNext()Z

    move-result v0

    if-eqz v0, :cond_1

    invoke-interface {v11}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Long;

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v12

    .line 10090
    .local v12, id:J
    invoke-virtual {v14, v12, v13}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 10091
    const-string v0, ","

    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 10108
    .end local v11           #i$:Ljava/util/Iterator;
    .end local v12           #id:J
    .end local v14           #sb:Ljava/lang/StringBuilder;
    :catchall_0
    move-exception v0

    if-eqz v8, :cond_0

    .line 10109
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    :cond_0
    throw v0

    .line 10093
    .restart local v11       #i$:Ljava/util/Iterator;
    .restart local v14       #sb:Ljava/lang/StringBuilder;
    :cond_1
    :try_start_1
    invoke-virtual {v14}, Ljava/lang/StringBuilder;->length()I

    move-result v0

    add-int/lit8 v0, v0, -0x1

    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 10094
    const-string v0, ")"

    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 10096
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "contacts"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "_id"

    aput-object v4, v2, v3

    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 10099
    if-eqz v8, :cond_2

    .line 10100
    :goto_1
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 10101
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 10102
    .local v9, contactId:J
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactAggregator;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v1, v9, v10}, Lcom/android/providers/contacts/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_1

    .line 10108
    .end local v9           #contactId:J
    :cond_2
    if-eqz v8, :cond_3

    .line 10109
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 10115
    :cond_3
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyBatchModifyContact(Ljava/util/ArrayList;)V

    .line 10118
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->clear()V

    .line 10120
    .end local v8           #c:Landroid/database/Cursor;
    .end local v11           #i$:Ljava/util/Iterator;
    .end local v14           #sb:Ljava/lang/StringBuilder;
    :cond_4
    return-void
.end method

.method private updateContactsAccountCount([Landroid/accounts/Account;)V
    .locals 6
    .parameter "accounts"

    .prologue
    .line 6451
    const/4 v2, 0x0

    .line 6452
    .local v2, count:I
    move-object v1, p1

    .local v1, arr$:[Landroid/accounts/Account;
    array-length v4, v1

    .local v4, len$:I
    const/4 v3, 0x0

    .local v3, i$:I
    :goto_0
    if-ge v3, v4, :cond_1

    aget-object v0, v1, v3

    .line 6453
    .local v0, account:Landroid/accounts/Account;
    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->isContactsAccount(Landroid/accounts/Account;)Z

    move-result v5

    if-eqz v5, :cond_0

    .line 6454
    add-int/lit8 v2, v2, 0x1

    .line 6452
    :cond_0
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 6457
    .end local v0           #account:Landroid/accounts/Account;
    :cond_1
    iput v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsAccountCount:I

    .line 6458
    return-void
.end method

.method private updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 12
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5539
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1}, Landroid/content/ContentValues;->clear()V

    .line 5540
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 5541
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5542
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5543
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "mimetype"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5545
    const-string v1, "res_package"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v11

    .line 5546
    .local v11, packageName:Ljava/lang/String;
    if-eqz v11, :cond_0

    .line 5547
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5548
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "package_id"

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, v11}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v2, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 5551
    :cond_0
    if-nez p5, :cond_1

    .line 5552
    const-string v1, "is_read_only=0"

    invoke-static {p3, v1}, Landroid/database/DatabaseUtils;->concatenateWhere(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 5556
    :cond_1
    const/4 v10, 0x0

    .line 5560
    .local v10, count:I
    sget-object v3, Lcom/android/providers/contacts/DataRowHandler$DataUpdateQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v6, 0x0

    const-wide/16 v7, -0x1

    move-object v1, p0

    move-object v2, p1

    move-object v4, p3

    move-object/from16 v5, p4

    invoke-virtual/range {v1 .. v8}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v9

    .line 5564
    .local v9, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 5566
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLocalDataValues:Landroid/content/ContentValues;

    invoke-virtual {v1}, Landroid/content/ContentValues;->clear()V

    .line 5567
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLocalDataValues:Landroid/content/ContentValues;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 5568
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLocalDataValues:Landroid/content/ContentValues;

    move/from16 v0, p5

    invoke-virtual {p0, v1, v9, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/content/ContentValues;Landroid/database/Cursor;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v1

    add-int/2addr v10, v1

    goto :goto_0

    .line 5573
    :cond_2
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 5576
    return v10

    .line 5573
    :catchall_0
    move-exception v1

    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private updateProviderStatus()V
    .locals 9

    .prologue
    const/4 v8, 0x0

    const/4 v7, 0x4

    const/4 v6, 0x0

    .line 2185
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eqz v4, :cond_0

    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eq v4, v7, :cond_0

    .line 2207
    :goto_0
    return-void

    .line 2192
    :cond_0
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsAccountCount:I

    if-nez v4, :cond_2

    .line 2193
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v4

    const-string v5, "contacts"

    invoke-static {v4, v5, v8}, Landroid/database/DatabaseUtils;->queryNumEntries(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;Ljava/lang/String;)J

    move-result-wide v0

    .line 2195
    .local v0, contactsNum:J
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v4

    const-string v5, "contacts"

    invoke-static {v4, v5, v8}, Landroid/database/DatabaseUtils;->queryNumEntries(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;Ljava/lang/String;)J

    move-result-wide v2

    .line 2199
    .local v2, profileNum:J
    const-wide/16 v4, 0x0

    cmp-long v4, v0, v4

    if-nez v4, :cond_1

    const-wide/16 v4, 0x1

    cmp-long v4, v2, v4

    if-gtz v4, :cond_1

    .line 2200
    invoke-virtual {p0, v7}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0

    .line 2202
    :cond_1
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0

    .line 2205
    .end local v0           #contactsNum:J
    .end local v2           #profileNum:J
    :cond_2
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0
.end method

.method private updateRawContact(JLandroid/content/ContentValues;Z)I
    .locals 24
    .parameter "rawContactId"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5444
    const-string v22, "_id = ?"

    .line 5445
    .local v22, selection:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    .line 5446
    const-string v4, "deleted"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_b

    const-string v4, "deleted"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-nez v4, :cond_b

    const/16 v21, 0x1

    .line 5448
    .local v21, requestUndoDelete:Z
    :goto_0
    const/16 v20, 0x0

    .line 5449
    .local v20, previousDeleted:I
    const/4 v13, 0x0

    .line 5450
    .local v13, accountType:Ljava/lang/String;
    const/4 v12, 0x0

    .line 5451
    .local v12, accountName:Ljava/lang/String;
    const/16 v19, 0x0

    .line 5452
    .local v19, dataSet:Ljava/lang/String;
    if-eqz v21, :cond_1

    .line 5453
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "raw_contacts"

    sget-object v6, Lcom/android/providers/contacts/ContactsProvider2$RawContactsQuery;->COLUMNS:[Ljava/lang/String;

    const-string v7, "_id = ?"

    move-object/from16 v0, p0

    iget-object v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v18

    .line 5456
    .local v18, cursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_0

    .line 5457
    const/4 v4, 0x0

    move-object/from16 v0, v18

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getInt(I)I

    move-result v20

    .line 5458
    const/4 v4, 0x1

    move-object/from16 v0, v18

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v13

    .line 5459
    const/4 v4, 0x2

    move-object/from16 v0, v18

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 5460
    const/4 v4, 0x3

    move-object/from16 v0, v18

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v19

    .line 5463
    :cond_0
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    .line 5465
    const-string v4, "aggregation_mode"

    const/4 v5, 0x0

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    move-object/from16 v0, p3

    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 5469
    .end local v18           #cursor:Landroid/database/Cursor;
    :cond_1
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "raw_contacts"

    const-string v6, "_id = ?"

    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p3

    invoke-virtual {v4, v5, v0, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v17

    .line 5470
    .local v17, count:I
    if-eqz v17, :cond_9

    .line 5471
    const-string v4, "aggregation_mode"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_2

    .line 5472
    const-string v4, "aggregation_mode"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v14

    .line 5476
    .local v14, aggregationMode:I
    if-eqz v14, :cond_2

    .line 5477
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    const/4 v5, 0x0

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1, v14, v5}, Lcom/android/providers/contacts/ContactAggregator;->markForAggregation(JIZ)V

    .line 5480
    .end local v14           #aggregationMode:I
    :cond_2
    const-string v4, "starred"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_d

    .line 5481
    if-nez p4, :cond_3

    .line 5482
    const-string v4, "starred"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    const-wide/16 v6, 0x0

    cmp-long v4, v4, v6

    if-eqz v4, :cond_c

    const/4 v4, 0x1

    :goto_1
    move-object/from16 v0, p0

    move-wide/from16 v1, p1

    invoke-virtual {v0, v1, v2, v4}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    .line 5486
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V

    .line 5489
    :cond_3
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateStarred(J)V

    .line 5505
    :cond_4
    :goto_2
    if-nez p4, :cond_5

    const-string v4, "account_name"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_5

    .line 5506
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->addAutoAddMembership(J)V

    .line 5509
    :cond_5
    const-string v4, "sourceid"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_6

    .line 5510
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v5, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateLookupKeyForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 5512
    :cond_6
    const-string v4, "name_verified"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_8

    .line 5516
    const-string v4, "name_verified"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-eqz v4, :cond_7

    .line 5517
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->resetNameVerifiedForOtherRawContacts(J)V

    .line 5519
    :cond_7
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v5, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateDisplayNameForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 5521
    :cond_8
    if-eqz v21, :cond_9

    const/4 v4, 0x1

    move/from16 v0, v20

    if-ne v0, v4, :cond_9

    .line 5522
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    new-instance v5, Lcom/android/providers/contacts/AccountWithDataSet;

    move-object/from16 v0, v19

    invoke-direct {v5, v12, v13, v0}, Lcom/android/providers/contacts/AccountWithDataSet;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1, v5}, Lcom/android/providers/contacts/TransactionContext;->rawContactInserted(JLcom/android/providers/contacts/AccountWithDataSet;)V

    .line 5528
    :cond_9
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getContactId(J)J

    move-result-wide v15

    .line 5529
    .local v15, contactId:J
    if-lez v17, :cond_a

    const-wide/16 v4, 0x0

    cmp-long v4, v15, v4

    if-lez v4, :cond_a

    .line 5530
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    move-wide v0, v15

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyContact(J)V

    .line 5534
    :cond_a
    return v17

    .line 5446
    .end local v12           #accountName:Ljava/lang/String;
    .end local v13           #accountType:Ljava/lang/String;
    .end local v15           #contactId:J
    .end local v17           #count:I
    .end local v19           #dataSet:Ljava/lang/String;
    .end local v20           #previousDeleted:I
    .end local v21           #requestUndoDelete:Z
    :cond_b
    const/16 v21, 0x0

    goto/16 :goto_0

    .line 5463
    .restart local v12       #accountName:Ljava/lang/String;
    .restart local v13       #accountType:Ljava/lang/String;
    .restart local v18       #cursor:Landroid/database/Cursor;
    .restart local v19       #dataSet:Ljava/lang/String;
    .restart local v20       #previousDeleted:I
    .restart local v21       #requestUndoDelete:Z
    :catchall_0
    move-exception v4

    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    throw v4

    .line 5482
    .end local v18           #cursor:Landroid/database/Cursor;
    .restart local v17       #count:I
    :cond_c
    const/4 v4, 0x0

    goto/16 :goto_1

    .line 5495
    :cond_d
    if-nez p4, :cond_4

    const-string v4, "account_name"

    move-object/from16 v0, p3

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_4

    .line 5496
    const-wide/16 v5, 0x0

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v7, "SELECT starred FROM raw_contacts WHERE _id=?"

    const/4 v8, 0x1

    new-array v8, v8, [Ljava/lang/String;

    const/4 v9, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v10

    aput-object v10, v8, v9

    invoke-static {v4, v7, v8}, Landroid/database/DatabaseUtils;->longForQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)J

    move-result-wide v7

    cmp-long v4, v5, v7

    if-eqz v4, :cond_e

    const/16 v23, 0x1

    .line 5499
    .local v23, starred:Z
    :goto_3
    move-object/from16 v0, p0

    move-wide/from16 v1, p1

    move/from16 v3, v23

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    goto/16 :goto_2

    .line 5496
    .end local v23           #starred:Z
    :cond_e
    const/16 v23, 0x0

    goto :goto_3
.end method

.method private updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 13
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5410
    const-string v1, "contact_id"

    invoke-virtual {p1, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 5411
    new-instance v1, Ljava/lang/IllegalArgumentException;

    const-string v2, "contact_id should not be included in content values. Contact IDs are assigned automatically"

    invoke-direct {v1, v2}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v1

    .line 5416
    :cond_0
    if-nez p4, :cond_1

    .line 5417
    const-string v1, "raw_contact_is_read_only=0"

    invoke-static {p2, v1}, Landroid/database/DatabaseUtils;->concatenateWhere(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p2

    .line 5421
    :cond_1
    const/4 v9, 0x0

    .line 5422
    .local v9, count:I
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getRawContactsView()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, " AS "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "view_raw_contacts"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v3, v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object v4, p2

    move-object/from16 v5, p3

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 5430
    .local v10, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 5431
    const/4 v1, 0x0

    invoke-interface {v10, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v11

    .line 5432
    .local v11, rawContactId:J
    move/from16 v0, p4

    invoke-direct {p0, v11, v12, p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContact(JLandroid/content/ContentValues;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 5433
    add-int/lit8 v9, v9, 0x1

    .line 5434
    goto :goto_0

    .line 5436
    .end local v11           #rawContactId:J
    :cond_2
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 5439
    return v9

    .line 5436
    :catchall_0
    move-exception v1

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private updateSearchIndexInTransaction()V
    .locals 3

    .prologue
    .line 2800
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->getStaleSearchIndexContactIds()Ljava/util/Set;

    move-result-object v0

    .line 2801
    .local v0, staleContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->getStaleSearchIndexRawContactIds()Ljava/util/Set;

    move-result-object v1

    .line 2802
    .local v1, staleRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {v0}, Ljava/util/Set;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_0

    invoke-interface {v1}, Ljava/util/Set;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_1

    .line 2803
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    invoke-virtual {v2, v0, v1}, Lcom/android/providers/contacts/SearchIndexManager;->updateIndexForRawContacts(Ljava/util/Set;Ljava/util/Set;)V

    .line 2804
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->clearSearchIndexUpdates()V

    .line 2806
    :cond_1
    return-void
.end method

.method private updateSourceID_ForAAB(Ljava/lang/Long;Ljava/lang/String;)V
    .locals 27
    .parameter "rawContactId"
    .parameter "displayNamePrimary"

    .prologue
    .line 3358
    if-nez p1, :cond_0

    .line 3466
    :goto_0
    return-void

    .line 3362
    :cond_0
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    const-string v24, " SELECT count(_id) from raw_contacts where _id = "

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, p1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, " AND account_type= \'"

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, "com.htc.android.pcsc"

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, "\'"

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    .line 3365
    .local v9, checkABBCotactSql:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v23, v0

    invoke-virtual/range {v23 .. v23}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Landroid/database/sqlite/SQLiteDatabase;

    .line 3366
    .local v13, db:Landroid/database/sqlite/SQLiteDatabase;
    const/16 v23, 0x0

    move-object/from16 v0, v23

    invoke-virtual {v13, v9, v0}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 3367
    .local v10, checkC:Landroid/database/Cursor;
    if-eqz v10, :cond_2

    .line 3369
    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v23

    if-eqz v23, :cond_1

    .line 3370
    const/16 v23, 0x0

    move/from16 v0, v23

    invoke-interface {v10, v0}, Landroid/database/Cursor;->getInt(I)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v11

    .line 3371
    .local v11, counts:I
    if-nez v11, :cond_1

    .line 3376
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    goto :goto_0

    .end local v11           #counts:I
    :cond_1
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 3396
    :cond_2
    const/16 v20, 0x0

    .line 3397
    .local v20, primaryPhone:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    move-object/from16 v23, v0

    invoke-virtual/range {v23 .. v23}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v23

    check-cast v23, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v24, "vnd.android.cursor.item/phone_v2"

    invoke-virtual/range {v23 .. v24}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v15

    .line 3398
    .local v15, mimetypeId:J
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    const-string v24, "SELECT _id,data1 FROM data WHERE raw_contact_id = "

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, p1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, " AND mimetype_id = "

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-wide v1, v15

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, "  AND is_primary = 1 "

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    .line 3400
    .local v22, sqlcmd1:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v23, v0

    invoke-virtual/range {v23 .. v23}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v23

    check-cast v23, Landroid/database/sqlite/SQLiteDatabase;

    const/16 v24, 0x0

    move-object/from16 v0, v23

    move-object/from16 v1, v22

    move-object/from16 v2, v24

    invoke-virtual {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3401
    .local v8, c:Landroid/database/Cursor;
    if-eqz v8, :cond_3

    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v23

    if-eqz v23, :cond_3

    .line 3402
    const-string v23, "data1"

    move-object/from16 v0, v23

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I

    move-result v23

    move/from16 v0, v23

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v20

    .line 3405
    :cond_3
    if-eqz v8, :cond_4

    invoke-interface {v8}, Landroid/database/Cursor;->isClosed()Z

    move-result v23

    if-nez v23, :cond_4

    .line 3406
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3409
    :cond_4
    const/16 v17, 0x0

    .line 3410
    .local v17, part1:Ljava/lang/String;
    if-eqz v20, :cond_9

    .line 3411
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v17

    .line 3416
    :goto_1
    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I

    move-result v23

    const/16 v24, 0xa

    move/from16 v0, v23

    move/from16 v1, v24

    if-ge v0, v1, :cond_5

    .line 3417
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    move-object/from16 v1, v17

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, "0000000000"

    const/16 v25, 0x0

    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I

    move-result v26

    rsub-int/lit8 v26, v26, 0xa

    invoke-virtual/range {v24 .. v26}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v24

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v17

    .line 3421
    :cond_5
    :try_start_1
    const-string v23, "MD5"

    invoke-static/range {v23 .. v23}, Ljava/security/MessageDigest;->getInstance(Ljava/lang/String;)Ljava/security/MessageDigest;

    move-result-object v14

    .line 3422
    .local v14, md:Ljava/security/MessageDigest;
    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->getBytes()[B

    move-result-object v23

    move-object/from16 v0, v23

    invoke-virtual {v14, v0}, Ljava/security/MessageDigest;->digest([B)[B

    move-result-object v21

    .line 3423
    .local v21, result:[B
    const/16 v23, 0x0

    move-object/from16 v0, v21

    move/from16 v1, v23

    invoke-static {v0, v1}, Lcom/android/providers/contacts/Hex;->encodeHex([BZ)Ljava/lang/String;
    :try_end_1
    .catch Ljava/security/NoSuchAlgorithmException; {:try_start_1 .. :try_end_1} :catch_1

    move-result-object v17

    .line 3427
    .end local v14           #md:Ljava/security/MessageDigest;
    .end local v21           #result:[B
    :goto_2
    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I

    move-result v23

    const/16 v24, 0xa

    move/from16 v0, v23

    move/from16 v1, v24

    if-le v0, v1, :cond_6

    .line 3428
    const/16 v23, 0x0

    const/16 v24, 0xa

    move-object/from16 v0, v17

    move/from16 v1, v23

    move/from16 v2, v24

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v17

    .line 3431
    :cond_6
    const-string v23, "yyyyMMddkkmmss"

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v24

    invoke-static/range {v23 .. v25}, Landroid/text/format/DateFormat;->format(Ljava/lang/CharSequence;J)Ljava/lang/CharSequence;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v18

    .line 3433
    .local v18, part23:Ljava/lang/String;
    const-string v23, "ro.gsm.imei"

    invoke-static/range {v23 .. v23}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 3434
    .local v5, IMEI:Ljava/lang/String;
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v23

    const-string v24, "phone"

    invoke-virtual/range {v23 .. v24}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v23

    check-cast v23, Landroid/telephony/TelephonyManager;

    invoke-virtual/range {v23 .. v23}, Landroid/telephony/TelephonyManager;->getLine1Number()Ljava/lang/String;

    move-result-object v6

    .line 3435
    .local v6, MSISDN:Ljava/lang/String;
    const-string v23, "ro.product.model"

    invoke-static/range {v23 .. v23}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    .line 3437
    .local v4, DEVICEMODEL:Ljava/lang/String;
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v19

    .line 3439
    .local v19, part4:Ljava/lang/String;
    invoke-virtual/range {v19 .. v19}, Ljava/lang/String;->length()I

    move-result v23

    const/16 v24, 0x10

    move/from16 v0, v23

    move/from16 v1, v24

    if-ge v0, v1, :cond_7

    .line 3440
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    const-string v24, "0000000000000000"

    const/16 v25, 0x0

    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I

    move-result v26

    rsub-int/lit8 v26, v26, 0x10

    invoke-virtual/range {v24 .. v26}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v24

    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v19

    .line 3445
    :cond_7
    :try_start_2
    const-string v23, "MD5"

    invoke-static/range {v23 .. v23}, Ljava/security/MessageDigest;->getInstance(Ljava/lang/String;)Ljava/security/MessageDigest;

    move-result-object v14

    .line 3446
    .restart local v14       #md:Ljava/security/MessageDigest;
    invoke-virtual/range {v19 .. v19}, Ljava/lang/String;->getBytes()[B

    move-result-object v23

    move-object/from16 v0, v23

    invoke-virtual {v14, v0}, Ljava/security/MessageDigest;->digest([B)[B

    move-result-object v21

    .line 3447
    .restart local v21       #result:[B
    const/16 v23, 0x0

    move-object/from16 v0, v21

    move/from16 v1, v23

    invoke-static {v0, v1}, Lcom/android/providers/contacts/Hex;->encodeHex([BZ)Ljava/lang/String;
    :try_end_2
    .catch Ljava/security/NoSuchAlgorithmException; {:try_start_2 .. :try_end_2} :catch_0

    move-result-object v19

    .line 3451
    .end local v14           #md:Ljava/security/MessageDigest;
    .end local v21           #result:[B
    :goto_3
    invoke-virtual/range {v19 .. v19}, Ljava/lang/String;->length()I

    move-result v23

    const/16 v24, 0x10

    move/from16 v0, v23

    move/from16 v1, v24

    if-le v0, v1, :cond_8

    .line 3452
    const/16 v23, 0x0

    const/16 v24, 0x10

    move-object/from16 v0, v19

    move/from16 v1, v23

    move/from16 v2, v24

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v19

    .line 3455
    :cond_8
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    move-object/from16 v1, v17

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .line 3460
    .local v7, UID:Ljava/lang/String;
    new-instance v12, Landroid/content/ContentValues;

    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V

    .line 3461
    .local v12, cv:Landroid/content/ContentValues;
    const-string v23, "sourceid"

    move-object/from16 v0, v23

    invoke-virtual {v12, v0, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3462
    invoke-virtual/range {p1 .. p1}, Ljava/lang/Long;->longValue()J

    move-result-wide v23

    const/16 v25, 0x0

    move-object/from16 v0, p0

    move-wide/from16 v1, v23

    move/from16 v3, v25

    invoke-direct {v0, v1, v2, v12, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContact(JLandroid/content/ContentValues;Z)I

    goto/16 :goto_0

    .line 3376
    .end local v4           #DEVICEMODEL:Ljava/lang/String;
    .end local v5           #IMEI:Ljava/lang/String;
    .end local v6           #MSISDN:Ljava/lang/String;
    .end local v7           #UID:Ljava/lang/String;
    .end local v8           #c:Landroid/database/Cursor;
    .end local v12           #cv:Landroid/content/ContentValues;
    .end local v15           #mimetypeId:J
    .end local v17           #part1:Ljava/lang/String;
    .end local v18           #part23:Ljava/lang/String;
    .end local v19           #part4:Ljava/lang/String;
    .end local v20           #primaryPhone:Ljava/lang/String;
    .end local v22           #sqlcmd1:Ljava/lang/String;
    :catchall_0
    move-exception v23

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v23

    .line 3413
    .restart local v8       #c:Landroid/database/Cursor;
    .restart local v15       #mimetypeId:J
    .restart local v17       #part1:Ljava/lang/String;
    .restart local v20       #primaryPhone:Ljava/lang/String;
    .restart local v22       #sqlcmd1:Ljava/lang/String;
    :cond_9
    new-instance v23, Ljava/lang/StringBuilder;

    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    move-object/from16 v1, p1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v23

    move-object/from16 v0, v23

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v23

    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v17

    goto/16 :goto_1

    .line 3448
    .restart local v4       #DEVICEMODEL:Ljava/lang/String;
    .restart local v5       #IMEI:Ljava/lang/String;
    .restart local v6       #MSISDN:Ljava/lang/String;
    .restart local v18       #part23:Ljava/lang/String;
    .restart local v19       #part4:Ljava/lang/String;
    :catch_0
    move-exception v23

    goto :goto_3

    .line 3424
    .end local v4           #DEVICEMODEL:Ljava/lang/String;
    .end local v5           #IMEI:Ljava/lang/String;
    .end local v6           #MSISDN:Ljava/lang/String;
    .end local v18           #part23:Ljava/lang/String;
    .end local v19           #part4:Ljava/lang/String;
    :catch_1
    move-exception v23

    goto/16 :goto_2
.end method

.method private updateStatusUpdate(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 15
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 5176
    const/4 v14, 0x0

    .line 5177
    .local v14, updateCount:I
    move-object/from16 v0, p2

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->getSettableColumnsForStatusUpdatesTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;

    move-result-object v13

    .line 5178
    .local v13, settableValues:Landroid/content/ContentValues;
    invoke-virtual {v13}, Landroid/content/ContentValues;->size()I

    move-result v2

    if-lez v2, :cond_0

    .line 5179
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "status_updates"

    move-object/from16 v0, p3

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p4

    invoke-virtual {v2, v3, v13, v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v14

    .line 5186
    :cond_0
    move-object/from16 v0, p2

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->getSettableColumnsForPresenceTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;

    move-result-object v13

    .line 5189
    const/4 v11, 0x0

    .line 5191
    .local v11, oldPresence:I
    const/4 v10, 0x0

    .line 5193
    .local v10, cursor:Landroid/database/Cursor;
    :try_start_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "presence"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    const-string v6, "mode"

    aput-object v6, v4, v5

    const-string v5, "protocol=3"

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 5195
    if-eqz v10, :cond_1

    .line 5196
    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 5197
    const/4 v2, 0x0

    invoke-interface {v10, v2}, Landroid/database/Cursor;->getInt(I)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v11

    .line 5202
    :cond_1
    if-eqz v10, :cond_2

    .line 5203
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 5206
    :cond_2
    const-string v2, "mode"

    invoke-virtual {v13, v2}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v12

    .line 5207
    .local v12, presence:Ljava/lang/Integer;
    if-eqz v12, :cond_4

    .line 5208
    const/4 v2, 0x5

    if-le v11, v2, :cond_3

    .line 5210
    invoke-virtual {v12}, Ljava/lang/Integer;->intValue()I

    move-result v2

    if-lez v2, :cond_3

    invoke-virtual {v12}, Ljava/lang/Integer;->intValue()I

    move-result v2

    const/4 v3, 0x5

    if-gt v2, v3, :cond_3

    .line 5211
    invoke-virtual {v12}, Ljava/lang/Integer;->intValue()I

    move-result v2

    add-int/lit8 v2, v2, 0x5

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    .line 5217
    :cond_3
    const-string v2, "mode"

    invoke-virtual {v13, v2, v12}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 5221
    :cond_4
    invoke-virtual {v13}, Landroid/content/ContentValues;->size()I

    move-result v2

    if-lez v2, :cond_5

    .line 5222
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "presence"

    move-object/from16 v0, p3

    move-object/from16 v1, p4

    invoke-virtual {v2, v3, v13, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v14

    .line 5227
    :cond_5
    return v14

    .line 5202
    .end local v12           #presence:Ljava/lang/Integer;
    :catchall_0
    move-exception v2

    if-eqz v10, :cond_6

    .line 5203
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    :cond_6
    throw v2
.end method

.method private updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 5250
    const-string v1, "stream_item_id"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5253
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 5254
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, p3, p4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccountForStreamItemPhotos(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;

    .line 5258
    const-string v1, "account_name"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5259
    const-string v1, "account_type"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5262
    const/4 v1, 0x1

    invoke-direct {p0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->processStreamItemPhoto(Landroid/content/ContentValues;Z)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 5264
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "stream_item_photos"

    invoke-virtual {v1, v2, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    .line 5267
    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 5233
    const-string v1, "raw_contact_id"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5236
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 5237
    .local v0, account:Landroid/accounts/Account;
    invoke-direct {p0, v0, p3, p4}, Lcom/android/providers/contacts/ContactsProvider2;->enforceModifyingAccountForStreamItems(Landroid/accounts/Account;Ljava/lang/String;[Ljava/lang/String;)Ljava/util/List;

    .line 5240
    const-string v1, "account_name"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5241
    const-string v1, "account_type"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 5244
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "stream_items"

    invoke-virtual {v1, v2, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method


# virtual methods
.method protected addDeferredSnippetingExtra(Landroid/database/Cursor;)Landroid/database/Cursor;
    .locals 4
    .parameter "cursor"

    .prologue
    .line 6614
    instance-of v2, p1, Landroid/database/AbstractCursor;

    if-eqz v2, :cond_1

    .line 6615
    invoke-interface {p1}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;

    move-result-object v1

    .line 6616
    .local v1, oldExtras:Landroid/os/Bundle;
    new-instance v0, Landroid/os/Bundle;

    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V

    .line 6617
    .local v0, extras:Landroid/os/Bundle;
    if-eqz v1, :cond_0

    .line 6618
    invoke-virtual {v0, v1}, Landroid/os/Bundle;->putAll(Landroid/os/Bundle;)V

    .line 6620
    :cond_0
    const-string v2, "deferred_snippeting"

    const/4 v3, 0x1

    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    move-object v2, p1

    .line 6621
    check-cast v2, Landroid/database/AbstractCursor;

    invoke-virtual {v2, v0}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    .line 6623
    .end local v0           #extras:Landroid/os/Bundle;
    .end local v1           #oldExtras:Landroid/os/Bundle;
    :cond_1
    return-object p1
.end method

.method protected addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;
    .locals 13
    .parameter "uri"
    .parameter "cursor"

    .prologue
    const/4 v12, 0x3

    const/4 v11, 0x2

    const/4 v10, 0x1

    .line 6573
    if-nez p2, :cond_1

    .line 6574
    const/4 p2, 0x0

    .line 6610
    .end local p2
    :cond_0
    :goto_0
    return-object p2

    .line 6577
    .restart local p2
    :cond_1
    const-string v9, "snippet"

    invoke-interface {p2, v9}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v9

    if-ltz v9, :cond_0

    .line 6582
    const/4 v0, 0x0

    .line 6583
    .local v0, args:[Ljava/lang/String;
    const-string v9, "snippet_args"

    invoke-static {p1, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 6585
    .local v7, snippetArgs:Ljava/lang/String;
    if-eqz v7, :cond_2

    .line 6586
    const-string v9, ","

    invoke-virtual {v7, v9}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v0

    .line 6589
    :cond_2
    invoke-virtual {p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v6

    .line 6590
    .local v6, query:Ljava/lang/String;
    if-eqz v0, :cond_4

    array-length v9, v0

    if-lez v9, :cond_4

    const/4 v9, 0x0

    aget-object v8, v0, v9

    .line 6592
    .local v8, startMatch:Ljava/lang/String;
    :goto_1
    if-eqz v0, :cond_5

    array-length v9, v0

    if-le v9, v10, :cond_5

    aget-object v2, v0, v10

    .line 6594
    .local v2, endMatch:Ljava/lang/String;
    :goto_2
    if-eqz v0, :cond_6

    array-length v9, v0

    if-le v9, v11, :cond_6

    aget-object v1, v0, v11

    .line 6596
    .local v1, ellipsis:Ljava/lang/String;
    :goto_3
    if-eqz v0, :cond_7

    array-length v9, v0

    if-le v9, v12, :cond_7

    aget-object v9, v0, v12

    invoke-static {v9}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v4

    .line 6600
    .local v4, maxTokens:I
    :goto_4
    instance-of v9, p2, Landroid/database/AbstractCursor;

    if-eqz v9, :cond_0

    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->deferredSnippetingRequested(Landroid/net/Uri;)Z

    move-result v9

    if-eqz v9, :cond_0

    .line 6601
    invoke-interface {p2}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;

    move-result-object v5

    .line 6602
    .local v5, oldExtras:Landroid/os/Bundle;
    new-instance v3, Landroid/os/Bundle;

    invoke-direct {v3}, Landroid/os/Bundle;-><init>()V

    .line 6603
    .local v3, extras:Landroid/os/Bundle;
    if-eqz v5, :cond_3

    .line 6604
    invoke-virtual {v3, v5}, Landroid/os/Bundle;->putAll(Landroid/os/Bundle;)V

    .line 6606
    :cond_3
    const-string v9, "deferred_snippeting_query"

    invoke-virtual {v3, v9, v6}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V

    move-object v9, p2

    .line 6608
    check-cast v9, Landroid/database/AbstractCursor;

    invoke-virtual {v9, v3}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    goto :goto_0

    .line 6590
    .end local v1           #ellipsis:Ljava/lang/String;
    .end local v2           #endMatch:Ljava/lang/String;
    .end local v3           #extras:Landroid/os/Bundle;
    .end local v4           #maxTokens:I
    .end local v5           #oldExtras:Landroid/os/Bundle;
    .end local v8           #startMatch:Ljava/lang/String;
    :cond_4
    const-string v8, "["

    goto :goto_1

    .line 6592
    .restart local v8       #startMatch:Ljava/lang/String;
    :cond_5
    const-string v2, "]"

    goto :goto_2

    .line 6594
    .restart local v2       #endMatch:Ljava/lang/String;
    :cond_6
    const-string v1, "..."

    goto :goto_3

    .line 6596
    .restart local v1       #ellipsis:Ljava/lang/String;
    :cond_7
    const/16 v4, -0xa

    goto :goto_4
.end method

.method protected appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 9
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 8756
    const-string v6, "account_name"

    invoke-static {p2, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 8757
    .local v0, accountName:Ljava/lang/String;
    const-string v6, "account_type"

    invoke-static {p2, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 8758
    .local v1, accountType:Ljava/lang/String;
    const-string v6, "data_set"

    invoke-static {p2, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 8760
    .local v2, dataSet:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v7

    xor-int v3, v6, v7

    .line 8761
    .local v3, partialUri:Z
    if-eqz v3, :cond_0

    .line 8763
    new-instance v7, Ljava/lang/IllegalArgumentException;

    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v8, "Must specify both or neither of ACCOUNT_NAME and ACCOUNT_TYPE"

    invoke-virtual {v6, v8, p2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v6

    invoke-direct {v7, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 8769
    :cond_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_1

    const/4 v5, 0x1

    .line 8770
    .local v5, validAccount:Z
    :goto_0
    if-eqz v5, :cond_3

    .line 8771
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "account_name="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v0}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "account_type"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v1}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    .line 8775
    .local v4, toAppend:Ljava/lang/String;
    if-nez v2, :cond_2

    .line 8776
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v6, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND data_set IS NULL"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    .line 8781
    :goto_1
    invoke-virtual {p1, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 8785
    .end local v4           #toAppend:Ljava/lang/String;
    :goto_2
    return-void

    .line 8769
    .end local v5           #validAccount:Z
    :cond_1
    const/4 v5, 0x0

    goto :goto_0

    .line 8778
    .restart local v4       #toAppend:Ljava/lang/String;
    .restart local v5       #validAccount:Z
    :cond_2
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v6, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND data_set="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v2}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_1

    .line 8783
    .end local v4           #toAppend:Ljava/lang/String;
    :cond_3
    const-string v6, "1"

    invoke-virtual {p1, v6}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_2
.end method

.method protected appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;
    .locals 9
    .parameter "uri"
    .parameter "selection"

    .prologue
    .line 8790
    const-string v6, "account_name"

    invoke-static {p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 8791
    .local v0, accountName:Ljava/lang/String;
    const-string v6, "account_type"

    invoke-static {p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 8792
    .local v1, accountType:Ljava/lang/String;
    const-string v6, "data_set"

    invoke-static {p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 8794
    .local v2, dataSet:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v7

    xor-int v3, v6, v7

    .line 8795
    .local v3, partialUri:Z
    if-eqz v3, :cond_0

    .line 8797
    new-instance v7, Ljava/lang/IllegalArgumentException;

    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v8, "Must specify both or neither of ACCOUNT_NAME and ACCOUNT_TYPE"

    invoke-virtual {v6, v8, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v6

    invoke-direct {v7, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 8803
    :cond_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_3

    const/4 v5, 0x1

    .line 8804
    .local v5, validAccount:Z
    :goto_0
    if-eqz v5, :cond_2

    .line 8805
    new-instance v4, Ljava/lang/StringBuilder;

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "account_name="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v0}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "account_type"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v1}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-direct {v4, v6}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    .line 8809
    .local v4, selectionSb:Ljava/lang/StringBuilder;
    if-nez v2, :cond_4

    .line 8810
    const-string v6, " AND data_set IS NULL"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8815
    :goto_1
    invoke-static {p2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_1

    .line 8816
    const-string v6, " AND ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8817
    invoke-virtual {v4, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8818
    const/16 v6, 0x29

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 8820
    :cond_1
    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p2

    .line 8822
    .end local v4           #selectionSb:Ljava/lang/StringBuilder;
    .end local p2
    :cond_2
    return-object p2

    .line 8803
    .end local v5           #validAccount:Z
    .restart local p2
    :cond_3
    const/4 v5, 0x0

    goto :goto_0

    .line 8812
    .restart local v4       #selectionSb:Ljava/lang/StringBuilder;
    .restart local v5       #validAccount:Z
    :cond_4
    const-string v6, " AND data_set="

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static {v2}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_1
.end method

.method public appendContactFilterAsNestedQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)V
    .locals 1
    .parameter "sb"
    .parameter "filterParam"

    .prologue
    .line 9721
    const-string v0, "(SELECT DISTINCT contact_id FROM raw_contacts JOIN name_lookup ON(raw_contacts._id=raw_contact_id) WHERE normalized_name GLOB \'"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9728
    invoke-static {p2}, Lcom/android/providers/contacts/NameNormalizer;->normalize(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9729
    const-string v0, "*\' AND name_type IN(2,4,3))"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9731
    return-void
.end method

.method protected appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 4
    .parameter "sb"
    .parameter "projection"
    .parameter "contactIdColumn"

    .prologue
    .line 8725
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v1, 0x2

    new-array v1, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "contact_presence"

    aput-object v3, v1, v2

    const/4 v2, 0x1

    const-string v3, "contact_chat_capability"

    aput-object v3, v1, v2

    invoke-virtual {v0, p2, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8727
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN agg_presence ON ("

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " = "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "agg_presence.presence_contact_id"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8731
    :cond_0
    return-void
.end method

.method protected appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 4
    .parameter "sb"
    .parameter "projection"
    .parameter "lastStatusUpdateIdColumn"

    .prologue
    .line 8687
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v1, 0x5

    new-array v1, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "contact_status"

    aput-object v3, v1, v2

    const/4 v2, 0x1

    const-string v3, "contact_status_res_package"

    aput-object v3, v1, v2

    const/4 v2, 0x2

    const-string v3, "contact_status_icon"

    aput-object v3, v1, v2

    const/4 v2, 0x3

    const-string v3, "contact_status_label"

    aput-object v3, v1, v2

    const/4 v2, 0x4

    const-string v3, "contact_status_ts"

    aput-object v3, v1, v2

    invoke-virtual {v0, p2, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8693
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN status_updates contacts_status_updates ON ("

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "contacts_status_updates.status_update_data_id"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8698
    :cond_0
    return-void
.end method

.method protected appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 4
    .parameter "sb"
    .parameter "projection"
    .parameter "dataIdColumn"

    .prologue
    .line 8736
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v1, 0x2

    new-array v1, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "mode"

    aput-object v3, v1, v2

    const/4 v2, 0x1

    const-string v3, "chat_capability"

    aput-object v3, v1, v2

    invoke-virtual {v0, p2, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8737
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN presence ON (presence_data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8740
    :cond_0
    return-void
.end method

.method protected appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 4
    .parameter "sb"
    .parameter "projection"
    .parameter "dataIdColumn"

    .prologue
    .line 8702
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v1, 0x5

    new-array v1, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "status"

    aput-object v3, v1, v2

    const/4 v2, 0x1

    const-string v3, "status_res_package"

    aput-object v3, v1, v2

    const/4 v2, 0x2

    const-string v3, "status_icon"

    aput-object v3, v1, v2

    const/4 v2, 0x3

    const-string v3, "status_label"

    aput-object v3, v1, v2

    const/4 v2, 0x4

    const-string v3, "status_ts"

    aput-object v3, v1, v2

    invoke-virtual {v0, p2, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8708
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN status_updates ON (status_updates.status_update_data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8712
    :cond_0
    return-void
.end method

.method protected appendDataUsageStatJoin(Ljava/lang/StringBuilder;ILjava/lang/String;)V
    .locals 2
    .parameter "sb"
    .parameter "usageType"
    .parameter "dataIdColumn"

    .prologue
    .line 8716
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN data_usage_stat ON (data_usage_stat.data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " AND "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "data_usage_stat.usage_type"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8719
    return-void
.end method

.method protected appendLocalDirectorySelectionIfNeeded(Landroid/database/sqlite/SQLiteQueryBuilder;J)Z
    .locals 3
    .parameter "qb"
    .parameter "directoryId"

    .prologue
    const/4 v0, 0x1

    .line 8744
    const-wide/16 v1, 0x0

    cmp-long v1, p2, v1

    if-nez v1, :cond_0

    .line 8745
    const-string v1, "_id IN default_directory"

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 8751
    :goto_0
    return v0

    .line 8747
    :cond_0
    const-wide/16 v1, 0x1

    cmp-long v1, p2, v1

    if-nez v1, :cond_1

    .line 8748
    const-string v1, "_id NOT IN default_directory"

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 8751
    :cond_1
    const/4 v0, 0x0

    goto :goto_0
.end method

.method protected appendProjectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;
    .locals 4
    .parameter "projection"
    .parameter "arg"

    .prologue
    const/4 v3, 0x0

    .line 9812
    if-nez p1, :cond_0

    .line 9813
    const/4 v1, 0x0

    .line 9819
    :goto_0
    return-object v1

    .line 9815
    :cond_0
    array-length v0, p1

    .line 9816
    .local v0, length:I
    add-int/lit8 v2, v0, 0x1

    new-array v1, v2, [Ljava/lang/String;

    .line 9817
    .local v1, newProjection:[Ljava/lang/String;
    invoke-static {p1, v3, v1, v3, v0}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 9818
    aput-object p2, v1, v0

    goto :goto_0
.end method

.method protected appendSearchIndexJoin(Ljava/lang/StringBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;Z)V
    .locals 21
    .parameter "sb"
    .parameter "uri"
    .parameter "projection"
    .parameter "filter"
    .parameter "deferredSnippeting"

    .prologue
    .line 8355
    move-object/from16 v0, p0

    move-object/from16 v1, p3

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->snippetNeeded([Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_5

    .line 8356
    const/16 v19, 0x0

    .line 8357
    .local v19, args:[Ljava/lang/String;
    const-string v2, "snippet_args"

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v20

    .line 8359
    .local v20, snippetArgs:Ljava/lang/String;
    if-eqz v20, :cond_0

    .line 8360
    const-string v2, ","

    move-object/from16 v0, v20

    invoke-virtual {v0, v2}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v19

    .line 8363
    :cond_0
    if-eqz v19, :cond_1

    move-object/from16 v0, v19

    array-length v2, v0

    if-lez v2, :cond_1

    const/4 v2, 0x0

    aget-object v6, v19, v2

    .line 8365
    .local v6, startMatch:Ljava/lang/String;
    :goto_0
    if-eqz v19, :cond_2

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x1

    if-le v2, v3, :cond_2

    const/4 v2, 0x1

    aget-object v7, v19, v2

    .line 8367
    .local v7, endMatch:Ljava/lang/String;
    :goto_1
    if-eqz v19, :cond_3

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x2

    if-le v2, v3, :cond_3

    const/4 v2, 0x2

    aget-object v8, v19, v2

    .line 8369
    .local v8, ellipsis:Ljava/lang/String;
    :goto_2
    if-eqz v19, :cond_4

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x3

    if-le v2, v3, :cond_4

    const/4 v2, 0x3

    aget-object v2, v19, v2

    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v9

    .line 8372
    .local v9, maxTokens:I
    :goto_3
    const/4 v5, 0x1

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move/from16 v10, p5

    invoke-virtual/range {v2 .. v10}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V

    .line 8378
    .end local v6           #startMatch:Ljava/lang/String;
    .end local v7           #endMatch:Ljava/lang/String;
    .end local v8           #ellipsis:Ljava/lang/String;
    .end local v9           #maxTokens:I
    .end local v19           #args:[Ljava/lang/String;
    .end local v20           #snippetArgs:Ljava/lang/String;
    :goto_4
    return-void

    .line 8363
    .restart local v19       #args:[Ljava/lang/String;
    .restart local v20       #snippetArgs:Ljava/lang/String;
    :cond_1
    const-string v6, "["

    goto :goto_0

    .line 8365
    .restart local v6       #startMatch:Ljava/lang/String;
    :cond_2
    const-string v7, "]"

    goto :goto_1

    .line 8367
    .restart local v7       #endMatch:Ljava/lang/String;
    :cond_3
    const-string v8, "..."

    goto :goto_2

    .line 8369
    .restart local v8       #ellipsis:Ljava/lang/String;
    :cond_4
    const/16 v9, -0xa

    goto :goto_3

    .line 8376
    .end local v6           #startMatch:Ljava/lang/String;
    .end local v7           #endMatch:Ljava/lang/String;
    .end local v8           #ellipsis:Ljava/lang/String;
    .end local v19           #args:[Ljava/lang/String;
    .end local v20           #snippetArgs:Ljava/lang/String;
    :cond_5
    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p4

    invoke-virtual/range {v10 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V

    goto :goto_4
.end method

.method public appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V
    .locals 20
    .parameter "sb"
    .parameter "filter"
    .parameter "snippetNeeded"
    .parameter "startMatch"
    .parameter "endMatch"
    .parameter "ellipsis"
    .parameter "maxTokens"
    .parameter "deferredSnippeting"

    .prologue
    .line 8383
    const/4 v11, 0x0

    .line 8384
    .local v11, isEmailAddress:Z
    const/4 v10, 0x0

    .line 8385
    .local v10, emailAddress:Ljava/lang/String;
    const/4 v12, 0x0

    .line 8386
    .local v12, isPhoneNumber:Z
    const/16 v16, 0x0

    .line 8387
    .local v16, phoneNumber:Ljava/lang/String;
    const/4 v14, 0x0

    .line 8391
    .local v14, numberE164:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isSingleWordQuery(Ljava/lang/String;)Z

    move-result v19

    .line 8393
    .local v19, singleTokenSearch:Z
    const/16 v2, 0x40

    move-object/from16 v0, p2

    invoke-virtual {v0, v2}, Ljava/lang/String;->indexOf(I)I

    move-result v2

    const/4 v3, -0x1

    if-eq v2, v3, :cond_3

    .line 8394
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, p2

    invoke-virtual {v2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->extractAddressFromEmailAddress(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    .line 8395
    invoke-static {v10}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_2

    const/4 v11, 0x1

    .line 8405
    :cond_0
    :goto_0
    const-string v8, "snippet_contact_id"

    .line 8406
    .local v8, SNIPPET_CONTACT_ID:Ljava/lang/String;
    const-string v2, " JOIN (SELECT contact_id AS snippet_contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8407
    if-eqz p3, :cond_1

    .line 8408
    const-string v2, ", "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8409
    if-eqz v11, :cond_5

    .line 8410
    const-string v2, "ifnull("

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8411
    move-object/from16 v0, p1

    move-object/from16 v1, p4

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8412
    const-string v2, "||(SELECT MIN(data1)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8413
    const-string v2, " FROM data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8414
    const-string v2, " WHERE  search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8415
    const-string v2, "=contact_id AND data1 LIKE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8416
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, p2

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "%"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-static {v0, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8417
    const-string v2, ")||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8418
    move-object/from16 v0, p1

    move-object/from16 v1, p5

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8419
    const-string v2, ","

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8422
    if-eqz v19, :cond_4

    if-eqz p8, :cond_4

    .line 8423
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8427
    :goto_1
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8482
    :goto_2
    const-string v2, " AS snippet"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8485
    :cond_1
    const-string v2, " FROM search_index"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8486
    const-string v2, " WHERE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8487
    const-string v2, "search_index MATCH \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8488
    if-eqz v11, :cond_c

    .line 8494
    if-nez v10, :cond_b

    const-string v18, ""

    .line 8496
    .local v18, sanitizedEmailAddress:Ljava/lang/String;
    :goto_3
    const-string v2, "\""

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8497
    move-object/from16 v0, p1

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8498
    const-string v2, "*\""

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8522
    .end local v18           #sanitizedEmailAddress:Ljava/lang/String;
    :goto_4
    const-string v2, "\' AND snippet_contact_id IN default_directory)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8523
    const-string v2, " ON (_id=snippet_contact_id)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8524
    return-void

    .line 8395
    .end local v8           #SNIPPET_CONTACT_ID:Ljava/lang/String;
    :cond_2
    const/4 v11, 0x0

    goto/16 :goto_0

    .line 8397
    :cond_3
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isPhoneNumber(Ljava/lang/String;)Z

    move-result v12

    .line 8398
    if-eqz v12, :cond_0

    .line 8399
    invoke-static/range {p2 .. p2}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    .line 8400
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getCountryIso()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, v16

    invoke-static {v0, v2}, Landroid/telephony/PhoneNumberUtils;->formatNumberToE164(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v14

    goto/16 :goto_0

    .restart local v8       #SNIPPET_CONTACT_ID:Ljava/lang/String;
    :cond_4
    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 8425
    invoke-virtual/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    goto/16 :goto_1

    .line 8428
    :cond_5
    if-eqz v12, :cond_8

    .line 8429
    const-string v2, "ifnull("

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8430
    move-object/from16 v0, p1

    move-object/from16 v1, p4

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8431
    const-string v2, "||(SELECT MIN(data1)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8432
    const-string v2, " FROM data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN phone_lookup"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8434
    const-string v2, " ON data._id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8435
    const-string v2, "=phone_lookup.data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8436
    const-string v2, " WHERE  search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8437
    const-string v2, "=contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8438
    const-string v2, " AND normalized_number LIKE \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8439
    move-object/from16 v0, p1

    move-object/from16 v1, v16

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8440
    const-string v2, "%\'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8441
    invoke-static {v14}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_6

    .line 8442
    const-string v2, " OR normalized_number LIKE \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8443
    move-object/from16 v0, p1

    invoke-virtual {v0, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8444
    const-string v2, "%\'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8446
    :cond_6
    const-string v2, ")||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8447
    move-object/from16 v0, p1

    move-object/from16 v1, p5

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8448
    const-string v2, ","

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8451
    if-eqz v19, :cond_7

    if-eqz p8, :cond_7

    .line 8452
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8456
    :goto_5
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    :cond_7
    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 8454
    invoke-virtual/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    goto :goto_5

    .line 8458
    :cond_8
    invoke-static/range {p2 .. p2}, Lcom/android/providers/contacts/NameNormalizer;->normalize(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 8459
    .local v13, normalizedFilter:Ljava/lang/String;
    invoke-static {v13}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_a

    .line 8461
    if-eqz v19, :cond_9

    if-eqz p8, :cond_9

    .line 8462
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 8464
    :cond_9
    const-string v2, "(CASE WHEN EXISTS (SELECT 1 FROM "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8465
    const-string v2, "raw_contacts AS rc INNER JOIN "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8466
    const-string v2, "name_lookup AS nl ON (rc._id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8467
    const-string v2, "=nl.raw_contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8468
    const-string v2, ") WHERE nl.normalized_name"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8469
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " GLOB \'"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*\' AND "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8470
    const-string v2, "nl.name_type="

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8471
    const-string v2, "2 AND "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8472
    const-string v2, "search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8473
    const-string v2, "=rc.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8474
    const-string v2, ") THEN NULL ELSE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 8475
    invoke-virtual/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    .line 8476
    const-string v2, " END)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 8479
    :cond_a
    const-string v2, "NULL"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 8494
    .end local v13           #normalizedFilter:Ljava/lang/String;
    :cond_b
    invoke-static {v10}, Lcom/android/providers/contacts/ContactsProvider2;->sanitizeMatch(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v18

    goto/16 :goto_3

    .line 8499
    :cond_c
    if-eqz v12, :cond_e

    .line 8501
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " OR tokens:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    move-object/from16 v0, v16

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v17

    .line 8504
    .local v17, phoneNumberCriteria:Ljava/lang/String;
    if-eqz v14, :cond_d

    move-object/from16 v0, v16

    invoke-static {v14, v0}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_d

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " OR tokens:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    .line 8510
    .local v15, numberE164Criteria:Ljava/lang/String;
    :goto_6
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v17

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    .line 8514
    .local v9, commonCriteria:Ljava/lang/String;
    invoke-static {v9}, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->getDigitsQueryBuilder(Ljava/lang/String;)Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-result-object v2

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_4

    .line 8504
    .end local v9           #commonCriteria:Ljava/lang/String;
    .end local v15           #numberE164Criteria:Ljava/lang/String;
    :cond_d
    const-string v15, ""

    goto :goto_6

    .line 8518
    .end local v17           #phoneNumberCriteria:Ljava/lang/String;
    :cond_e
    sget-object v2, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->SCOPED_NAME_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_4
.end method

.method protected appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V
    .locals 1
    .parameter "sb"
    .parameter "startMatch"
    .parameter "endMatch"
    .parameter "ellipsis"
    .parameter "maxTokens"

    .prologue
    .line 8532
    const-string v0, "snippet(search_index,"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8533
    invoke-static {p1, p2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8534
    const-string v0, ","

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8535
    invoke-static {p1, p3}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8536
    const-string v0, ","

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8537
    invoke-static {p1, p4}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8540
    const-string v0, ",1,"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8541
    invoke-virtual {p1, p5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    .line 8542
    const-string v0, ")"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8543
    return-void
.end method

.method public applyBatch(Ljava/util/ArrayList;)[Landroid/content/ContentProviderResult;
    .locals 1
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Landroid/content/ContentProviderOperation;",
            ">;)[",
            "Landroid/content/ContentProviderResult;"
        }
    .end annotation

    .annotation system Ldalvik/annotation/Throws;
        value = {
            Landroid/content/OperationApplicationException;
        }
    .end annotation

    .prologue
    .line 2712
    .local p1, operations:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Landroid/content/ContentProviderOperation;>;"
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2713
    invoke-super {p0, p1}, Lcom/android/providers/contacts/AbstractContactsProvider;->applyBatch(Ljava/util/ArrayList;)[Landroid/content/ContentProviderResult;

    move-result-object v0

    return-object v0
.end method

.method protected broadcastAccountDeletionActionDone()V
    .locals 12

    .prologue
    .line 10202
    new-instance v2, Landroid/content/Intent;

    const-string v1, "com.htc.intent.action.ACTION_ACCOUNT_DELETION_CONTACT_UPDATE"

    invoke-direct {v2, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 10203
    .local v2, intent:Landroid/content/Intent;
    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;

    move-result-object v0

    .line 10204
    .local v0, am:Landroid/app/IActivityManager;
    if-eqz v0, :cond_0

    .line 10206
    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, -0x1

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    :try_start_0
    invoke-interface/range {v0 .. v10}, Landroid/app/IActivityManager;->broadcastIntent(Landroid/app/IApplicationThread;Landroid/content/Intent;Ljava/lang/String;Landroid/content/IIntentReceiver;ILjava/lang/String;Landroid/os/Bundle;Ljava/lang/String;ZZ)I
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10211
    :cond_0
    :goto_0
    return-void

    .line 10207
    :catch_0
    move-exception v11

    .line 10208
    .local v11, e:Landroid/os/RemoteException;
    const-string v1, "ContactsProvider"

    const-string v3, "broadcase CONTACTS_CHANGE error"

    invoke-static {v1, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0
.end method

.method public bulkInsert(Landroid/net/Uri;[Landroid/content/ContentValues;)I
    .locals 1
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2718
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2719
    invoke-super {p0, p1, p2}, Lcom/android/providers/contacts/AbstractContactsProvider;->bulkInsert(Landroid/net/Uri;[Landroid/content/ContentValues;)I

    move-result v0

    return v0
.end method

.method protected bundleLetterCountExtras(Landroid/database/Cursor;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    .locals 29
    .parameter "cursor"
    .parameter "db"
    .parameter "qb"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "countExpression"

    .prologue
    .line 7907
    move-object/from16 v0, p1

    instance-of v3, v0, Landroid/database/AbstractCursor;

    if-nez v3, :cond_0

    .line 7908
    const-string v3, "ContactsProvider"

    const-string v4, "Unable to bundle extras.  Cursor is not AbstractCursor."

    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 7999
    :goto_0
    return-object p1

    .line 7916
    :cond_0
    const-string v25, ""

    .line 7917
    .local v25, sortOrderSuffix:Ljava/lang/String;
    if-eqz p6, :cond_4

    .line 7918
    const/16 v3, 0x20

    move-object/from16 v0, p6

    invoke-virtual {v0, v3}, Ljava/lang/String;->indexOf(I)I

    move-result v26

    .line 7919
    .local v26, spaceIndex:I
    const/4 v3, -0x1

    move/from16 v0, v26

    if-eq v0, v3, :cond_3

    .line 7920
    const/4 v3, 0x0

    move-object/from16 v0, p6

    move/from16 v1, v26

    invoke-virtual {v0, v3, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v24

    .line 7921
    .local v24, sortKey:Ljava/lang/String;
    move-object/from16 v0, p6

    move/from16 v1, v26

    invoke-virtual {v0, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v25

    .line 7929
    .end local v26           #spaceIndex:I
    :goto_1
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getLocale()Ljava/util/Locale;

    move-result-object v3

    invoke-virtual {v3}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v19

    .line 7930
    .local v19, locale:Ljava/lang/String;
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v22

    .line 7931
    .local v22, projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    sget-object v3, Ljava/util/Locale;->US:Ljava/util/Locale;

    const-string v4, "SUBSTR(%1$s,1,1)"

    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/Object;

    const/4 v6, 0x0

    aput-object v24, v5, v6

    invoke-static {v3, v4, v5}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v23

    .line 7933
    .local v23, sectionHeading:Ljava/lang/String;
    const-string v3, "letter"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "letter"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 7937
    invoke-static/range {p7 .. p7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 7938
    const-string p7, "*"

    .line 7948
    :cond_1
    const-string v3, "title"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "GET_PHONEBOOK_INDEX("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v23

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ",\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v19

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\')"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "title"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 7951
    const-string v3, "count"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "COUNT("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p7

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ") AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "count"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 7953
    move-object/from16 v0, p3

    move-object/from16 v1, v22

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7955
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2$AddressBookIndexQuery;->COLUMNS:[Ljava/lang/String;

    const-string v8, "letter COLLATE PHONEBOOK"

    const/4 v9, 0x0

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "letter COLLATE PHONEBOOK"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v25

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    move-object/from16 v3, p3

    move-object/from16 v4, p2

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    invoke-virtual/range {v3 .. v10}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v18

    .line 7960
    .local v18, indexCursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->getCount()I

    move-result v15

    .line 7961
    .local v15, groupCount:I
    new-array v0, v15, [Ljava/lang/String;

    move-object/from16 v28, v0

    .line 7962
    .local v28, titles:[Ljava/lang/String;
    new-array v13, v15, [I

    .line 7963
    .local v13, counts:[I
    const/16 v17, 0x0

    .line 7964
    .local v17, indexCount:I
    const/4 v14, 0x0

    .line 7969
    .local v14, currentTitle:Ljava/lang/String;
    const/16 v16, 0x0

    .local v16, i:I
    :goto_2
    move/from16 v0, v16

    if-ge v0, v15, :cond_6

    .line 7970
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->moveToNext()Z

    .line 7971
    const/4 v3, 0x1

    move-object/from16 v0, v18

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v27

    .line 7972
    .local v27, title:Ljava/lang/String;
    const/4 v3, 0x2

    move-object/from16 v0, v18

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getInt(I)I

    move-result v12

    .line 7973
    .local v12, count:I
    if-eqz v17, :cond_2

    move-object/from16 v0, v27

    invoke-static {v0, v14}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_5

    .line 7974
    :cond_2
    move-object/from16 v14, v27

    aput-object v27, v28, v17

    .line 7975
    aput v12, v13, v17
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 7976
    add-int/lit8 v17, v17, 0x1

    .line 7969
    :goto_3
    add-int/lit8 v16, v16, 0x1

    goto :goto_2

    .line 7923
    .end local v12           #count:I
    .end local v13           #counts:[I
    .end local v14           #currentTitle:Ljava/lang/String;
    .end local v15           #groupCount:I
    .end local v16           #i:I
    .end local v17           #indexCount:I
    .end local v18           #indexCursor:Landroid/database/Cursor;
    .end local v19           #locale:Ljava/lang/String;
    .end local v22           #projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    .end local v23           #sectionHeading:Ljava/lang/String;
    .end local v24           #sortKey:Ljava/lang/String;
    .end local v27           #title:Ljava/lang/String;
    .end local v28           #titles:[Ljava/lang/String;
    .restart local v26       #spaceIndex:I
    :cond_3
    move-object/from16 v24, p6

    .restart local v24       #sortKey:Ljava/lang/String;
    goto/16 :goto_1

    .line 7926
    .end local v24           #sortKey:Ljava/lang/String;
    .end local v26           #spaceIndex:I
    :cond_4
    const-string v24, "sort_key"

    .restart local v24       #sortKey:Ljava/lang/String;
    goto/16 :goto_1

    .line 7978
    .restart local v12       #count:I
    .restart local v13       #counts:[I
    .restart local v14       #currentTitle:Ljava/lang/String;
    .restart local v15       #groupCount:I
    .restart local v16       #i:I
    .restart local v17       #indexCount:I
    .restart local v18       #indexCursor:Landroid/database/Cursor;
    .restart local v19       #locale:Ljava/lang/String;
    .restart local v22       #projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    .restart local v23       #sectionHeading:Ljava/lang/String;
    .restart local v27       #title:Ljava/lang/String;
    .restart local v28       #titles:[Ljava/lang/String;
    :cond_5
    add-int/lit8 v3, v17, -0x1

    :try_start_1
    aget v4, v13, v3

    add-int/2addr v4, v12

    aput v4, v13, v3
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_3

    .line 7999
    .end local v12           #count:I
    .end local v13           #counts:[I
    .end local v14           #currentTitle:Ljava/lang/String;
    .end local v15           #groupCount:I
    .end local v16           #i:I
    .end local v17           #indexCount:I
    .end local v27           #title:Ljava/lang/String;
    .end local v28           #titles:[Ljava/lang/String;
    :catchall_0
    move-exception v3

    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    throw v3

    .line 7982
    .restart local v13       #counts:[I
    .restart local v14       #currentTitle:Ljava/lang/String;
    .restart local v15       #groupCount:I
    .restart local v16       #i:I
    .restart local v17       #indexCount:I
    .restart local v28       #titles:[Ljava/lang/String;
    :cond_6
    move/from16 v0, v17

    if-ge v0, v15, :cond_7

    .line 7983
    :try_start_2
    move/from16 v0, v17

    new-array v0, v0, [Ljava/lang/String;

    move-object/from16 v21, v0

    .line 7984
    .local v21, newTitles:[Ljava/lang/String;
    const/4 v3, 0x0

    const/4 v4, 0x0

    move-object/from16 v0, v28

    move-object/from16 v1, v21

    move/from16 v2, v17

    invoke-static {v0, v3, v1, v4, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 7985
    move-object/from16 v28, v21

    .line 7987
    move/from16 v0, v17

    new-array v0, v0, [I

    move-object/from16 v20, v0

    .line 7988
    .local v20, newCounts:[I
    const/4 v3, 0x0

    const/4 v4, 0x0

    move-object/from16 v0, v20

    move/from16 v1, v17

    invoke-static {v13, v3, v0, v4, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 7989
    move-object/from16 v13, v20

    .line 7992
    .end local v20           #newCounts:[I
    .end local v21           #newTitles:[Ljava/lang/String;
    :cond_7
    new-instance v11, Landroid/os/Bundle;

    invoke-direct {v11}, Landroid/os/Bundle;-><init>()V

    .line 7993
    .local v11, bundle:Landroid/os/Bundle;
    const-string v3, "address_book_index_titles"

    move-object/from16 v0, v28

    invoke-virtual {v11, v3, v0}, Landroid/os/Bundle;->putStringArray(Ljava/lang/String;[Ljava/lang/String;)V

    .line 7994
    const-string v3, "address_book_index_counts"

    invoke-virtual {v11, v3, v13}, Landroid/os/Bundle;->putIntArray(Ljava/lang/String;[I)V

    .line 7996
    move-object/from16 v0, p1

    check-cast v0, Landroid/database/AbstractCursor;

    move-object v3, v0

    invoke-virtual {v3, v11}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 7999
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0
.end method

.method public call(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)Landroid/os/Bundle;
    .locals 4
    .parameter "method"
    .parameter "arg"
    .parameter "extras"

    .prologue
    .line 2624
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2625
    const-string v3, "authorize"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 2626
    const-string v3, "uri_to_authorize"

    invoke-virtual {p3, v3}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v2

    check-cast v2, Landroid/net/Uri;

    .line 2630
    .local v2, uri:Landroid/net/Uri;
    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamReadPermission(Landroid/net/Uri;)V

    .line 2631
    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 2632
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v3, v2}, Lcom/android/providers/contacts/ProfileProvider;->enforceReadPermission(Landroid/net/Uri;)V

    .line 2636
    :cond_0
    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v0

    .line 2637
    .local v0, authUri:Landroid/net/Uri;
    new-instance v1, Landroid/os/Bundle;

    invoke-direct {v1}, Landroid/os/Bundle;-><init>()V

    .line 2638
    .local v1, response:Landroid/os/Bundle;
    const-string v3, "authorized_uri"

    invoke-virtual {v1, v3, v0}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 2641
    .end local v0           #authUri:Landroid/net/Uri;
    .end local v1           #response:Landroid/os/Bundle;
    .end local v2           #uri:Landroid/net/Uri;
    :goto_0
    return-object v1

    :cond_1
    const/4 v1, 0x0

    goto :goto_0
.end method

.method protected cleanupPhotoStore()V
    .locals 34

    .prologue
    .line 2211
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 2212
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v3, v2}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2217
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/photo"

    invoke-virtual {v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v25

    .line 2218
    .local v25, photoMimeTypeId:J
    const-string v3, "view_data"

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "_id"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    const-string v7, "data14"

    aput-object v7, v4, v6

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-wide/from16 v0, v25

    invoke-virtual {v6, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "data14"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " IS NOT NULL"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 2221
    .local v13, c:Landroid/database/Cursor;
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v33

    .line 2222
    .local v33, usedPhotoFileIds:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v23

    .line 2224
    .local v23, photoFileIdToDataId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    :goto_0
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 2225
    const/4 v3, 0x0

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v14

    .line 2226
    .local v14, dataId:J
    const/4 v3, 0x1

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v21

    .line 2227
    .local v21, photoFileId:J
    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v33

    invoke-interface {v0, v3}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    .line 2228
    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v23

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 2231
    .end local v14           #dataId:J
    .end local v21           #photoFileId:J
    :catchall_0
    move-exception v3

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v3

    :cond_0
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 2235
    const-string v3, "stream_item_photos JOIN stream_items ON stream_item_id=stream_items._id JOIN raw_contacts ON raw_contact_id=raw_contacts._id"

    const/4 v4, 0x5

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "stream_item_photos._id"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    const-string v7, "stream_item_photos.stream_item_id"

    aput-object v7, v4, v6

    const/4 v6, 0x2

    const-string v7, "photo_file_id"

    aput-object v7, v4, v6

    const/4 v6, 0x3

    const-string v7, "account_type"

    aput-object v7, v4, v6

    const/4 v6, 0x4

    const-string v7, "account_name"

    aput-object v7, v4, v6

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 2247
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v24

    .line 2248
    .local v24, photoFileIdToStreamItemPhotoId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v32

    .line 2249
    .local v32, streamItemPhotoIdToStreamItemId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v31

    .line 2251
    .local v31, streamItemPhotoIdToAccount:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Landroid/accounts/Account;>;"
    :goto_1
    :try_start_1
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_1

    .line 2252
    const/4 v3, 0x0

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v29

    .line 2253
    .local v29, streamItemPhotoId:J
    const/4 v3, 0x1

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v27

    .line 2254
    .local v27, streamItemId:J
    const/4 v3, 0x2

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v21

    .line 2255
    .restart local v21       #photoFileId:J
    const/4 v3, 0x3

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 2256
    .local v12, accountType:Ljava/lang/String;
    const/4 v3, 0x4

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 2257
    .local v11, accountName:Ljava/lang/String;
    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v33

    invoke-interface {v0, v3}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    .line 2258
    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static/range {v29 .. v30}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v24

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2259
    invoke-static/range {v29 .. v30}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static/range {v27 .. v28}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v32

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2260
    new-instance v10, Landroid/accounts/Account;

    invoke-direct {v10, v11, v12}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    .line 2261
    .local v10, account:Landroid/accounts/Account;
    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v31

    invoke-interface {v0, v3, v10}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    goto :goto_1

    .line 2264
    .end local v10           #account:Landroid/accounts/Account;
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountType:Ljava/lang/String;
    .end local v21           #photoFileId:J
    .end local v27           #streamItemId:J
    .end local v29           #streamItemPhotoId:J
    :catchall_1
    move-exception v3

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v3

    :cond_1
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 2268
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/PhotoStore;

    move-object/from16 v0, v33

    invoke-virtual {v3, v0}, Lcom/android/providers/contacts/PhotoStore;->cleanup(Ljava/util/Set;)Ljava/util/Set;

    move-result-object v20

    .line 2272
    .local v20, missingPhotoIds:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface/range {v20 .. v20}, Ljava/util/Set;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_4

    .line 2274
    :try_start_2
    move-object/from16 v0, p0

    invoke-virtual {v2, v0}, Landroid/database/sqlite/SQLiteDatabase;->beginTransactionWithListener(Landroid/database/sqlite/SQLiteTransactionListener;)V

    .line 2275
    invoke-interface/range {v20 .. v20}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v17

    .local v17, i$:Ljava/util/Iterator;
    :cond_2
    :goto_2
    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_5

    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v18

    .line 2276
    .local v18, missingPhotoId:J
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v23

    invoke-interface {v0, v3}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_3

    .line 2277
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v23

    invoke-interface {v0, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v14

    .line 2278
    .restart local v14       #dataId:J
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    .line 2279
    .local v5, updateValues:Landroid/content/ContentValues;
    const-string v3, "data14"

    invoke-virtual {v5, v3}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 2280
    sget-object v3, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v3, v14, v15}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object/from16 v3, p0

    invoke-direct/range {v3 .. v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    .line 2283
    .end local v5           #updateValues:Landroid/content/ContentValues;
    .end local v14           #dataId:J
    :cond_3
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v24

    invoke-interface {v0, v3}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 2286
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v24

    invoke-interface {v0, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v29

    .line 2287
    .restart local v29       #streamItemPhotoId:J
    const-string v3, "stream_item_photos"

    const-string v4, "_id=?"

    const/4 v6, 0x1

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    invoke-static/range {v29 .. v30}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v6, v7

    invoke-virtual {v2, v3, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_0

    goto :goto_2

    .line 2292
    .end local v17           #i$:Ljava/util/Iterator;
    .end local v18           #missingPhotoId:J
    .end local v29           #streamItemPhotoId:J
    :catch_0
    move-exception v16

    .line 2294
    .local v16, e:Ljava/lang/Exception;
    :try_start_3
    const-string v3, "ContactsProvider"

    const-string v4, "Failed to clean up outdated photo references"

    move-object/from16 v0, v16

    invoke-static {v3, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_2

    .line 2296
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2299
    .end local v16           #e:Ljava/lang/Exception;
    :cond_4
    :goto_3
    return-void

    .line 2291
    .restart local v17       #i$:Ljava/util/Iterator;
    :cond_5
    :try_start_4
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_4 .. :try_end_4} :catch_0

    .line 2296
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    goto :goto_3

    .end local v17           #i$:Ljava/util/Iterator;
    :catchall_2
    move-exception v3

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v3
.end method

.method protected compileQueryStatements()V
    .locals 2

    .prologue
    .line 10136
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 10173
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    return-void
.end method

.method protected compileStatements()V
    .locals 0

    .prologue
    .line 10191
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->compileQueryStatements()V

    .line 10192
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->compileWriteStatements()V

    .line 10193
    return-void
.end method

.method protected compileWriteStatements()V
    .locals 2

    .prologue
    .line 10178
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 10188
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    return-void
.end method

.method protected contactProviderInitializedDone()V
    .locals 0

    .prologue
    .line 10638
    return-void
.end method

.method createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;
    .locals 1
    .parameter "context"

    .prologue
    .line 1931
    new-instance v0, Lcom/android/providers/contacts/PhotoPriorityResolver;

    invoke-direct {v0, p1}, Lcom/android/providers/contacts/PhotoPriorityResolver;-><init>(Landroid/content/Context;)V

    return-object v0
.end method

.method protected deferredSnippetingRequested(Landroid/net/Uri;)Z
    .locals 2
    .parameter "uri"

    .prologue
    .line 10583
    const-string v1, "deferred_snippeting"

    invoke-static {p1, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 10585
    .local v0, deferredSnippeting:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_0

    const-string v1, "1"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method public delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 1
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 2600
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2603
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2605
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 2606
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2607
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v0, p1, p2, p3}, Lcom/android/providers/contacts/ProfileProvider;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    .line 2610
    :goto_0
    return v0

    .line 2609
    :cond_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2610
    invoke-super {p0, p1, p2, p3}, Lcom/android/providers/contacts/AbstractContactsProvider;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    goto :goto_0
.end method

.method protected deleteContact(JZ)I
    .locals 22
    .parameter "contactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4667
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v13

    .line 4669
    .local v13, beginTime:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v7, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v4, v7

    .line 4671
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "raw_contacts"

    const/4 v7, 0x3

    new-array v6, v7, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v8, "_id"

    aput-object v8, v6, v7

    const/4 v7, 0x1

    const-string v8, "account_type"

    aput-object v8, v6, v7

    const/4 v7, 0x2

    const-string v8, "raw_contact_is_read_only"

    aput-object v8, v6, v7

    const-string v7, "contact_id=?"

    move-object/from16 v0, p0

    iget-object v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v15

    .line 4678
    .local v15, c:Landroid/database/Cursor;
    new-instance v19, Ljava/util/ArrayList;

    invoke-direct/range {v19 .. v19}, Ljava/util/ArrayList;-><init>()V

    .line 4681
    .local v19, needDeleteRawContacts:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    :goto_0
    :try_start_0
    invoke-interface {v15}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_4

    .line 4682
    const/4 v4, 0x0

    invoke-interface {v15, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v20

    .line 4684
    .local v20, rawContactId:J
    const/4 v4, 0x1

    invoke-interface {v15, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 4685
    .local v12, accountType:Ljava/lang/String;
    const/4 v4, 0x2

    invoke-interface {v15, v4}, Landroid/database/Cursor;->getInt(I)I

    move-result v4

    const/4 v7, 0x1

    if-ne v4, v7, :cond_1

    const/16 v18, 0x1

    .line 4687
    .local v18, isReady:Z
    :goto_1
    invoke-static {v12}, Lcom/android/providers/contacts/HtcUtils/Utils;->isGeneralSocialNetworkContact(Ljava/lang/String;)Z

    move-result v4

    if-nez v4, :cond_0

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mReadOnlyAccoutTypes:Ljava/util/ArrayList;

    invoke-virtual {v4, v12}, Ljava/util/ArrayList;->contains(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_0

    if-eqz v18, :cond_2

    .line 4691
    :cond_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    const/4 v7, 0x0

    move-wide/from16 v0, v20

    invoke-virtual {v4, v0, v1, v7}, Lcom/android/providers/contacts/ContactAggregator;->markNewForAggregation(JI)V

    .line 4692
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    const-wide/16 v7, -0x1

    move-wide/from16 v0, v20

    invoke-virtual {v4, v0, v1, v7, v8}, Lcom/android/providers/contacts/ContactAggregator;->setContactId(JJ)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 4709
    .end local v12           #accountType:Ljava/lang/String;
    .end local v18           #isReady:Z
    .end local v20           #rawContactId:J
    :catchall_0
    move-exception v4

    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    throw v4

    .line 4685
    .restart local v12       #accountType:Ljava/lang/String;
    .restart local v20       #rawContactId:J
    :cond_1
    const/16 v18, 0x0

    goto :goto_1

    .line 4697
    .restart local v18       #isReady:Z
    :cond_2
    if-eqz v12, :cond_3

    :try_start_1
    const-string v4, "com.htc.android.pcsc"

    invoke-virtual {v12, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_3

    .line 4699
    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v19

    invoke-virtual {v0, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 4702
    :cond_3
    move-object/from16 v0, p0

    move-wide/from16 v1, v20

    move/from16 v3, p3

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->markRawContactAsDeleted(JZ)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_0

    .line 4709
    .end local v12           #accountType:Ljava/lang/String;
    .end local v18           #isReady:Z
    .end local v20           #rawContactId:J
    :cond_4
    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    .line 4713
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 4715
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v7, "contacts"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "_id="

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    move-wide/from16 v0, p1

    invoke-virtual {v8, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    const/4 v9, 0x0

    invoke-virtual {v4, v7, v8, v9}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v16

    .line 4716
    .local v16, count:I
    if-lez v16, :cond_5

    .line 4717
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyDeleteContact(J)V

    .line 4720
    :cond_5
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isAABEnabled()Z

    move-result v4

    if-eqz v4, :cond_6

    invoke-virtual/range {v19 .. v19}, Ljava/util/ArrayList;->size()I

    move-result v4

    if-lez v4, :cond_6

    .line 4721
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4724
    :cond_6
    invoke-virtual/range {v19 .. v19}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v17

    .local v17, i$:Ljava/util/Iterator;
    :goto_2
    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->hasNext()Z

    move-result v4

    if-eqz v4, :cond_7

    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/Long;

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    .line 4725
    .local v5, needDeletedId:J
    const/4 v9, 0x1

    move-object/from16 v4, p0

    move-wide/from16 v7, p1

    invoke-virtual/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContact(JJZ)I

    goto :goto_2

    .line 4728
    .end local v5           #needDeletedId:J
    :cond_7
    return v16
.end method

.method public deleteData(J[Ljava/lang/String;)I
    .locals 12
    .parameter "dataId"
    .parameter "allowedMimeTypes"

    .prologue
    const/4 v11, 0x0

    .line 3872
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v1

    aput-object v1, v0, v11

    .line 3873
    sget-object v1, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    sget-object v2, Lcom/android/providers/contacts/DataRowHandler$DataDeleteQuery;->COLUMNS:[Ljava/lang/String;

    const-string v3, "_id=?"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    move-object v0, p0

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 3877
    .local v6, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v0

    if-nez v0, :cond_0

    .line 3897
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    move v0, v11

    :goto_0
    return v0

    .line 3881
    :cond_0
    const/4 v0, 0x1

    :try_start_1
    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v8

    .line 3882
    .local v8, mimeType:Ljava/lang/String;
    const/4 v10, 0x0

    .line 3883
    .local v10, valid:Z
    const/4 v7, 0x0

    .local v7, i:I
    :goto_1
    array-length v0, p3

    if-ge v7, v0, :cond_1

    .line 3884
    aget-object v0, p3, v7

    invoke-static {v8, v0}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 3885
    const/4 v10, 0x1

    .line 3890
    :cond_1
    if-nez v10, :cond_3

    .line 3891
    new-instance v0, Ljava/lang/IllegalArgumentException;

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Data type mismatch: expected "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-static {p3}, Lcom/google/android/collect/Lists;->newArrayList([Ljava/lang/Object;)Ljava/util/ArrayList;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v0
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 3897
    .end local v7           #i:I
    .end local v8           #mimeType:Ljava/lang/String;
    .end local v10           #valid:Z
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    throw v0

    .line 3883
    .restart local v7       #i:I
    .restart local v8       #mimeType:Ljava/lang/String;
    .restart local v10       #valid:Z
    :cond_2
    add-int/lit8 v7, v7, 0x1

    goto :goto_1

    .line 3894
    :cond_3
    :try_start_2
    invoke-virtual {p0, v8}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v9

    .line 3895
    .local v9, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9, v0, v1, v6}, Lcom/android/providers/contacts/DataRowHandler;->delete(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/database/Cursor;)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    move-result v0

    .line 3897
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    goto :goto_0
.end method

.method public deleteGroup(Landroid/net/Uri;JZ)I
    .locals 10
    .parameter "uri"
    .parameter "groupId"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4618
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-virtual {v4}, Ljava/util/HashMap;->clear()V

    .line 4619
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v5, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v4, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v2

    .line 4623
    .local v2, groupMembershipMimetypeId:J
    if-nez p4, :cond_0

    .line 4626
    const-string v0, "account_type IN (\'com.htc.android.mail.eas\', \'com.htc.android.windowslive\') "

    .line 4629
    .local v0, account_type_statement:Ljava/lang/String;
    new-instance v1, Landroid/content/ContentValues;

    invoke-direct {v1}, Landroid/content/ContentValues;-><init>()V

    .line 4630
    .local v1, cv:Landroid/content/ContentValues;
    const-string v4, "dirty"

    const/4 v5, 0x1

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v1, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4631
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "raw_contacts"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND _id IN "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "(SELECT raw_contact_id FROM data WHERE "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "mimetype_id"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "=? "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "data1"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " = ?) "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    invoke-static {v2, v3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v9

    aput-object v9, v7, v8

    const/4 v8, 0x1

    invoke-static {p2, p3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v9

    aput-object v9, v7, v8

    invoke-virtual {v4, v5, v1, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4640
    .end local v0           #account_type_statement:Ljava/lang/String;
    .end local v1           #cv:Landroid/content/ContentValues;
    :cond_0
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "data"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "data1"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v7, 0x0

    invoke-virtual {v4, v5, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4645
    if-eqz p4, :cond_1

    .line 4646
    :try_start_0
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "groups"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "_id="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v7, 0x0

    invoke-virtual {v4, v5, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v4

    .line 4655
    const/4 v5, 0x1

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    :goto_0
    return v4

    .line 4648
    :cond_1
    :try_start_1
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v4}, Landroid/content/ContentValues;->clear()V

    .line 4649
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "deleted"

    const/4 v6, 0x1

    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-virtual {v4, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4650
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "dirty"

    const/4 v6, 0x1

    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-virtual {v4, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4651
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "groups"

    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    const/4 v8, 0x0

    invoke-virtual {v4, v5, v6, v7, v8}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    move-result v4

    .line 4655
    const/4 v5, 0x1

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    goto :goto_0

    :catchall_0
    move-exception v4

    const/4 v5, 0x1

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    throw v4
.end method

.method protected deleteInTransaction(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 37
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4337
    sget-boolean v4, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v4, :cond_0

    .line 4338
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "deleteInTransaction: "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p1

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 4342
    :cond_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    if-nez v4, :cond_1

    .line 4343
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 4346
    :cond_1
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 4347
    const-string v4, "caller_is_syncadapter"

    const/4 v5, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v25

    .line 4349
    .local v25, callerIsSyncAdapter:Z
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v29

    .line 4350
    .local v29, match:I
    sparse-switch v29, :sswitch_data_0

    .line 4611
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4612
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/LegacyApiSupport;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    :cond_2
    :goto_0
    return v30

    .line 4353
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto :goto_0

    .line 4357
    :sswitch_1
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v7

    invoke-virtual {v4, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p2, :cond_3

    const-string v4, ""

    :goto_1
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v33

    .line 4360
    .local v33, selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, v33

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto :goto_0

    .line 4357
    .end local v33           #selectionWithId:Ljava/lang/String;
    :cond_3
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND ("

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p2

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v7, ")"

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_1

    .line 4365
    :sswitch_2
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v7

    invoke-virtual {v4, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p2, :cond_4

    const-string v4, ""

    :goto_2
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v33

    .line 4368
    .restart local v33       #selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, v33

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4365
    .end local v33           #selectionWithId:Ljava/lang/String;
    :cond_4
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND ("

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p2

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v7, ")"

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_2

    .line 4374
    :sswitch_3
    const/16 v30, 0x0

    goto/16 :goto_0

    .line 4378
    :sswitch_4
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v13

    .line 4379
    .local v13, contactId:J
    move-object/from16 v0, p0

    move/from16 v1, v25

    invoke-virtual {v0, v13, v14, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I

    move-result v30

    goto/16 :goto_0

    .line 4383
    .end local v13           #contactId:J
    :sswitch_5
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v31

    .line 4384
    .local v31, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v31 .. v31}, Ljava/util/List;->size()I

    move-result v32

    .line 4385
    .local v32, segmentCount:I
    const/4 v4, 0x3

    move/from16 v0, v32

    if-ge v0, v4, :cond_5

    .line 4386
    new-instance v5, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v7, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v5, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v5

    .line 4389
    :cond_5
    const/4 v4, 0x2

    move-object/from16 v0, v31

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v28

    check-cast v28, Ljava/lang/String;

    .line 4390
    .local v28, lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v28

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v13

    .line 4391
    .restart local v13       #contactId:J
    move-object/from16 v0, p0

    move/from16 v1, v25

    invoke-virtual {v0, v13, v14, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I

    move-result v30

    goto/16 :goto_0

    .line 4396
    .end local v13           #contactId:J
    .end local v28           #lookupKey:Ljava/lang/String;
    .end local v31           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v32           #segmentCount:I
    :sswitch_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v31

    .line 4397
    .restart local v31       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    const/4 v4, 0x2

    move-object/from16 v0, v31

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v28

    check-cast v28, Ljava/lang/String;

    .line 4398
    .restart local v28       #lookupKey:Ljava/lang/String;
    new-instance v6, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v6}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 4399
    .local v6, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-virtual {v0, v6, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 4400
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v13

    .line 4402
    .restart local v13       #contactId:J
    if-nez p3, :cond_6

    .line 4403
    const/4 v4, 0x2

    new-array v9, v4, [Ljava/lang/String;

    .line 4408
    .local v9, args:[Ljava/lang/String;
    :goto_3
    const/4 v4, 0x0

    invoke-static {v13, v14}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v9, v4

    .line 4409
    const/4 v4, 0x1

    invoke-static/range {v28 .. v28}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v9, v4

    .line 4410
    const-string v4, "_id=? AND lookup=?"

    invoke-virtual {v6, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 4411
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const/4 v7, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    move-object/from16 v4, p0

    move-object/from16 v8, p2

    invoke-direct/range {v4 .. v12}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v24

    .line 4414
    .local v24, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->getCount()I

    move-result v4

    const/4 v5, 0x1

    if-ne v4, v5, :cond_7

    .line 4416
    move-object/from16 v0, p0

    move/from16 v1, v25

    invoke-virtual {v0, v13, v14, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v30

    .line 4423
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 4405
    .end local v9           #args:[Ljava/lang/String;
    .end local v24           #c:Landroid/database/Cursor;
    :cond_6
    move-object/from16 v0, p3

    array-length v4, v0

    add-int/lit8 v4, v4, 0x2

    new-array v9, v4, [Ljava/lang/String;

    .line 4406
    .restart local v9       #args:[Ljava/lang/String;
    const/4 v4, 0x0

    const/4 v5, 0x2

    move-object/from16 v0, p3

    array-length v7, v0

    move-object/from16 v0, p3

    invoke-static {v0, v4, v9, v5, v7}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_3

    .line 4420
    .restart local v24       #c:Landroid/database/Cursor;
    :cond_7
    const/16 v30, 0x0

    .line 4423
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    :catchall_0
    move-exception v4

    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    throw v4

    .line 4429
    .end local v6           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v9           #args:[Ljava/lang/String;
    .end local v13           #contactId:J
    .end local v24           #c:Landroid/database/Cursor;
    .end local v28           #lookupKey:Ljava/lang/String;
    .end local v31           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :sswitch_7
    const/16 v30, 0x0

    .line 4430
    .local v30, numDeletes:I
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Landroid/database/sqlite/SQLiteDatabase;

    const-string v11, "raw_contacts"

    const/4 v4, 0x3

    new-array v12, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v12, v4

    const/4 v4, 0x1

    const-string v5, "contact_id"

    aput-object v5, v12, v4

    const/4 v4, 0x2

    const-string v5, "account_type"

    aput-object v5, v12, v4

    invoke-virtual/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/16 v17, 0x0

    move-object/from16 v14, p3

    invoke-virtual/range {v10 .. v17}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v24

    .line 4436
    .restart local v24       #c:Landroid/database/Cursor;
    :goto_4
    :try_start_1
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_c

    .line 4437
    const/4 v4, 0x0

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v11

    .line 4439
    .local v11, rawContactId:J
    const/4 v4, 0x1

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v13

    .line 4440
    .restart local v13       #contactId:J
    const/4 v4, 0x2

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v36

    .line 4441
    .local v36, type:Ljava/lang/String;
    move/from16 v15, v25

    .line 4442
    .local v15, forceDelete:Z
    if-nez v25, :cond_a

    .line 4443
    if-eqz v36, :cond_8

    const-string v4, "com.htc.android.pcsc"

    move-object/from16 v0, v36

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_8

    .line 4444
    const/4 v15, 0x1

    .line 4446
    :cond_8
    if-nez v25, :cond_9

    if-eqz v15, :cond_b

    :cond_9
    const/4 v15, 0x1

    :cond_a
    :goto_5
    move-object/from16 v10, p0

    .line 4448
    invoke-virtual/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContact(JJZ)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result v4

    add-int v30, v30, v4

    .line 4451
    goto :goto_4

    .line 4446
    :cond_b
    const/4 v15, 0x0

    goto :goto_5

    .line 4453
    .end local v11           #rawContactId:J
    .end local v13           #contactId:J
    .end local v15           #forceDelete:Z
    .end local v36           #type:Ljava/lang/String;
    :cond_c
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    :catchall_1
    move-exception v4

    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    throw v4

    .line 4460
    .end local v24           #c:Landroid/database/Cursor;
    .end local v30           #numDeletes:I
    :sswitch_8
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v11

    .line 4463
    .restart local v11       #rawContactId:J
    move/from16 v15, v25

    .line 4464
    .restart local v15       #forceDelete:Z
    if-nez v25, :cond_10

    .line 4465
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Landroid/database/sqlite/SQLiteDatabase;

    const-string v17, "raw_contacts"

    const/4 v4, 0x1

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v18, v0

    const/4 v4, 0x0

    const-string v5, "account_type"

    aput-object v5, v18, v4

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v11, v12}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v19

    const/16 v20, 0x0

    const/16 v21, 0x0

    const/16 v22, 0x0

    const/16 v23, 0x0

    invoke-virtual/range {v16 .. v23}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v24

    .line 4470
    .restart local v24       #c:Landroid/database/Cursor;
    :cond_d
    :goto_6
    :try_start_2
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_e

    .line 4471
    const/4 v4, 0x0

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v36

    .line 4472
    .restart local v36       #type:Ljava/lang/String;
    if-eqz v36, :cond_d

    const-string v4, "com.htc.android.pcsc"

    move-object/from16 v0, v36

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2

    move-result v4

    if-eqz v4, :cond_d

    .line 4475
    const/4 v15, 0x1

    goto :goto_6

    .line 4479
    .end local v36           #type:Ljava/lang/String;
    :cond_e
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    .line 4481
    if-nez v25, :cond_f

    if-eqz v15, :cond_11

    :cond_f
    const/4 v15, 0x1

    .line 4484
    .end local v24           #c:Landroid/database/Cursor;
    :cond_10
    :goto_7
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4, v11, v12}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getContactId(J)J

    move-result-wide v19

    move-object/from16 v16, p0

    move-wide/from16 v17, v11

    move/from16 v21, v15

    invoke-virtual/range {v16 .. v21}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContact(JJZ)I

    move-result v30

    goto/16 :goto_0

    .line 4479
    .restart local v24       #c:Landroid/database/Cursor;
    :catchall_2
    move-exception v4

    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    throw v4

    .line 4481
    :cond_11
    const/4 v15, 0x0

    goto :goto_7

    .line 4490
    .end local v11           #rawContactId:J
    .end local v15           #forceDelete:Z
    .end local v24           #c:Landroid/database/Cursor;
    :sswitch_9
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_12

    const/4 v4, 0x1

    :goto_8
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4491
    invoke-virtual/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p3

    move/from16 v2, v25

    invoke-direct {v0, v4, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v30

    goto/16 :goto_0

    .line 4490
    :cond_12
    const/4 v4, 0x0

    goto :goto_8

    .line 4500
    :sswitch_a
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v26

    .line 4501
    .local v26, dataId:J
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_13

    const/4 v4, 0x1

    :goto_9
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4502
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {v26 .. v27}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v7

    aput-object v7, v4, v5

    .line 4503
    const-string v4, "_id=?"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p0

    move/from16 v1, v25

    invoke-direct {v0, v4, v5, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v30

    goto/16 :goto_0

    .line 4501
    :cond_13
    const/4 v4, 0x0

    goto :goto_9

    .line 4507
    .end local v26           #dataId:J
    :sswitch_b
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_14

    const/4 v4, 0x1

    :goto_a
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4508
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, v25

    invoke-virtual {v0, v1, v4, v5, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteGroup(Landroid/net/Uri;JZ)I

    move-result v30

    goto/16 :goto_0

    .line 4507
    :cond_14
    const/4 v4, 0x0

    goto :goto_a

    .line 4512
    :sswitch_c
    const/16 v30, 0x0

    .line 4513
    .restart local v30       #numDeletes:I
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Landroid/database/sqlite/SQLiteDatabase;

    const-string v17, "groups"

    const/4 v4, 0x1

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v18, v0

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v18, v4

    invoke-virtual/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v19

    const/16 v21, 0x0

    const/16 v22, 0x0

    const/16 v23, 0x0

    move-object/from16 v20, p3

    invoke-virtual/range {v16 .. v23}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v24

    .line 4516
    .restart local v24       #c:Landroid/database/Cursor;
    :goto_b
    :try_start_3
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_15

    .line 4517
    const/4 v4, 0x0

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, v25

    invoke-virtual {v0, v1, v4, v5, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteGroup(Landroid/net/Uri;JZ)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_3

    move-result v4

    add-int v30, v30, v4

    goto :goto_b

    .line 4520
    :cond_15
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    .line 4522
    if-lez v30, :cond_2

    .line 4523
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_16

    const/4 v4, 0x1

    :goto_c
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_0

    .line 4520
    :catchall_3
    move-exception v4

    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    throw v4

    .line 4523
    :cond_16
    const/4 v4, 0x0

    goto :goto_c

    .line 4529
    .end local v24           #c:Landroid/database/Cursor;
    .end local v30           #numDeletes:I
    :sswitch_d
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_17

    const/4 v4, 0x1

    :goto_d
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4530
    invoke-virtual/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v4, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteSettings(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4529
    :cond_17
    const/4 v4, 0x0

    goto :goto_d

    .line 4535
    :sswitch_e
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStatusUpdates(Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4539
    :sswitch_f
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_18

    const/4 v4, 0x1

    :goto_e
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4540
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    invoke-direct {v0, v1, v4, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4539
    :cond_18
    const/4 v4, 0x0

    goto :goto_e

    .line 4544
    :sswitch_10
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_19

    const/4 v4, 0x1

    :goto_f
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4545
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    const-string v5, "_id=?"

    const/4 v7, 0x1

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v10

    aput-object v10, v7, v8

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v4, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4544
    :cond_19
    const/4 v4, 0x0

    goto :goto_f

    .line 4551
    :sswitch_11
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_1a

    const/4 v4, 0x1

    :goto_10
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4552
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Ljava/lang/String;

    .line 4553
    .local v11, rawContactId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v34

    .line 4554
    .local v34, streamItemId:Ljava/lang/String;
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    const-string v5, "raw_contact_id=? AND _id=?"

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    aput-object v11, v7, v8

    const/4 v8, 0x1

    aput-object v34, v7, v8

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v4, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4551
    .end local v11           #rawContactId:Ljava/lang/String;
    .end local v34           #streamItemId:Ljava/lang/String;
    :cond_1a
    const/4 v4, 0x0

    goto :goto_10

    .line 4561
    :sswitch_12
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_1b

    const/4 v4, 0x1

    :goto_11
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4562
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v34

    check-cast v34, Ljava/lang/String;

    .line 4563
    .restart local v34       #streamItemId:Ljava/lang/String;
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "stream_item_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v34

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p2, :cond_1c

    const-string v4, ""

    :goto_12
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v33

    .line 4566
    .restart local v33       #selectionWithId:Ljava/lang/String;
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v33

    move-object/from16 v3, p3

    invoke-direct {v0, v1, v4, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4561
    .end local v33           #selectionWithId:Ljava/lang/String;
    .end local v34           #streamItemId:Ljava/lang/String;
    :cond_1b
    const/4 v4, 0x0

    goto :goto_11

    .line 4563
    .restart local v34       #streamItemId:Ljava/lang/String;
    :cond_1c
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND ("

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p2

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v7, ")"

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_12

    .line 4571
    .end local v34           #streamItemId:Ljava/lang/String;
    :sswitch_13
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v25, :cond_1d

    const/4 v4, 0x1

    :goto_13
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4572
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v34

    check-cast v34, Ljava/lang/String;

    .line 4573
    .restart local v34       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x3

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v35

    check-cast v35, Ljava/lang/String;

    .line 4574
    .local v35, streamItemPhotoId:Ljava/lang/String;
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    const-string v5, "stream_item_photos._id=? AND stream_item_id=?"

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    aput-object v35, v7, v8

    const/4 v8, 0x1

    aput-object v34, v7, v8

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v4, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4571
    .end local v34           #streamItemId:Ljava/lang/String;
    .end local v35           #streamItemPhotoId:Ljava/lang/String;
    :cond_1d
    const/4 v4, 0x0

    goto :goto_13

    .line 4583
    :sswitch_14
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4588
    :sswitch_15
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4593
    :sswitch_16
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4598
    :sswitch_17
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->csFriendTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4603
    :sswitch_18
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4606
    :sswitch_19
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v4, v5, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v30

    goto/16 :goto_0

    .line 4350
    nop

    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_3
        0x3e9 -> :sswitch_4
        0x3ea -> :sswitch_5
        0x3eb -> :sswitch_6
        0x7d2 -> :sswitch_7
        0x7d3 -> :sswitch_8
        0x7d8 -> :sswitch_11
        0xbb8 -> :sswitch_9
        0xbb9 -> :sswitch_a
        0xbbb -> :sswitch_a
        0xbbe -> :sswitch_a
        0xbc2 -> :sswitch_a
        0x1b58 -> :sswitch_e
        0x2328 -> :sswitch_d
        0x2710 -> :sswitch_c
        0x2711 -> :sswitch_b
        0x2af8 -> :sswitch_0
        0x2af9 -> :sswitch_1
        0x2afa -> :sswitch_0
        0x2afb -> :sswitch_2
        0x4a3a -> :sswitch_9
        0x4a3b -> :sswitch_a
        0x4a3d -> :sswitch_7
        0x4a3e -> :sswitch_8
        0x4a41 -> :sswitch_e
        0x5208 -> :sswitch_f
        0x520a -> :sswitch_10
        0x520b -> :sswitch_12
        0x520c -> :sswitch_13
        0xc738 -> :sswitch_14
        0xcb20 -> :sswitch_15
        0xcf08 -> :sswitch_16
        0xd2f0 -> :sswitch_17
        0xd6d8 -> :sswitch_18
        0xd6d9 -> :sswitch_19
    .end sparse-switch
.end method

.method protected deleteNonExistAccountPhoto(Ljava/util/ArrayList;)V
    .locals 4
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/Long;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 6327
    .local p1, photoIds:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    invoke-virtual {p1}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v0

    .local v0, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v0}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-interface {v0}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    .line 6328
    .local v1, photoId:J
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-static {v1, v2, v3}, Lcom/android/providers/contacts/HtcUtils/ThumbnailUtils;->deleteThumbnailFile(JLandroid/content/Context;)V

    goto :goto_0

    .line 6330
    .end local v1           #photoId:J
    :cond_0
    return-void
.end method

.method public deleteRawContact(JJZ)I
    .locals 24
    .parameter "rawContactId"
    .parameter "contactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4735
    invoke-static {}, Lcom/htc/util/contacts/BuildUtils$Customization;->isAABEnabled()Z

    move-result v4

    if-eqz v4, :cond_1

    .line 4736
    const-string v4, "vnd.android.cursor.item/group_membership"

    move-object/from16 v0, p0

    invoke-virtual {v0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getMimetypeIdByType(Ljava/lang/String;)J

    move-result-wide v20

    .line 4737
    .local v20, mimetypeID:J
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "raw_contact_id=\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\' AND mimetype_id=\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-wide/from16 v0, v20

    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .line 4738
    .local v7, where:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "data"

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v16

    .line 4739
    .local v16, c:Landroid/database/Cursor;
    if-eqz v16, :cond_0

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->getCount()I

    move-result v4

    if-lez v4, :cond_0

    .line 4740
    :goto_0
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_0

    .line 4741
    const-string v4, "data1"

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v19

    .line 4742
    .local v19, groupID:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v19

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setModifyToGroupTrackingTable(Ljava/lang/String;)V

    goto :goto_0

    .line 4746
    .end local v19           #groupID:Ljava/lang/String;
    :cond_0
    if-eqz v16, :cond_1

    .line 4747
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 4750
    .end local v7           #where:Ljava/lang/String;
    .end local v16           #c:Landroid/database/Cursor;
    .end local v20           #mimetypeID:J
    :cond_1
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactAggregator;->invalidateAggregationExceptionCache()V

    .line 4751
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 4754
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Landroid/database/sqlite/SQLiteDatabase;

    const-string v9, "stream_items"

    const/4 v4, 0x1

    new-array v10, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v10, v4

    const-string v11, "raw_contact_id=?"

    const/4 v4, 0x1

    new-array v12, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v12, v4

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    invoke-virtual/range {v8 .. v15}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v16

    .line 4759
    .restart local v16       #c:Landroid/database/Cursor;
    :goto_1
    :try_start_0
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_2

    .line 4760
    const/4 v4, 0x0

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v4

    move-object/from16 v0, p0

    invoke-direct {v0, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(J)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 4763
    :catchall_0
    move-exception v4

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    throw v4

    :cond_2
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 4766
    if-nez p5, :cond_3

    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->rawContactIsLocal(J)Z

    move-result v4

    if-eqz v4, :cond_8

    .line 4767
    :cond_3
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "presence"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "presence_raw_contact_id="

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-wide/from16 v0, p1

    invoke-virtual {v6, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v8, 0x0

    invoke-virtual {v4, v5, v6, v8}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4771
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPhotoIdByRawContactId(J)J

    move-result-wide v22

    .line 4772
    .local v22, photoId:J
    const-wide/16 v4, 0x0

    cmp-long v4, v22, v4

    if-lez v4, :cond_4

    .line 4773
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v4

    move-wide/from16 v0, v22

    invoke-static {v0, v1, v4}, Lcom/android/providers/contacts/HtcUtils/ThumbnailUtils;->deleteThumbnailFile(JLandroid/content/Context;)V

    .line 4776
    :cond_4
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "raw_contacts"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id="

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-wide/from16 v0, p1

    invoke-virtual {v6, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v8, 0x0

    invoke-virtual {v4, v5, v6, v8}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v17

    .line 4779
    .local v17, count:I
    if-lez v17, :cond_5

    .line 4780
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateCallLogByRawContactIdDeleted(J)V

    .line 4783
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    invoke-virtual {v4}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyCallLog()V

    .line 4786
    :cond_5
    const-wide/16 v4, 0x0

    cmp-long v4, p3, v4

    if-lez v4, :cond_6

    if-lez v17, :cond_6

    .line 4787
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    move-wide/from16 v0, p3

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyContact(J)V

    .line 4791
    :cond_6
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, p3

    invoke-virtual {v4, v5, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V

    move/from16 v18, v17

    .line 4802
    .end local v17           #count:I
    .end local v22           #photoId:J
    :cond_7
    :goto_2
    return v18

    .line 4794
    :cond_8
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p1

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->removeContactIfSingleton(J)V

    .line 4797
    move-object/from16 v0, p0

    move-wide/from16 v1, p1

    move/from16 v3, p5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->markRawContactAsDeleted(JZ)I

    move-result v18

    .line 4798
    .local v18, deletedCount:I
    const-wide/16 v4, 0x0

    cmp-long v4, p3, v4

    if-lez v4, :cond_7

    if-lez v18, :cond_7

    .line 4800
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, p3

    invoke-virtual {v4, v5, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V

    goto :goto_2
.end method

.method public fixSuperPrimaryOfContactData(Lcom/android/providers/contacts/ContactsDatabaseHelper;Landroid/database/sqlite/SQLiteDatabase;JJ)V
    .locals 23
    .parameter "databaseHelper"
    .parameter "db"
    .parameter "rawContactId"
    .parameter "contactId"

    .prologue
    .line 9991
    const/4 v4, 0x2

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v21, v0

    const/4 v4, 0x0

    const-string v5, "vnd.android.cursor.item/phone_v2"

    aput-object v5, v21, v4

    const/4 v4, 0x1

    const-string v5, "vnd.android.cursor.item/email_v2"

    aput-object v5, v21, v4

    .line 9996
    .local v21, mimetypes:[Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 9997
    .local v16, dataHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    const/16 v22, 0x0

    .line 9998
    .local v22, superPrimaryChanged:Z
    move-object/from16 v11, v21

    .local v11, arr$:[Ljava/lang/String;
    array-length v0, v11

    move/from16 v19, v0

    .local v19, len$:I
    const/16 v18, 0x0

    .local v18, i$:I
    :goto_0
    move/from16 v0, v18

    move/from16 v1, v19

    if-ge v0, v1, :cond_4

    aget-object v20, v11, v18

    .line 9999
    .local v20, mimetype:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v17

    .line 10000
    .local v17, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-eqz v17, :cond_2

    .line 10002
    invoke-virtual/range {v17 .. v17}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v4

    move-object/from16 v0, v16

    move-wide/from16 v1, p5

    invoke-virtual {v0, v1, v2, v4, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSuperPrimaryDataCountByContactAndMimeType(JJ)J

    move-result-wide v14

    .line 10004
    .local v14, counts:J
    const-wide/16 v4, 0x0

    cmp-long v4, v14, v4

    if-eqz v4, :cond_0

    const-wide/16 v4, 0x1

    cmp-long v4, v14, v4

    if-lez v4, :cond_2

    .line 10005
    :cond_0
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v12

    .line 10009
    .local v12, beginTime:J
    const-wide/16 v4, 0x0

    cmp-long v4, v14, v4

    if-nez v4, :cond_3

    const/4 v4, 0x1

    :goto_1
    move-object/from16 v0, v17

    move-object/from16 v1, p2

    move-wide/from16 v2, p5

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/DataRowHandler;->fixNewSuperPrimaryDataIfNoSuperPrimary2(Landroid/database/sqlite/SQLiteDatabase;JZ)J

    move-result-wide v7

    .line 10015
    .local v7, primaryId:J
    const-wide/16 v4, 0x0

    cmp-long v4, v7, v4

    if-lez v4, :cond_2

    .line 10016
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v12

    .line 10017
    const-wide/16 v4, 0x0

    cmp-long v4, v14, v4

    if-nez v4, :cond_1

    .line 10018
    invoke-virtual/range {v17 .. v17}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v9

    move-object/from16 v4, p1

    move-wide/from16 v5, p3

    invoke-virtual/range {v4 .. v10}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setIsPrimary(JJJ)V

    .line 10020
    :cond_1
    invoke-virtual/range {v17 .. v17}, Lcom/android/providers/contacts/DataRowHandler;->getMimeTypeId()J

    move-result-wide v9

    move-object/from16 v4, p1

    move-wide/from16 v5, p3

    invoke-virtual/range {v4 .. v10}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setIsSuperPrimary(JJJ)V

    .line 10022
    const/16 v22, 0x1

    .line 9998
    .end local v7           #primaryId:J
    .end local v12           #beginTime:J
    .end local v14           #counts:J
    :cond_2
    add-int/lit8 v18, v18, 0x1

    goto :goto_0

    .line 10009
    .restart local v12       #beginTime:J
    .restart local v14       #counts:J
    :cond_3
    const/4 v4, 0x0

    goto :goto_1

    .line 10033
    .end local v12           #beginTime:J
    .end local v14           #counts:J
    .end local v17           #handler:Lcom/android/providers/contacts/DataRowHandler;
    .end local v20           #mimetype:Ljava/lang/String;
    :cond_4
    if-eqz v22, :cond_5

    const-wide/16 v4, 0x0

    cmp-long v4, p5, v4

    if-lez v4, :cond_5

    .line 10034
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    move-wide/from16 v0, p5

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyContact(J)V

    .line 10036
    :cond_5
    return-void
.end method

.method protected generateContactPhotoItem()V
    .locals 29

    .prologue
    .line 10677
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v26, v0

    invoke-virtual/range {v26 .. v26}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v6

    .line 10679
    .local v6, db:Landroid/database/sqlite/SQLiteDatabase;
    const/16 v26, 0x1

    move/from16 v0, v26

    new-array v0, v0, [Ljava/lang/String;

    move-object/from16 v23, v0

    .line 10681
    .local v23, selectionArgs:[Ljava/lang/String;
    const-string v24, "SELECT _id FROM data WHERE mimetype_id = ? AND data14 IS NULL"

    .line 10683
    .local v24, sql:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v26, v0

    const-string v27, "vnd.android.cursor.item/photo"

    invoke-virtual/range {v26 .. v27}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v20

    .line 10684
    .local v20, photoMimeTypeId:J
    const/16 v26, 0x0

    new-instance v27, Ljava/lang/StringBuilder;

    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V

    const-string v28, ""

    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v27

    move-object/from16 v0, v27

    move-wide/from16 v1, v20

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v27

    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v27

    aput-object v27, v23, v26

    .line 10686
    new-instance v19, Ljava/util/ArrayList;

    invoke-direct/range {v19 .. v19}, Ljava/util/ArrayList;-><init>()V

    .line 10687
    .local v19, photoIdList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    new-instance v19, Ljava/util/ArrayList;

    .end local v19           #photoIdList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    invoke-direct/range {v19 .. v19}, Ljava/util/ArrayList;-><init>()V

    .restart local v19       #photoIdList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    move-object/from16 v14, v19

    .line 10688
    .local v14, outPhotoItemIdList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    move-object/from16 v0, v24

    move-object/from16 v1, v23

    invoke-virtual {v6, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v5

    .line 10689
    .local v5, cursor:Landroid/database/Cursor;
    if-eqz v5, :cond_1

    .line 10691
    :goto_0
    :try_start_0
    invoke-interface {v5}, Landroid/database/Cursor;->moveToNext()Z

    move-result v26

    if-eqz v26, :cond_0

    .line 10692
    const/16 v26, 0x0

    move/from16 v0, v26

    invoke-interface {v5, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v8

    .line 10693
    .local v8, id:J
    invoke-static {v8, v9}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v26

    move-object/from16 v0, v19

    move-object/from16 v1, v26

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 10696
    .end local v8           #id:J
    :catchall_0
    move-exception v26

    invoke-interface {v5}, Landroid/database/Cursor;->close()V

    .line 10697
    const/4 v5, 0x0

    throw v26

    .line 10696
    :cond_0
    invoke-interface {v5}, Landroid/database/Cursor;->close()V

    .line 10697
    const/4 v5, 0x0

    .line 10701
    :cond_1
    invoke-virtual/range {v19 .. v19}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v26

    if-eqz v26, :cond_3

    .line 10763
    :cond_2
    return-void

    .line 10705
    :cond_3
    const-string v24, "SELECT data15 FROM data WHERE _id = ? "

    .line 10707
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v4

    .line 10709
    .local v4, context:Landroid/content/Context;
    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v26

    const/high16 v27, 0x7f04

    invoke-virtual/range {v26 .. v27}, Landroid/content/res/Resources;->getInteger(I)I

    move-result v11

    .line 10712
    .local v11, maxDisplayPhotoDim:I
    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v26

    const v27, 0x7f040001

    invoke-virtual/range {v26 .. v27}, Landroid/content/res/Resources;->getInteger(I)I

    move-result v12

    .line 10715
    .local v12, maxThumbnailPhotoDim:I
    new-instance v25, Landroid/content/ContentValues;

    invoke-direct/range {v25 .. v25}, Landroid/content/ContentValues;-><init>()V

    .line 10717
    .local v25, values:Landroid/content/ContentValues;
    invoke-virtual/range {v19 .. v19}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v26

    if-nez v26, :cond_2

    .line 10719
    invoke-virtual/range {v19 .. v19}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v7

    .local v7, i$:Ljava/util/Iterator;
    :cond_4
    :goto_1
    invoke-interface {v7}, Ljava/util/Iterator;->hasNext()Z

    move-result v26

    if-eqz v26, :cond_2

    invoke-interface {v7}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v26

    check-cast v26, Ljava/lang/Long;

    invoke-virtual/range {v26 .. v26}, Ljava/lang/Long;->longValue()J

    move-result-wide v17

    .line 10720
    .local v17, photoId:J
    const/16 v26, 0x0

    new-instance v27, Ljava/lang/StringBuilder;

    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V

    const-string v28, ""

    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v27

    move-object/from16 v0, v27

    move-wide/from16 v1, v17

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v27

    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v27

    aput-object v27, v23, v26

    .line 10721
    const/4 v13, 0x0

    .line 10722
    .local v13, originalPhoto:[B
    move-object/from16 v0, v24

    move-object/from16 v1, v23

    invoke-virtual {v6, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v5

    .line 10723
    if-eqz v5, :cond_6

    .line 10725
    :try_start_1
    invoke-interface {v5}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v26

    if-eqz v26, :cond_5

    .line 10726
    const/16 v26, 0x0

    move/from16 v0, v26

    invoke-interface {v5, v0}, Landroid/database/Cursor;->getBlob(I)[B
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result-object v13

    .line 10729
    :cond_5
    invoke-interface {v5}, Landroid/database/Cursor;->close()V

    .line 10730
    const/4 v5, 0x0

    .line 10734
    :cond_6
    if-eqz v13, :cond_4

    array-length v0, v13

    move/from16 v26, v0

    if-lez v26, :cond_4

    .line 10735
    invoke-virtual/range {v25 .. v25}, Landroid/content/ContentValues;->clear()V

    .line 10739
    :try_start_2
    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 10740
    new-instance v22, Lcom/android/providers/contacts/PhotoProcessor;

    move-object/from16 v0, v22

    invoke-direct {v0, v13, v11, v12}, Lcom/android/providers/contacts/PhotoProcessor;-><init>([BII)V

    .line 10742
    .local v22, processor:Lcom/android/providers/contacts/PhotoProcessor;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    move-object/from16 v26, v0

    move-object/from16 v0, v26

    move-object/from16 v1, v22

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/PhotoStore;->insert(Lcom/android/providers/contacts/PhotoProcessor;)J

    move-result-wide v15

    .line 10744
    .local v15, photoFileId:J
    const-wide/16 v26, 0x0

    cmp-long v26, v15, v26

    if-eqz v26, :cond_7

    .line 10745
    const-string v26, "data14"

    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v27

    invoke-virtual/range {v25 .. v27}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 10750
    :goto_2
    const-string v26, "data"

    const-string v27, "_id = ? "

    move-object/from16 v0, v26

    move-object/from16 v1, v25

    move-object/from16 v2, v27

    move-object/from16 v3, v23

    invoke-virtual {v6, v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_0

    .line 10755
    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    goto/16 :goto_1

    .line 10729
    .end local v15           #photoFileId:J
    .end local v22           #processor:Lcom/android/providers/contacts/PhotoProcessor;
    :catchall_1
    move-exception v26

    invoke-interface {v5}, Landroid/database/Cursor;->close()V

    .line 10730
    const/4 v5, 0x0

    throw v26

    .line 10747
    .restart local v15       #photoFileId:J
    .restart local v22       #processor:Lcom/android/providers/contacts/PhotoProcessor;
    :cond_7
    :try_start_3
    const-string v26, "data14"

    invoke-virtual/range {v25 .. v26}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_2
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_0

    goto :goto_2

    .line 10752
    .end local v15           #photoFileId:J
    .end local v22           #processor:Lcom/android/providers/contacts/PhotoProcessor;
    :catch_0
    move-exception v10

    .line 10753
    .local v10, ioe:Ljava/io/IOException;
    :try_start_4
    const-string v26, "ContactsProvider"

    const-string v27, "Could not process photo for insert or update"

    move-object/from16 v0, v26

    move-object/from16 v1, v27

    invoke-static {v0, v1, v10}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2

    .line 10755
    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    goto/16 :goto_1

    .end local v10           #ioe:Ljava/io/IOException;
    :catchall_2
    move-exception v26

    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v26
.end method

.method public getContactDirectoryManagerForTest()Lcom/android/providers/contacts/ContactDirectoryManager;
    .locals 1

    .prologue
    .line 2343
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    return-object v0
.end method

.method protected getContactView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10641
    const-string v0, "view_contacts"

    return-object v0
.end method

.method protected getCrossProcessCursor(Landroid/database/Cursor;)Landroid/database/CrossProcessCursor;
    .locals 2
    .parameter "cursor"

    .prologue
    .line 6627
    move-object v0, p1

    .line 6628
    .local v0, c:Landroid/database/Cursor;
    instance-of v1, v0, Landroid/database/CrossProcessCursor;

    if-eqz v1, :cond_0

    .line 6629
    check-cast v0, Landroid/database/CrossProcessCursor;

    .line 6633
    .end local v0           #c:Landroid/database/Cursor;
    :goto_0
    return-object v0

    .line 6630
    .restart local v0       #c:Landroid/database/Cursor;
    :cond_0
    instance-of v1, v0, Landroid/database/CursorWindow;

    if-eqz v1, :cond_1

    .line 6631
    check-cast v0, Landroid/database/CursorWrapper;

    .end local v0           #c:Landroid/database/Cursor;
    invoke-virtual {v0}, Landroid/database/CursorWrapper;->getWrappedCursor()Landroid/database/Cursor;

    move-result-object v1

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getCrossProcessCursor(Landroid/database/Cursor;)Landroid/database/CrossProcessCursor;

    move-result-object v0

    goto :goto_0

    .line 6633
    .restart local v0       #c:Landroid/database/Cursor;
    :cond_1
    const/4 v0, 0x0

    goto :goto_0
.end method

.method public getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;
    .locals 4
    .parameter "mimeType"

    .prologue
    .line 2950
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 2951
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandlerForProfile(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 2959
    :cond_0
    :goto_0
    return-object v0

    .line 2953
    :cond_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/DataRowHandler;

    .line 2954
    .local v0, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-nez v0, :cond_0

    .line 2955
    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;

    .end local v0           #handler:Lcom/android/providers/contacts/DataRowHandler;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-direct {v0, v1, v2, v3, p1}, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Ljava/lang/String;)V

    .line 2957
    .restart local v0       #handler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_0
.end method

.method public getDataRowHandlerForProfile(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;
    .locals 4
    .parameter "mimeType"

    .prologue
    .line 2963
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/DataRowHandler;

    .line 2964
    .local v0, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-nez v0, :cond_0

    .line 2965
    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;

    .end local v0           #handler:Lcom/android/providers/contacts/DataRowHandler;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-direct {v0, v1, v2, v3, p1}, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Ljava/lang/String;)V

    .line 2967
    .restart local v0       #handler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2969
    :cond_0
    return-object v0
.end method

.method protected getDataView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10645
    const-string v0, "view_data"

    return-object v0
.end method

.method protected bridge synthetic getDatabaseHelper(Landroid/content/Context;)Landroid/database/sqlite/SQLiteOpenHelper;
    .locals 1
    .parameter "x0"

    .prologue
    .line 197
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v0

    return-object v0
.end method

.method protected getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;
    .locals 1
    .parameter "context"

    .prologue
    .line 2303
    invoke-static {p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getInstance(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v0

    return-object v0
.end method

.method protected getDefaultAccount()Landroid/accounts/Account;
    .locals 5

    .prologue
    .line 9823
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-static {v3}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v0

    .line 9825
    .local v0, accountManager:Landroid/accounts/AccountManager;
    :try_start_0
    const-string v3, "com.google"

    invoke-virtual {v0, v3}, Landroid/accounts/AccountManager;->getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;

    move-result-object v1

    .line 9826
    .local v1, accounts:[Landroid/accounts/Account;
    if-eqz v1, :cond_0

    array-length v3, v1

    if-lez v3, :cond_0

    .line 9827
    const/4 v3, 0x0

    aget-object v3, v1, v3
    :try_end_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0

    .line 9832
    .end local v1           #accounts:[Landroid/accounts/Account;
    :goto_0
    return-object v3

    .line 9829
    :catch_0
    move-exception v2

    .line 9830
    .local v2, e:Ljava/lang/Throwable;
    const-string v3, "ContactsProvider"

    const-string v4, "Cannot determine the default account for contacts compatibility"

    invoke-static {v3, v4, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 9832
    .end local v2           #e:Ljava/lang/Throwable;
    :cond_0
    const/4 v3, 0x0

    goto :goto_0
.end method

.method public getDefaultProjection(Landroid/net/Uri;)[Ljava/lang/String;
    .locals 2
    .parameter "uri"

    .prologue
    .line 9648
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v0

    .line 9649
    .local v0, match:I
    sparse-switch v0, :sswitch_data_0

    .line 9698
    const/4 v1, 0x0

    :goto_0
    return-object v1

    .line 9656
    :sswitch_0
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9660
    :sswitch_1
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9665
    :sswitch_2
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9671
    :sswitch_3
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9681
    :sswitch_4
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9684
    :sswitch_5
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9688
    :sswitch_6
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9691
    :sswitch_7
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9695
    :sswitch_8
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 9649
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_0
        0x3e9 -> :sswitch_0
        0x3ea -> :sswitch_0
        0x3eb -> :sswitch_0
        0x3f7 -> :sswitch_2
        0x3f8 -> :sswitch_2
        0x3fb -> :sswitch_1
        0x7d2 -> :sswitch_3
        0x7d3 -> :sswitch_3
        0xbb9 -> :sswitch_4
        0xbba -> :sswitch_4
        0xbbb -> :sswitch_4
        0xbbd -> :sswitch_4
        0xbbe -> :sswitch_4
        0xbc1 -> :sswitch_4
        0xbc2 -> :sswitch_4
        0xfa0 -> :sswitch_5
        0x1770 -> :sswitch_6
        0x1771 -> :sswitch_6
        0x1f40 -> :sswitch_0
        0x2328 -> :sswitch_7
        0x4269 -> :sswitch_8
        0x426a -> :sswitch_8
        0x4a38 -> :sswitch_0
        0x4a39 -> :sswitch_1
        0x4a3a -> :sswitch_4
        0x4a3c -> :sswitch_2
        0x4a3d -> :sswitch_3
        0x4a3e -> :sswitch_3
    .end sparse-switch
.end method

.method protected getDeletePhotoID(Ljava/util/ArrayList;)Ljava/util/ArrayList;
    .locals 9
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/Long;",
            ">;)",
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation

    .prologue
    .line 6333
    .local p1, deletedRawContacts:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    new-instance v4, Ljava/util/ArrayList;

    invoke-direct {v4}, Ljava/util/ArrayList;-><init>()V

    .line 6334
    .local v4, photoIds:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-lez v7, :cond_3

    .line 6335
    new-instance v6, Ljava/lang/String;

    invoke-direct {v6}, Ljava/lang/String;-><init>()V

    .line 6337
    .local v6, sql:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    .line 6339
    .local v5, sb:Ljava/lang/StringBuilder;
    const-string v7, " IN ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6340
    invoke-virtual {p1}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v1

    .local v1, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z

    move-result v7

    if-eqz v7, :cond_0

    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Ljava/lang/Long;

    invoke-virtual {v7}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    .line 6341
    .local v2, id:J
    invoke-virtual {v5, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 6342
    const-string v7, ","

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_0

    .line 6344
    .end local v2           #id:J
    :cond_0
    invoke-virtual {v5}, Ljava/lang/StringBuilder;->length()I

    move-result v7

    add-int/lit8 v7, v7, -0x1

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 6345
    const-string v7, ")"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6347
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "Select data._id from mimetypes join data on mimetypes.mimetype=\'vnd.android.cursor.item/photo\' and mimetypes._id= data.mimetype_id And data.raw_contact_id "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    .line 6353
    const/4 v0, 0x0

    .line 6355
    .local v0, c:Landroid/database/Cursor;
    :try_start_0
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Landroid/database/sqlite/SQLiteDatabase;

    const/4 v8, 0x0

    invoke-virtual {v7, v6, v8}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v0

    .line 6356
    if-eqz v0, :cond_2

    .line 6357
    :goto_1
    invoke-interface {v0}, Landroid/database/Cursor;->moveToNext()Z

    move-result v7

    if-eqz v7, :cond_2

    .line 6358
    const/4 v7, 0x0

    invoke-interface {v0, v7}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v7

    invoke-static {v7, v8}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v7

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 6362
    :catchall_0
    move-exception v7

    if-eqz v0, :cond_1

    .line 6363
    invoke-interface {v0}, Landroid/database/Cursor;->close()V

    :cond_1
    throw v7

    .line 6362
    :cond_2
    if-eqz v0, :cond_3

    .line 6363
    invoke-interface {v0}, Landroid/database/Cursor;->close()V

    .line 6367
    .end local v0           #c:Landroid/database/Cursor;
    .end local v1           #i$:Ljava/util/Iterator;
    .end local v5           #sb:Ljava/lang/StringBuilder;
    .end local v6           #sql:Ljava/lang/String;
    :cond_3
    return-object v4
.end method

.method protected getEntityView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10661
    const-string v0, "view_entities"

    return-object v0
.end method

.method protected getLegacyContactImporter()Lcom/android/providers/contacts/LegacyContactImporter;
    .locals 2

    .prologue
    .line 2363
    new-instance v0, Lcom/android/providers/contacts/LegacyContactImporter;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1, p0}, Lcom/android/providers/contacts/LegacyContactImporter;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsProvider2;)V

    return-object v0
.end method

.method protected getLimit(Landroid/net/Uri;)Ljava/lang/String;
    .locals 7
    .parameter "uri"

    .prologue
    const/4 v3, 0x0

    .line 8835
    const-string v4, "limit"

    invoke-static {p1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 8836
    .local v2, limitParam:Ljava/lang/String;
    if-nez v2, :cond_0

    .line 8849
    :goto_0
    return-object v3

    .line 8841
    :cond_0
    :try_start_0
    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v1

    .line 8842
    .local v1, l:I
    if-gez v1, :cond_1

    .line 8843
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Invalid limit parameter: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Ljava/lang/NumberFormatException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    .line 8847
    .end local v1           #l:I
    :catch_0
    move-exception v0

    .line 8848
    .local v0, ex:Ljava/lang/NumberFormatException;
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Invalid limit parameter: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 8846
    .end local v0           #ex:Ljava/lang/NumberFormatException;
    .restart local v1       #l:I
    :cond_1
    :try_start_1
    invoke-static {v1}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;
    :try_end_1
    .catch Ljava/lang/NumberFormatException; {:try_start_1 .. :try_end_1} :catch_0

    move-result-object v3

    goto :goto_0
.end method

.method protected getLocale()Ljava/util/Locale;
    .locals 1

    .prologue
    .line 2348
    invoke-static {}, Ljava/util/Locale;->getDefault()Ljava/util/Locale;

    move-result-object v0

    return-object v0
.end method

.method getMaxDisplayPhotoDim()I
    .locals 1

    .prologue
    .line 2326
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxDisplayPhotoDim:I

    return v0
.end method

.method getMaxThumbnailPhotoDim()I
    .locals 1

    .prologue
    .line 2330
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxThumbnailPhotoDim:I

    return v0
.end method

.method protected getMimetypeIdByType(Ljava/lang/String;)J
    .locals 2
    .parameter "type"

    .prologue
    .line 10123
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v0

    return-wide v0
.end method

.method protected getMostReferencedContactId(Ljava/util/ArrayList;)J
    .locals 13
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 8250
    .local p1, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    invoke-static {p1}, Ljava/util/Collections;->sort(Ljava/util/List;)V

    .line 8252
    const-wide/16 v0, -0x1

    .line 8253
    .local v0, bestContactId:J
    const/4 v2, 0x0

    .line 8255
    .local v2, bestRefCount:I
    const-wide/16 v3, -0x1

    .line 8256
    .local v3, contactId:J
    const/4 v5, 0x0

    .line 8258
    .local v5, count:I
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v8

    .line 8259
    .local v8, segmentCount:I
    const/4 v6, 0x0

    .local v6, i:I
    :goto_0
    if-ge v6, v8, :cond_3

    .line 8260
    invoke-virtual {p1, v6}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8261
    .local v7, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    iget-wide v9, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    const-wide/16 v11, -0x1

    cmp-long v9, v9, v11

    if-eqz v9, :cond_0

    .line 8262
    iget-wide v9, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    cmp-long v9, v9, v3

    if-nez v9, :cond_1

    .line 8263
    add-int/lit8 v5, v5, 0x1

    .line 8259
    :cond_0
    :goto_1
    add-int/lit8 v6, v6, 0x1

    goto :goto_0

    .line 8265
    :cond_1
    if-le v5, v2, :cond_2

    .line 8266
    move-wide v0, v3

    .line 8267
    move v2, v5

    .line 8269
    :cond_2
    iget-wide v3, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    .line 8270
    const/4 v5, 0x1

    goto :goto_1

    .line 8274
    .end local v7           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_3
    if-le v5, v2, :cond_4

    .line 8277
    .end local v3           #contactId:J
    :goto_2
    return-wide v3

    .restart local v3       #contactId:J
    :cond_4
    move-wide v3, v0

    goto :goto_2
.end method

.method getNameLookupBuilder()Lcom/android/providers/contacts/NameLookupBuilder;
    .locals 1

    .prologue
    .line 2338
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

    return-object v0
.end method

.method getNameSplitter()Lcom/android/providers/contacts/NameSplitter;
    .locals 1

    .prologue
    .line 2334
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    return-object v0
.end method

.method getPhotoStore()Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 2317
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method getProfilePhotoStore()Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 2322
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method public getProfileProvider()Lcom/android/providers/contacts/ProfileProvider;
    .locals 1

    .prologue
    .line 2312
    new-instance v0, Lcom/android/providers/contacts/ProfileProvider;

    invoke-direct {v0, p0}, Lcom/android/providers/contacts/ProfileProvider;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    return-object v0
.end method

.method protected getRawContactEntitiesView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10653
    const-string v0, "view_raw_entities"

    return-object v0
.end method

.method protected getRawContactsView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10649
    const-string v0, "view_raw_contacts"

    return-object v0
.end method

.method protected getStreamItemsView()Ljava/lang/String;
    .locals 1

    .prologue
    .line 10657
    const-string v0, "view_stream_items"

    return-object v0
.end method

.method protected getTransactionHolder()Ljava/lang/ThreadLocal;
    .locals 1
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsTransaction;",
            ">;"
        }
    .end annotation

    .prologue
    .line 2308
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionHolder:Ljava/lang/ThreadLocal;

    return-object v0
.end method

.method public getType(Landroid/net/Uri;)Ljava/lang/String;
    .locals 6
    .parameter "uri"

    .prologue
    .line 9332
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 9334
    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v3, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v2

    .line 9335
    .local v2, match:I
    sparse-switch v2, :sswitch_data_0

    .line 9413
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    invoke-virtual {v3, p1}, Lcom/android/providers/contacts/LegacyApiSupport;->getType(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v3

    :goto_0
    return-object v3

    .line 9337
    :sswitch_0
    const-string v3, "vnd.android.cursor.dir/contact"

    goto :goto_0

    .line 9342
    :sswitch_1
    const-string v3, "vnd.android.cursor.item/contact"

    goto :goto_0

    .line 9346
    :sswitch_2
    const-string v3, "text/x-vcard"

    goto :goto_0

    .line 9355
    :sswitch_3
    const-string v3, "image/jpeg"

    goto :goto_0

    .line 9358
    :sswitch_4
    const-string v3, "vnd.android.cursor.dir/raw_contact"

    goto :goto_0

    .line 9361
    :sswitch_5
    const-string v3, "vnd.android.cursor.item/raw_contact"

    goto :goto_0

    .line 9364
    :sswitch_6
    const-string v3, "vnd.android.cursor.dir/data"

    goto :goto_0

    .line 9366
    :sswitch_7
    invoke-static {p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v0

    .line 9367
    .local v0, id:J
    invoke-static {v0, v1}, Landroid/provider/ContactsContract;->isProfileId(J)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 9368
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v3, v0, v1}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->getDataMimeType(J)Ljava/lang/String;

    move-result-object v3

    goto :goto_0

    .line 9370
    :cond_0
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getDataMimeType(J)Ljava/lang/String;

    move-result-object v3

    goto :goto_0

    .line 9373
    .end local v0           #id:J
    :sswitch_8
    const-string v3, "vnd.android.cursor.dir/phone_v2"

    goto :goto_0

    .line 9375
    :sswitch_9
    const-string v3, "vnd.android.cursor.item/phone_v2"

    goto :goto_0

    .line 9377
    :sswitch_a
    const-string v3, "vnd.android.cursor.dir/phone_lookup"

    goto :goto_0

    .line 9379
    :sswitch_b
    const-string v3, "vnd.android.cursor.dir/email_v2"

    goto :goto_0

    .line 9381
    :sswitch_c
    const-string v3, "vnd.android.cursor.item/email_v2"

    goto :goto_0

    .line 9383
    :sswitch_d
    const-string v3, "vnd.android.cursor.dir/postal-address_v2"

    goto :goto_0

    .line 9385
    :sswitch_e
    const-string v3, "vnd.android.cursor.item/postal-address_v2"

    goto :goto_0

    .line 9387
    :sswitch_f
    const-string v3, "vnd.android.cursor.dir/aggregation_exception"

    goto :goto_0

    .line 9389
    :sswitch_10
    const-string v3, "vnd.android.cursor.item/aggregation_exception"

    goto :goto_0

    .line 9391
    :sswitch_11
    const-string v3, "vnd.android.cursor.dir/setting"

    goto :goto_0

    .line 9393
    :sswitch_12
    const-string v3, "vnd.android.cursor.dir/contact"

    goto :goto_0

    .line 9395
    :sswitch_13
    const-string v3, "vnd.android.cursor.dir/vnd.android.search.suggest"

    goto :goto_0

    .line 9397
    :sswitch_14
    const-string v3, "vnd.android.cursor.item/vnd.android.search.suggest"

    goto :goto_0

    .line 9399
    :sswitch_15
    const-string v3, "vnd.android.cursor.dir/contact_directories"

    goto :goto_0

    .line 9401
    :sswitch_16
    const-string v3, "vnd.android.cursor.item/contact_directory"

    goto :goto_0

    .line 9403
    :sswitch_17
    const-string v3, "vnd.android.cursor.dir/stream_item"

    goto :goto_0

    .line 9405
    :sswitch_18
    const-string v3, "vnd.android.cursor.item/stream_item"

    goto :goto_0

    .line 9407
    :sswitch_19
    const-string v3, "vnd.android.cursor.dir/stream_item_photo"

    goto :goto_0

    .line 9409
    :sswitch_1a
    const-string v3, "vnd.android.cursor.item/stream_item_photo"

    goto :goto_0

    .line 9411
    :sswitch_1b
    new-instance v3, Ljava/lang/UnsupportedOperationException;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Not supported for write-only URI "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-direct {v3, v4}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 9335
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_0
        0x3e9 -> :sswitch_1
        0x3ea -> :sswitch_1
        0x3eb -> :sswitch_1
        0x3f1 -> :sswitch_3
        0x3f2 -> :sswitch_3
        0x3f3 -> :sswitch_3
        0x3f4 -> :sswitch_3
        0x3f5 -> :sswitch_3
        0x3f6 -> :sswitch_3
        0x3f7 -> :sswitch_2
        0x3f8 -> :sswitch_2
        0x7d2 -> :sswitch_4
        0x7d3 -> :sswitch_5
        0x7d6 -> :sswitch_3
        0xbb8 -> :sswitch_6
        0xbb9 -> :sswitch_7
        0xbba -> :sswitch_8
        0xbbb -> :sswitch_9
        0xbbd -> :sswitch_b
        0xbbe -> :sswitch_c
        0xbc1 -> :sswitch_d
        0xbc2 -> :sswitch_e
        0xfa0 -> :sswitch_a
        0x1770 -> :sswitch_f
        0x1771 -> :sswitch_10
        0x1f40 -> :sswitch_12
        0x2328 -> :sswitch_11
        0x2ee1 -> :sswitch_13
        0x2ee2 -> :sswitch_14
        0x4269 -> :sswitch_15
        0x426a -> :sswitch_16
        0x4a38 -> :sswitch_1
        0x4a3a -> :sswitch_6
        0x4a3c -> :sswitch_2
        0x4a3d -> :sswitch_4
        0x4a3e -> :sswitch_5
        0x5208 -> :sswitch_17
        0x5209 -> :sswitch_1b
        0x520a -> :sswitch_18
        0x520b -> :sswitch_19
        0x520c -> :sswitch_1a
        0x55f0 -> :sswitch_3
    .end sparse-switch
.end method

.method importLegacyContacts(Lcom/android/providers/contacts/LegacyContactImporter;)Z
    .locals 5
    .parameter "importer"

    .prologue
    const/4 v2, 0x0

    .line 2429
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactAggregator;->isEnabled()Z

    move-result v0

    .line 2430
    .local v0, aggregatorEnabled:Z
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v3, v2}, Lcom/android/providers/contacts/ContactAggregator;->setEnabled(Z)V

    .line 2432
    :try_start_0
    invoke-virtual {p1}, Lcom/android/providers/contacts/LegacyContactImporter;->importContacts()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 2435
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v3, v0}, Lcom/android/providers/contacts/ContactAggregator;->setEnabled(Z)V
    :try_end_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0

    .line 2436
    const/4 v2, 0x1

    .line 2442
    :goto_0
    return v2

    .line 2438
    :catch_0
    move-exception v1

    .line 2439
    .local v1, e:Ljava/lang/Throwable;
    const-string v3, "ContactsProvider"

    const-string v4, "Legacy contact import failed"

    invoke-static {v3, v4, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 2441
    .end local v1           #e:Ljava/lang/Throwable;
    :cond_0
    invoke-virtual {p1}, Lcom/android/providers/contacts/LegacyContactImporter;->getEstimatedStorageRequirement()J

    move-result-wide v3

    iput-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mEstimatedStorageRequirement:J

    goto :goto_0
.end method

.method protected initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V
    .locals 7
    .parameter
    .parameter "dbHelper"
    .parameter "contactAggregator"
    .parameter "photoStore"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Map",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;",
            "Lcom/android/providers/contacts/ContactsDatabaseHelper;",
            "Lcom/android/providers/contacts/ContactAggregator;",
            "Lcom/android/providers/contacts/PhotoStore;",
            ")V"
        }
    .end annotation

    .prologue
    .line 1901
    .local p1, handlerMap:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/String;Lcom/android/providers/contacts/DataRowHandler;>;"
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    .line 1902
    .local v1, context:Landroid/content/Context;
    const-string v0, "vnd.android.cursor.item/email_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForEmail;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForEmail;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1904
    const-string v0, "vnd.android.cursor.item/im"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForIm;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForIm;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1906
    const-string v0, "vnd.android.cursor.item/organization"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForOrganization;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForOrganization;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1908
    const-string v0, "vnd.android.cursor.item/phone_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForPhoneNumber;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForPhoneNumber;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1910
    const-string v0, "vnd.android.cursor.item/nickname"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForNickname;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForNickname;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1912
    const-string v6, "vnd.android.cursor.item/name"

    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

    move-object v2, p2

    move-object v3, p3

    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/NameLookupBuilder;)V

    invoke-interface {p1, v6, v0}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1915
    const-string v0, "vnd.android.cursor.item/postal-address_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForStructuredPostal;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

    invoke-direct {v2, v1, p2, p3, v3}, Lcom/android/providers/contacts/DataRowHandlerForStructuredPostal;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/PostalSplitter;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1918
    const-string v0, "vnd.android.cursor.item/group_membership"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForGroupMembership;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-direct {v2, v1, p2, p3, v3}, Lcom/android/providers/contacts/DataRowHandlerForGroupMembership;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Ljava/util/HashMap;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1921
    const-string v0, "vnd.android.cursor.item/photo"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForPhoto;

    invoke-direct {v2, v1, p2, p3, p4}, Lcom/android/providers/contacts/DataRowHandlerForPhoto;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1923
    const-string v0, "vnd.android.cursor.item/note"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForNote;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForNote;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1925
    return-void
.end method

.method protected initForDefaultLocale()V
    .locals 6

    .prologue
    const/4 v5, 0x1

    .line 1838
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    .line 1839
    .local v0, context:Landroid/content/Context;
    new-instance v1, Lcom/android/providers/contacts/LegacyApiSupport;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    invoke-direct {v1, v0, v2, p0, v3}, Lcom/android/providers/contacts/LegacyApiSupport;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/GlobalSearchSupport;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    .line 1841
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getLocale()Ljava/util/Locale;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    .line 1842
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->createNameSplitter()Lcom/android/providers/contacts/NameSplitter;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    .line 1843
    new-instance v1, Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-direct {v1, p0, v2}, Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/NameSplitter;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

    .line 1844
    new-instance v1, Lcom/android/providers/contacts/PostalSplitter;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-direct {v1, v2}, Lcom/android/providers/contacts/PostalSplitter;-><init>(Ljava/util/Locale;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

    .line 1845
    new-instance v1, Lcom/android/providers/contacts/CommonNicknameCache;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    invoke-direct {v1, v2}, Lcom/android/providers/contacts/CommonNicknameCache;-><init>(Landroid/database/sqlite/SQLiteDatabase;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/CommonNicknameCache;

    .line 1846
    invoke-static {}, Lcom/android/providers/contacts/ContactLocaleUtils;->getIntance()Lcom/android/providers/contacts/ContactLocaleUtils;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-virtual {v1, v2}, Lcom/android/providers/contacts/ContactLocaleUtils;->setLocale(Ljava/util/Locale;)V

    .line 1851
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;

    move-result-object v2

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/CommonNicknameCache;

    invoke-static {p0, v1, v2, v3, v4}, Lcom/android/providers/contacts/HtcContactAggregatorManager;->getContactAggregator(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/PhotoPriorityResolver;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/CommonNicknameCache;)Lcom/android/providers/contacts/ContactAggregator;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    .line 1853
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v1, v5}, Lcom/android/providers/contacts/ContactAggregator;->setEnabled(Z)V

    .line 1857
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;

    move-result-object v2

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/CommonNicknameCache;

    invoke-static {p0, v1, v2, v3, v4}, Lcom/android/providers/contacts/HtcContactAggregatorManager;->getProfileAggregator(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/PhotoPriorityResolver;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/CommonNicknameCache;)Lcom/android/providers/contacts/ContactAggregator;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    .line 1859
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Lcom/android/providers/contacts/ContactAggregator;->setEnabled(Z)V

    .line 1861
    new-instance v1, Lcom/android/providers/contacts/SearchIndexManager;

    invoke-direct {v1, p0}, Lcom/android/providers/contacts/SearchIndexManager;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    .line 1863
    new-instance v1, Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getFilesDir()Ljava/io/File;

    move-result-object v2

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-direct {v1, v2, v3}, Lcom/android/providers/contacts/PhotoStore;-><init>(Ljava/io/File;Lcom/android/providers/contacts/ContactsDatabaseHelper;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    .line 1867
    new-instance v1, Ljava/util/HashMap;

    invoke-direct {v1}, Ljava/util/HashMap;-><init>()V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    .line 1868
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {p0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V

    .line 1871
    new-instance v1, Lcom/android/providers/contacts/PhotoStore;

    new-instance v2, Ljava/io/File;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-virtual {v3}, Landroid/content/Context;->getFilesDir()Ljava/io/File;

    move-result-object v3

    const-string v4, "profile"

    invoke-direct {v2, v3, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-direct {v1, v2, v3}, Lcom/android/providers/contacts/PhotoStore;-><init>(Ljava/io/File;Lcom/android/providers/contacts/ContactsDatabaseHelper;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    .line 1874
    new-instance v1, Ljava/util/HashMap;

    invoke-direct {v1}, Ljava/util/HashMap;-><init>()V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    .line 1875
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {p0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V

    .line 1879
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1883
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->compileStatements()V

    .line 1888
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-static {v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->getInstance(Landroid/content/Context;)Lcom/android/providers/contacts/NotifyDialerScheduler;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    .line 1890
    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsCreateReady:Z

    .line 1894
    return-void
.end method

.method protected initialContactsProviderBackgroundTask()V
    .locals 0

    .prologue
    .line 1828
    return-void
.end method

.method protected initialize()Z
    .locals 8

    .prologue
    const/16 v7, 0xa

    const/4 v6, 0x1

    .line 1759
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    .line 1760
    .local v1, resources:Landroid/content/res/Resources;
    const/high16 v2, 0x7f04

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getInteger(I)I

    move-result v2

    iput v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxDisplayPhotoDim:I

    .line 1762
    const v2, 0x7f040001

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getInteger(I)I

    move-result v2

    iput v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxThumbnailPhotoDim:I

    .line 1765
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v2

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 1766
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2, v3}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 1769
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "contacts"

    invoke-virtual {p0, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setDbHelperToSerializeOn(Landroid/database/sqlite/SQLiteOpenHelper;Ljava/lang/String;)V

    .line 1771
    new-instance v2, Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-direct {v2, p0}, Lcom/android/providers/contacts/ContactDirectoryManager;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    .line 1772
    new-instance v2, Lcom/android/providers/contacts/GlobalSearchSupport;

    invoke-direct {v2, p0}, Lcom/android/providers/contacts/GlobalSearchSupport;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    .line 1775
    new-instance v2, Ljava/util/concurrent/CountDownLatch;

    invoke-direct {v2, v6}, Ljava/util/concurrent/CountDownLatch;-><init>(I)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    .line 1776
    new-instance v2, Ljava/util/concurrent/CountDownLatch;

    invoke-direct {v2, v6}, Ljava/util/concurrent/CountDownLatch;-><init>(I)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    .line 1778
    new-instance v2, Landroid/os/HandlerThread;

    const-string v3, "ContactsProviderWorker"

    invoke-direct {v2, v3, v7}, Landroid/os/HandlerThread;-><init>(Ljava/lang/String;I)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    .line 1780
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    invoke-virtual {v2}, Landroid/os/HandlerThread;->start()V

    .line 1781
    new-instance v2, Lcom/android/providers/contacts/ContactsProvider2$1;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    invoke-virtual {v3}, Landroid/os/HandlerThread;->getLooper()Landroid/os/Looper;

    move-result-object v3

    invoke-direct {v2, p0, v3}, Lcom/android/providers/contacts/ContactsProvider2$1;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Landroid/os/Looper;)V

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    .line 1789
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getProfileProvider()Lcom/android/providers/contacts/ProfileProvider;

    move-result-object v2

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    .line 1790
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "contacts"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ProfileProvider;->setDbHelperToSerializeOn(Landroid/database/sqlite/SQLiteOpenHelper;Ljava/lang/String;)V

    .line 1791
    new-instance v0, Landroid/content/pm/ProviderInfo;

    invoke-direct {v0}, Landroid/content/pm/ProviderInfo;-><init>()V

    .line 1792
    .local v0, profileInfo:Landroid/content/pm/ProviderInfo;
    const-string v2, "android.permission.READ_PROFILE"

    iput-object v2, v0, Landroid/content/pm/ProviderInfo;->readPermission:Ljava/lang/String;

    .line 1793
    const-string v2, "android.permission.WRITE_PROFILE"

    iput-object v2, v0, Landroid/content/pm/ProviderInfo;->writePermission:Ljava/lang/String;

    .line 1794
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-virtual {v2, v3, v0}, Lcom/android/providers/contacts/ProfileProvider;->attachInfo(Landroid/content/Context;Landroid/content/pm/ProviderInfo;)V

    .line 1795
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-virtual {v2, v3}, Lcom/android/providers/contacts/ProfileProvider;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ProfileDatabaseHelper;

    move-result-object v2

    iput-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    .line 1798
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    const-string v3, "contacts_preauth_uri_expiration"

    const-wide/32 v4, 0x493e0

    invoke-static {v2, v3, v4, v5}, Landroid/provider/Settings$Secure;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v2

    iput-wide v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUriDuration:J

    .line 1803
    const/4 v2, 0x0

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1804
    const/4 v2, 0x2

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1805
    const/4 v2, 0x3

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1806
    const/4 v2, 0x4

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1807
    const/4 v2, 0x5

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1808
    const/4 v2, 0x6

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1809
    const/4 v2, 0x7

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1810
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1812
    const/16 v2, 0xc

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1814
    invoke-virtual {p0, v7}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1816
    const/16 v2, 0xb

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1819
    return v6
.end method

.method public insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    .locals 1
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2553
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2556
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2558
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDbWithInsertedValues(Landroid/net/Uri;Landroid/content/ContentValues;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 2559
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2560
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v0, p1, p2}, Lcom/android/providers/contacts/ProfileProvider;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v0

    .line 2563
    :goto_0
    return-object v0

    .line 2562
    :cond_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2563
    invoke-super {p0, p1, p2}, Lcom/android/providers/contacts/AbstractContactsProvider;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v0

    goto :goto_0
.end method

.method protected insertData(Landroid/content/ContentValues;Z)J
    .locals 13
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3478
    const-wide/16 v7, 0x0

    .line 3479
    .local v7, id:J
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1}, Landroid/content/ContentValues;->clear()V

    .line 3480
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1, p1}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3483
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v1

    if-nez v1, :cond_0

    .line 3484
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {p0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->refineDataValue(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)V

    .line 3488
    :cond_0
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    .line 3491
    .local v3, rawContactId:J
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    .line 3492
    .local v10, packageName:Ljava/lang/String;
    if-eqz v10, :cond_1

    .line 3493
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "package_id"

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, v10}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v11

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v2, v5, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3495
    :cond_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3498
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "mimetype"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v9

    .line 3499
    .local v9, mimeType:Ljava/lang/String;
    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 3500
    new-instance v1, Ljava/lang/IllegalArgumentException;

    const-string v2, "mimetype is required"

    invoke-direct {v1, v2}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v1

    .line 3503
    :cond_2
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "mimetype_id"

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v11

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v2, v5, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3504
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "mimetype"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3506
    invoke-virtual {p0, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 3508
    .local v0, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move v6, p2

    invoke-virtual/range {v0 .. v6}, Lcom/android/providers/contacts/DataRowHandler;->insert(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;JLandroid/content/ContentValues;Z)J

    move-result-wide v7

    .line 3525
    if-nez p2, :cond_3

    .line 3527
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v1, v3, v4}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V

    .line 3532
    :cond_3
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v1, v3, v4}, Lcom/android/providers/contacts/TransactionContext;->rawContactUpdated(J)V

    .line 3533
    return-wide v7
.end method

.method protected insertGroup(Landroid/net/Uri;Landroid/content/ContentValues;Z)J
    .locals 21
    .parameter "uri"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3906
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5}, Landroid/content/ContentValues;->clear()V

    .line 3907
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v0, p2

    invoke-virtual {v5, v0}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3909
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-virtual {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v13

    .line 3912
    .local v13, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "res_package"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    .line 3913
    .local v16, packageName:Ljava/lang/String;
    if-eqz v16, :cond_0

    .line 3914
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "package_id"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v16

    invoke-virtual {v5, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v6, v7, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3916
    :cond_0
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "res_package"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3918
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "favorites"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    if-eqz v5, :cond_4

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "favorites"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    const-wide/16 v10, 0x0

    cmp-long v5, v5, v10

    if-eqz v5, :cond_3

    const/4 v15, 0x1

    .line 3922
    .local v15, isFavoritesGroup:Z
    :goto_0
    if-nez p3, :cond_1

    .line 3923
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "dirty"

    const/4 v7, 0x1

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v5, v6, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3926
    :cond_1
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const-string v6, "groups"

    const-string v7, "title"

    move-object/from16 v0, p0

    iget-object v10, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5, v6, v7, v10}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v19

    .line 3928
    .local v19, result:J
    if-nez p3, :cond_8

    if-eqz v15, :cond_8

    .line 3932
    if-nez v13, :cond_5

    .line 3933
    const-string v8, "account_name IS NULL AND account_type IS NULL AND data_set IS NULL"

    .line 3936
    .local v8, selection:Ljava/lang/String;
    const/4 v9, 0x0

    .line 3955
    .local v9, selectionArgs:[Ljava/lang/String;
    :goto_1
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const-string v6, "raw_contacts"

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/String;

    const/4 v10, 0x0

    const-string v11, "_id"

    aput-object v11, v7, v10

    const/4 v10, 0x1

    const-string v11, "starred"

    aput-object v11, v7, v10

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v5 .. v12}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v14

    .line 3959
    .local v14, c:Landroid/database/Cursor;
    :cond_2
    :goto_2
    :try_start_0
    invoke-interface {v14}, Landroid/database/Cursor;->moveToNext()Z

    move-result v5

    if-eqz v5, :cond_7

    .line 3960
    const/4 v5, 0x1

    invoke-interface {v14, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v5

    const-wide/16 v10, 0x0

    cmp-long v5, v5, v10

    if-eqz v5, :cond_2

    .line 3961
    const/4 v5, 0x0

    invoke-interface {v14, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v17

    .line 3962
    .local v17, rawContactId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v17

    move-wide/from16 v3, v19

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 3963
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, v17

    invoke-virtual {v5, v0, v1}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_2

    .line 3967
    .end local v17           #rawContactId:J
    :catchall_0
    move-exception v5

    invoke-interface {v14}, Landroid/database/Cursor;->close()V

    throw v5

    .line 3918
    .end local v8           #selection:Ljava/lang/String;
    .end local v9           #selectionArgs:[Ljava/lang/String;
    .end local v14           #c:Landroid/database/Cursor;
    .end local v15           #isFavoritesGroup:Z
    .end local v19           #result:J
    :cond_3
    const/4 v15, 0x0

    goto/16 :goto_0

    :cond_4
    const/4 v15, 0x0

    goto/16 :goto_0

    .line 3937
    .restart local v15       #isFavoritesGroup:Z
    .restart local v19       #result:J
    :cond_5
    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v5

    if-nez v5, :cond_6

    .line 3938
    const-string v8, "account_name=? AND account_type=? AND data_set IS NULL"

    .line 3941
    .restart local v8       #selection:Ljava/lang/String;
    const/4 v5, 0x2

    new-array v9, v5, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v5

    const/4 v5, 0x1

    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v5

    .restart local v9       #selectionArgs:[Ljava/lang/String;
    goto :goto_1

    .line 3946
    .end local v8           #selection:Ljava/lang/String;
    .end local v9           #selectionArgs:[Ljava/lang/String;
    :cond_6
    const-string v8, "account_name=? AND account_type=? AND data_set=?"

    .line 3949
    .restart local v8       #selection:Ljava/lang/String;
    const/4 v5, 0x3

    new-array v9, v5, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v5

    const/4 v5, 0x1

    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v5

    const/4 v5, 0x2

    invoke-virtual {v13}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v5

    .restart local v9       #selectionArgs:[Ljava/lang/String;
    goto/16 :goto_1

    .line 3967
    .restart local v14       #c:Landroid/database/Cursor;
    :cond_7
    invoke-interface {v14}, Landroid/database/Cursor;->close()V

    .line 3971
    .end local v8           #selection:Ljava/lang/String;
    .end local v9           #selectionArgs:[Ljava/lang/String;
    .end local v14           #c:Landroid/database/Cursor;
    :cond_8
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "group_visible"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_9

    .line 3972
    const/4 v5, 0x1

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 3975
    :cond_9
    return-wide v19
.end method

.method protected insertInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    .locals 11
    .parameter "uri"
    .parameter "values"

    .prologue
    const/4 v8, 0x0

    const/4 v7, 0x0

    const/4 v6, 0x1

    .line 2974
    sget-boolean v5, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v5, :cond_0

    .line 2975
    const-string v5, "ContactsProvider"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "insertInTransaction: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v5, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2979
    :cond_0
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    if-nez v5, :cond_1

    .line 2980
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v9

    invoke-virtual {v5, v9}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2983
    :cond_1
    const-string v5, "caller_is_syncadapter"

    invoke-static {p1, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v0

    .line 2986
    .local v0, callerIsSyncAdapter:Z
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v5, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v3

    .line 2987
    .local v3, match:I
    const-wide/16 v1, 0x0

    .line 2989
    .local v1, id:J
    sparse-switch v3, :sswitch_data_0

    .line 3081
    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3082
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    invoke-virtual {v5, p1, p2}, Lcom/android/providers/contacts/LegacyApiSupport;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v5

    .line 3089
    :goto_0
    return-object v5

    .line 2992
    :sswitch_0
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v6

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v6, v5, p2}, Lcom/android/common/content/SyncStateContentProviderHelper;->insert(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3085
    :goto_1
    const-wide/16 v5, 0x0

    cmp-long v5, v1, v5

    if-gez v5, :cond_c

    move-object v5, v8

    .line 3086
    goto :goto_0

    .line 2996
    :sswitch_1
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertContact(Landroid/content/ContentValues;)J

    goto :goto_1

    .line 3001
    :sswitch_2
    new-instance v5, Ljava/lang/UnsupportedOperationException;

    const-string v6, "The profile contact is created automatically"

    invoke-direct {v5, v6}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v5

    .line 3007
    :sswitch_3
    invoke-direct {p0, p1, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertRawContact(Landroid/net/Uri;Landroid/content/ContentValues;Z)J

    move-result-wide v1

    .line 3008
    iget-boolean v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_2

    move v5, v6

    :goto_2
    or-int/2addr v5, v9

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_2
    move v5, v7

    goto :goto_2

    .line 3014
    :sswitch_4
    const/16 v5, 0x7d4

    if-ne v3, v5, :cond_3

    move v4, v6

    .line 3015
    .local v4, segment:I
    :goto_3
    const-string v9, "raw_contact_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-virtual {p2, v9, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3016
    invoke-virtual {p0, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertData(Landroid/content/ContentValues;Z)J

    move-result-wide v1

    .line 3017
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_4

    :goto_4
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    .line 3014
    .end local v4           #segment:I
    :cond_3
    const/4 v4, 0x2

    goto :goto_3

    .restart local v4       #segment:I
    :cond_4
    move v6, v7

    .line 3017
    goto :goto_4

    .line 3022
    .end local v4           #segment:I
    :sswitch_5
    const-string v9, "raw_contact_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-virtual {p2, v9, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3023
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3024
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_5

    :goto_5
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_5
    move v6, v7

    goto :goto_5

    .line 3030
    :sswitch_6
    invoke-virtual {p0, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertData(Landroid/content/ContentValues;Z)J

    move-result-wide v1

    .line 3031
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_6

    :goto_6
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_6
    move v6, v7

    goto :goto_6

    .line 3036
    :sswitch_7
    invoke-virtual {p0, p1, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertGroup(Landroid/net/Uri;Landroid/content/ContentValues;Z)J

    move-result-wide v1

    .line 3037
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_7

    :goto_7
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_7
    move v6, v7

    goto :goto_7

    .line 3042
    :sswitch_8
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSettings(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3043
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_8

    :goto_8
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_8
    move v6, v7

    goto :goto_8

    .line 3049
    :sswitch_9
    invoke-virtual {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStatusUpdate(Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3050
    goto/16 :goto_1

    .line 3055
    :sswitch_a
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3056
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_9

    :goto_9
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_9
    move v6, v7

    goto :goto_9

    .line 3062
    :sswitch_b
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v6, Lcom/android/providers/contacts/ContactsProvider2;->csFriendTable:Ljava/lang/String;

    invoke-virtual {v5, v6, v8, p2}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3063
    goto/16 :goto_1

    .line 3068
    :sswitch_c
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3069
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_a

    :goto_a
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_a
    move v6, v7

    goto :goto_a

    .line 3074
    :sswitch_d
    const-string v9, "stream_item_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-virtual {p2, v9, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3075
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 3076
    iget-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_b

    :goto_b
    or-int/2addr v5, v6

    iput-boolean v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_b
    move v6, v7

    goto :goto_b

    .line 3089
    :cond_c
    invoke-static {p1, v1, v2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v5

    goto/16 :goto_0

    .line 2989
    nop

    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_1
        0x7d2 -> :sswitch_3
        0x7d4 -> :sswitch_4
        0x7d7 -> :sswitch_5
        0xbb8 -> :sswitch_6
        0x1b58 -> :sswitch_9
        0x2328 -> :sswitch_8
        0x2710 -> :sswitch_7
        0x2af8 -> :sswitch_0
        0x2afa -> :sswitch_0
        0x4a38 -> :sswitch_2
        0x4a3a -> :sswitch_6
        0x4a3d -> :sswitch_3
        0x4a3f -> :sswitch_4
        0x4a41 -> :sswitch_9
        0x5208 -> :sswitch_a
        0x5209 -> :sswitch_c
        0x520b -> :sswitch_d
        0xd2f0 -> :sswitch_b
    .end sparse-switch
.end method

.method protected insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;
    .locals 5
    .parameter "selectionArgs"
    .parameter "arg"

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 9800
    if-nez p1, :cond_0

    .line 9801
    new-array v1, v4, [Ljava/lang/String;

    aput-object p2, v1, v3

    .line 9807
    :goto_0
    return-object v1

    .line 9803
    :cond_0
    array-length v2, p1

    add-int/lit8 v0, v2, 0x1

    .line 9804
    .local v0, newLength:I
    new-array v1, v0, [Ljava/lang/String;

    .line 9805
    .local v1, newSelectionArgs:[Ljava/lang/String;
    aput-object p2, v1, v3

    .line 9806
    array-length v2, p1

    invoke-static {p1, v3, v1, v4, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_0
.end method

.method public insertStatusUpdate(Landroid/content/ContentValues;)J
    .locals 46
    .parameter "values"

    .prologue
    .line 4031
    const-string v2, "im_handle"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v27

    .line 4032
    .local v27, handle:Ljava/lang/String;
    const-string v2, "protocol"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v39

    .line 4033
    .local v39, protocol:Ljava/lang/Integer;
    const/16 v24, 0x0

    .line 4035
    .local v24, customProtocol:Ljava/lang/String;
    if-eqz v39, :cond_0

    invoke-virtual/range {v39 .. v39}, Ljava/lang/Integer;->intValue()I

    move-result v2

    const/4 v4, -0x1

    if-ne v2, v4, :cond_0

    .line 4036
    const-string v2, "custom_protocol"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v24

    .line 4037
    invoke-static/range {v24 .. v24}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 4038
    new-instance v2, Ljava/lang/IllegalArgumentException;

    const-string v4, "CUSTOM_PROTOCOL is required when PROTOCOL=PROTOCOL_CUSTOM"

    invoke-direct {v2, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v2

    .line 4043
    :cond_0
    const-wide/16 v40, -0x1

    .line 4044
    .local v40, rawContactId:J
    const-wide/16 v21, -0x1

    .line 4045
    .local v21, contactId:J
    const-string v2, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v25

    .line 4046
    .local v25, dataId:Ljava/lang/Long;
    const/16 v19, 0x0

    .line 4047
    .local v19, accountType:Ljava/lang/String;
    const/16 v18, 0x0

    .line 4048
    .local v18, accountName:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const/4 v4, 0x0

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 4049
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->clear()V

    .line 4050
    if-eqz v25, :cond_4

    .line 4053
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, "data._id=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4054
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v25 .. v25}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4108
    :cond_1
    :goto_0
    const/16 v28, 0x0

    .line 4111
    .local v28, hasSkypeVideoData:Z
    const/16 v23, 0x0

    .line 4113
    .local v23, cursor:Landroid/database/Cursor;
    :try_start_0
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN contacts ON (raw_contacts.contact_id = contacts._id)"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$DataContactsQuery;->PROJECTION:[Ljava/lang/String;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v10, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    sget-object v12, Lcom/android/providers/contacts/ContactsProvider2;->EMPTY_STRING_ARRAY:[Ljava/lang/String;

    invoke-virtual {v10, v12}, Ljava/util/ArrayList;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;

    move-result-object v6

    check-cast v6, [Ljava/lang/String;

    const/4 v7, 0x0

    const/4 v8, 0x0

    const-string v9, "EXISTS (SELECT _id FROM visible_contacts WHERE contacts._id=visible_contacts._id) DESC, raw_contact_id"

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v23

    .line 4116
    invoke-interface/range {v23 .. v23}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v2

    if-eqz v2, :cond_1f

    .line 4117
    const/4 v2, 0x4

    move-object/from16 v0, v23

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v25

    .line 4118
    const/4 v2, 0x0

    move-object/from16 v0, v23

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 4119
    const/4 v2, 0x1

    move-object/from16 v0, v23

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v19

    .line 4120
    const/4 v2, 0x2

    move-object/from16 v0, v23

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v18

    .line 4121
    const/4 v2, 0x5

    move-object/from16 v0, v23

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    move-result-wide v21

    .line 4124
    const/16 v45, 0x0

    .line 4126
    .local v45, videoCheckCursor:Landroid/database/Cursor;
    :try_start_1
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/com.skype.android.videocall.action"

    invoke-virtual {v2, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v34

    .line 4127
    .local v34, mimetypeId:J
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "data"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    const-string v10, "_id"

    aput-object v10, v4, v5

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "mimetype_id="

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-wide/from16 v0, v34

    invoke-virtual {v5, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v10, " AND raw_contact_id="

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-wide/from16 v0, v40

    invoke-virtual {v5, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v45

    .line 4130
    if-eqz v45, :cond_2

    invoke-interface/range {v45 .. v45}, Landroid/database/Cursor;->moveToFirst()Z
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    move-result v2

    if-eqz v2, :cond_2

    .line 4131
    const/16 v28, 0x1

    .line 4135
    :cond_2
    if-eqz v45, :cond_1f

    .line 4136
    :try_start_2
    invoke-interface/range {v45 .. v45}, Landroid/database/Cursor;->close()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    move-object/from16 v3, v25

    .line 4148
    .end local v25           #dataId:Ljava/lang/Long;
    .end local v34           #mimetypeId:J
    .end local v45           #videoCheckCursor:Landroid/database/Cursor;
    .local v3, dataId:Ljava/lang/Long;
    :goto_1
    if-eqz v23, :cond_3

    .line 4149
    invoke-interface/range {v23 .. v23}, Landroid/database/Cursor;->close()V

    .line 4153
    :cond_3
    const-string v2, "mode"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_11

    .line 4155
    const-wide/16 v4, -0x1

    cmp-long v2, v21, v4

    if-nez v2, :cond_d

    .line 4156
    const-wide/16 v4, -0x1

    .line 4308
    :goto_2
    return-wide v4

    .line 4058
    .end local v3           #dataId:Ljava/lang/Long;
    .end local v23           #cursor:Landroid/database/Cursor;
    .end local v28           #hasSkypeVideoData:Z
    .restart local v25       #dataId:Ljava/lang/Long;
    :cond_4
    invoke-static/range {v27 .. v27}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_5

    if-nez v39, :cond_6

    .line 4059
    :cond_5
    new-instance v2, Ljava/lang/IllegalArgumentException;

    const-string v4, "PROTOCOL and IM_HANDLE are required"

    invoke-direct {v2, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v2

    .line 4063
    :cond_6
    const/4 v2, 0x5

    invoke-virtual/range {v39 .. v39}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-ne v2, v4, :cond_9

    const/16 v31, 0x1

    .line 4065
    .local v31, matchEmail:Z
    :goto_3
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForIm()J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v33

    .line 4066
    .local v33, mimeTypeIdIm:Ljava/lang/String;
    if-eqz v31, :cond_a

    .line 4067
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v32

    .line 4075
    .local v32, mimeTypeIdEmail:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, "mimetype_id IN (?,?) AND data1=? AND ((mimetype_id=? AND data5=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4078
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v32

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4079
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v33

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4080
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v27

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4081
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v33

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4082
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v39 .. v39}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4083
    if-eqz v24, :cond_7

    .line 4084
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, " AND data6=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4085
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v24

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4087
    :cond_7
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, ") OR (mimetype_id=?))"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4088
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v32

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4102
    .end local v32           #mimeTypeIdEmail:Ljava/lang/String;
    :cond_8
    :goto_4
    const-string v2, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 4103
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, " AND data._id=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4104
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    const-string v4, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_0

    .line 4063
    .end local v31           #matchEmail:Z
    .end local v33           #mimeTypeIdIm:Ljava/lang/String;
    :cond_9
    const/16 v31, 0x0

    goto/16 :goto_3

    .line 4090
    .restart local v31       #matchEmail:Z
    .restart local v33       #mimeTypeIdIm:Ljava/lang/String;
    :cond_a
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, "mimetype_id=? AND data5=? AND data1=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4093
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v33

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4094
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v39 .. v39}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4095
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v27

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4096
    if-eqz v24, :cond_8

    .line 4097
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v4, " AND data6=?"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4098
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v24

    invoke-virtual {v2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_4

    .line 4135
    .end local v31           #matchEmail:Z
    .end local v33           #mimeTypeIdIm:Ljava/lang/String;
    .restart local v23       #cursor:Landroid/database/Cursor;
    .restart local v28       #hasSkypeVideoData:Z
    .restart local v45       #videoCheckCursor:Landroid/database/Cursor;
    :catchall_0
    move-exception v2

    if-eqz v45, :cond_b

    .line 4136
    :try_start_3
    invoke-interface/range {v45 .. v45}, Landroid/database/Cursor;->close()V

    :cond_b
    throw v2
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 4148
    .end local v45           #videoCheckCursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v2

    move-object/from16 v3, v25

    .end local v25           #dataId:Ljava/lang/Long;
    .restart local v3       #dataId:Ljava/lang/Long;
    if-eqz v23, :cond_c

    .line 4149
    invoke-interface/range {v23 .. v23}, Landroid/database/Cursor;->close()V

    :cond_c
    throw v2

    .line 4159
    :cond_d
    if-nez v24, :cond_e

    .line 4162
    const-string v24, ""

    .line 4165
    :cond_e
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->clear()V

    .line 4166
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "presence_data_id"

    invoke-virtual {v2, v4, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4167
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "presence_raw_contact_id"

    invoke-static/range {v40 .. v41}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4168
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "presence_contact_id"

    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4169
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "protocol"

    move-object/from16 v0, v39

    invoke-virtual {v2, v4, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4170
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "custom_protocol"

    move-object/from16 v0, v24

    invoke-virtual {v2, v4, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4171
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "im_handle"

    move-object/from16 v0, v27

    invoke-virtual {v2, v4, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4172
    const-string v2, "im_account"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_f

    .line 4173
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "im_account"

    const-string v5, "im_account"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4176
    :cond_f
    const-string v2, "mode"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v38

    .line 4177
    .local v38, presenceStr:Ljava/lang/String;
    const/16 v37, -0x1

    .line 4179
    .local v37, presence:I
    :try_start_4
    invoke-static/range {v38 .. v38}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v37

    .line 4180
    invoke-virtual/range {v39 .. v39}, Ljava/lang/Integer;->intValue()I
    :try_end_4
    .catch Ljava/lang/NumberFormatException; {:try_start_4 .. :try_end_4} :catch_0

    move-result v2

    const/4 v4, 0x3

    if-ne v2, v4, :cond_10

    .line 4181
    const/4 v2, 0x1

    move/from16 v0, v28

    if-ne v0, v2, :cond_17

    .line 4182
    if-lez v37, :cond_10

    const/4 v2, 0x5

    move/from16 v0, v37

    if-gt v0, v2, :cond_10

    .line 4183
    add-int/lit8 v37, v37, 0x5

    .line 4200
    :cond_10
    :goto_5
    const/4 v2, -0x1

    move/from16 v0, v37

    if-ne v2, v0, :cond_18

    .line 4201
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "mode"

    const-string v5, "mode"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4209
    :goto_6
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "chat_capability"

    const-string v5, "chat_capability"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4213
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v4, "presence"

    const/4 v5, 0x0

    move-object/from16 v0, p0

    iget-object v10, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2, v4, v5, v10}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    .line 4218
    .end local v37           #presence:I
    .end local v38           #presenceStr:Ljava/lang/String;
    :cond_11
    const-string v2, "status"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_15

    if-eqz v3, :cond_15

    .line 4219
    const-string v2, "status"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    .line 4220
    .local v6, status:Ljava/lang/String;
    const-string v2, "status_res_package"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 4221
    .local v7, resPackage:Ljava/lang/String;
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v42

    .line 4222
    .local v42, resources:Landroid/content/res/Resources;
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_12

    .line 4223
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;

    move-result-object v36

    .line 4225
    .local v36, pm:Landroid/content/pm/PackageManager;
    :try_start_5
    move-object/from16 v0, v36

    invoke-virtual {v0, v7}, Landroid/content/pm/PackageManager;->getResourcesForApplication(Ljava/lang/String;)Landroid/content/res/Resources;
    :try_end_5
    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_5 .. :try_end_5} :catch_1

    move-result-object v42

    .line 4231
    .end local v36           #pm:Landroid/content/pm/PackageManager;
    :cond_12
    :goto_7
    const-string v2, "status_label"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v9

    .line 4233
    .local v9, labelResourceId:Ljava/lang/Integer;
    if-eqz v9, :cond_13

    invoke-virtual {v9}, Ljava/lang/Integer;->intValue()I

    move-result v2

    if-nez v2, :cond_14

    :cond_13
    if-eqz v39, :cond_14

    .line 4234
    invoke-virtual/range {v39 .. v39}, Ljava/lang/Integer;->intValue()I

    move-result v2

    invoke-static {v2}, Landroid/provider/ContactsContract$CommonDataKinds$Im;->getProtocolLabelResource(I)I

    move-result v2

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v9

    .line 4236
    :cond_14
    const-string v2, "string"

    move-object/from16 v0, p0

    move-object/from16 v1, v42

    invoke-direct {v0, v1, v2, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;

    move-result-object v30

    .line 4238
    .local v30, labelResource:Ljava/lang/String;
    const-string v2, "status_icon"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v8

    .line 4241
    .local v8, iconResourceId:Ljava/lang/Integer;
    const-string v2, "drawable"

    move-object/from16 v0, p0

    move-object/from16 v1, v42

    invoke-direct {v0, v1, v2, v8}, Lcom/android/providers/contacts/ContactsProvider2;->getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;

    move-result-object v29

    .line 4243
    .local v29, iconResource:Ljava/lang/String;
    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_19

    .line 4244
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    invoke-virtual {v2, v4, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->deleteStatusUpdate(J)V

    .line 4303
    .end local v6           #status:Ljava/lang/String;
    .end local v7           #resPackage:Ljava/lang/String;
    .end local v8           #iconResourceId:Ljava/lang/Integer;
    .end local v9           #labelResourceId:Ljava/lang/Integer;
    .end local v29           #iconResource:Ljava/lang/String;
    .end local v30           #labelResource:Ljava/lang/String;
    .end local v42           #resources:Landroid/content/res/Resources;
    :cond_15
    :goto_8
    const-wide/16 v4, -0x1

    cmp-long v2, v21, v4

    if-eqz v2, :cond_16

    .line 4304
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactAggregator;

    move-wide/from16 v0, v21

    invoke-virtual {v2, v0, v1}, Lcom/android/providers/contacts/ContactAggregator;->updateLastStatusUpdateId(J)V

    .line 4308
    :cond_16
    if-eqz v3, :cond_1e

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    goto/16 :goto_2

    .line 4187
    .restart local v37       #presence:I
    .restart local v38       #presenceStr:Ljava/lang/String;
    :cond_17
    const/4 v2, 0x5

    move/from16 v0, v37

    if-le v0, v2, :cond_10

    const/16 v2, 0xa

    move/from16 v0, v37

    if-gt v0, v2, :cond_10

    .line 4188
    add-int/lit8 v37, v37, -0x5

    goto/16 :goto_5

    .line 4197
    :catch_0
    move-exception v26

    .line 4198
    .local v26, e:Ljava/lang/NumberFormatException;
    const-string v2, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Presence value formation incorrect, presence \'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v38

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_5

    .line 4205
    .end local v26           #e:Ljava/lang/NumberFormatException;
    :cond_18
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "mode"

    invoke-static/range {v37 .. v37}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v2, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    goto/16 :goto_6

    .line 4226
    .end local v37           #presence:I
    .end local v38           #presenceStr:Ljava/lang/String;
    .restart local v6       #status:Ljava/lang/String;
    .restart local v7       #resPackage:Ljava/lang/String;
    .restart local v36       #pm:Landroid/content/pm/PackageManager;
    .restart local v42       #resources:Landroid/content/res/Resources;
    :catch_1
    move-exception v26

    .line 4227
    .local v26, e:Landroid/content/pm/PackageManager$NameNotFoundException;
    const-string v2, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Contact status update resource package not found: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_7

    .line 4246
    .end local v26           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
    .end local v36           #pm:Landroid/content/pm/PackageManager;
    .restart local v8       #iconResourceId:Ljava/lang/Integer;
    .restart local v9       #labelResourceId:Ljava/lang/Integer;
    .restart local v29       #iconResource:Ljava/lang/String;
    .restart local v30       #labelResource:Ljava/lang/String;
    :cond_19
    const-string v2, "status_ts"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v44

    .line 4247
    .local v44, timestamp:Ljava/lang/Long;
    if-eqz v44, :cond_1b

    .line 4248
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual/range {v44 .. v44}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    invoke-virtual/range {v2 .. v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->replaceStatusUpdate(Ljava/lang/Long;JLjava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/Integer;)V

    .line 4259
    :goto_9
    const-wide/16 v4, -0x1

    cmp-long v2, v40, v4

    if-eqz v2, :cond_15

    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_15

    .line 4260
    new-instance v43, Landroid/content/ContentValues;

    invoke-direct/range {v43 .. v43}, Landroid/content/ContentValues;-><init>()V

    .line 4261
    .local v43, streamItemValues:Landroid/content/ContentValues;
    const-string v2, "raw_contact_id"

    invoke-static/range {v40 .. v41}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v43

    invoke-virtual {v0, v2, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4263
    const-string v2, "text"

    move-object/from16 v0, p0

    invoke-direct {v0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->statusUpdateToHtml(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v43

    invoke-virtual {v0, v2, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4264
    const-string v2, "comments"

    const-string v4, ""

    move-object/from16 v0, v43

    invoke-virtual {v0, v2, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4265
    const-string v2, "res_package"

    move-object/from16 v0, v43

    invoke-virtual {v0, v2, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4266
    const-string v2, "icon"

    move-object/from16 v0, v43

    move-object/from16 v1, v29

    invoke-virtual {v0, v2, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4267
    const-string v2, "label"

    move-object/from16 v0, v43

    move-object/from16 v1, v30

    invoke-virtual {v0, v2, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4268
    const-string v2, "timestamp"

    if-nez v44, :cond_1c

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    :goto_a
    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v43

    invoke-virtual {v0, v2, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4277
    if-eqz v18, :cond_1a

    if-eqz v19, :cond_1a

    .line 4278
    const-string v2, "account_name"

    move-object/from16 v0, v43

    move-object/from16 v1, v18

    invoke-virtual {v0, v2, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4279
    const-string v2, "account_type"

    move-object/from16 v0, v43

    move-object/from16 v1, v19

    invoke-virtual {v0, v2, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 4283
    :cond_1a
    sget-object v11, Landroid/provider/ContactsContract$StreamItems;->CONTENT_URI:Landroid/net/Uri;

    .line 4284
    .local v11, streamUri:Landroid/net/Uri;
    const/4 v2, 0x1

    new-array v12, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v4, "_id"

    aput-object v4, v12, v2

    const-string v13, "raw_contact_id=?"

    const/4 v2, 0x1

    new-array v14, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static/range {v40 .. v41}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v14, v2

    const/4 v15, 0x0

    const-wide/16 v16, -0x1

    move-object/from16 v10, p0

    invoke-virtual/range {v10 .. v17}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v20

    .line 4289
    .local v20, c:Landroid/database/Cursor;
    :try_start_6
    invoke-interface/range {v20 .. v20}, Landroid/database/Cursor;->getCount()I

    move-result v2

    if-lez v2, :cond_1d

    .line 4290
    invoke-interface/range {v20 .. v20}, Landroid/database/Cursor;->moveToFirst()Z

    .line 4291
    const/4 v2, 0x0

    move-object/from16 v0, v20

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v4

    invoke-static {v11, v4, v5}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v2

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v43

    invoke-virtual {v0, v2, v1, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_2

    .line 4297
    :goto_b
    invoke-interface/range {v20 .. v20}, Landroid/database/Cursor;->close()V

    goto/16 :goto_8

    .line 4251
    .end local v11           #streamUri:Landroid/net/Uri;
    .end local v20           #c:Landroid/database/Cursor;
    .end local v43           #streamItemValues:Landroid/content/ContentValues;
    :cond_1b
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object v5, v3

    invoke-virtual/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->insertStatusUpdate(Ljava/lang/Long;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/Integer;)V

    goto/16 :goto_9

    .line 4268
    .restart local v43       #streamItemValues:Landroid/content/ContentValues;
    :cond_1c
    invoke-virtual/range {v44 .. v44}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    goto :goto_a

    .line 4294
    .restart local v11       #streamUri:Landroid/net/Uri;
    .restart local v20       #c:Landroid/database/Cursor;
    :cond_1d
    :try_start_7
    move-object/from16 v0, p0

    move-object/from16 v1, v43

    invoke-virtual {v0, v11, v1}, Lcom/android/providers/contacts/ContactsProvider2;->insertInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_2

    goto :goto_b

    .line 4297
    :catchall_2
    move-exception v2

    invoke-interface/range {v20 .. v20}, Landroid/database/Cursor;->close()V

    throw v2

    .line 4308
    .end local v6           #status:Ljava/lang/String;
    .end local v7           #resPackage:Ljava/lang/String;
    .end local v8           #iconResourceId:Ljava/lang/Integer;
    .end local v9           #labelResourceId:Ljava/lang/Integer;
    .end local v11           #streamUri:Landroid/net/Uri;
    .end local v20           #c:Landroid/database/Cursor;
    .end local v29           #iconResource:Ljava/lang/String;
    .end local v30           #labelResource:Ljava/lang/String;
    .end local v42           #resources:Landroid/content/res/Resources;
    .end local v43           #streamItemValues:Landroid/content/ContentValues;
    .end local v44           #timestamp:Ljava/lang/Long;
    :cond_1e
    const-wide/16 v4, 0x0

    goto/16 :goto_2

    .end local v3           #dataId:Ljava/lang/Long;
    .restart local v25       #dataId:Ljava/lang/Long;
    :cond_1f
    move-object/from16 v3, v25

    .end local v25           #dataId:Ljava/lang/Long;
    .restart local v3       #dataId:Ljava/lang/Long;
    goto/16 :goto_1
.end method

.method protected isAggregationUpgradeNeeded()Z
    .locals 5

    .prologue
    const/4 v1, 0x0

    .line 10365
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactAggregator;->isEnabled()Z

    move-result v2

    if-nez v2, :cond_1

    .line 10371
    :cond_0
    :goto_0
    return v1

    .line 10369
    :cond_1
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "aggregation_v2"

    const-string v4, "1"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getProperty(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v0

    .line 10371
    .local v0, version:I
    const/4 v2, 0x2

    if-ge v0, v2, :cond_0

    const/4 v1, 0x1

    goto :goto_0
.end method

.method protected isContactsAccount(Landroid/accounts/Account;)Z
    .locals 6
    .parameter "account"

    .prologue
    const/4 v2, 0x0

    .line 6461
    invoke-static {}, Landroid/content/ContentResolver;->getContentService()Landroid/content/IContentService;

    move-result-object v0

    .line 6463
    .local v0, cs:Landroid/content/IContentService;
    :try_start_0
    const-string v3, "com.android.contacts"

    invoke-interface {v0, p1, v3}, Landroid/content/IContentService;->getIsSyncable(Landroid/accounts/Account;Ljava/lang/String;)I
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v3

    if-lez v3, :cond_0

    const/4 v2, 0x1

    .line 6466
    :cond_0
    :goto_0
    return v2

    .line 6464
    :catch_0
    move-exception v1

    .line 6465
    .local v1, e:Landroid/os/RemoteException;
    const-string v3, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Cannot obtain sync flag for account: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto :goto_0
.end method

.method protected isCreateReady()Z
    .locals 1

    .prologue
    .line 10197
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsCreateReady:Z

    return v0
.end method

.method protected isImmediateDeleteContact(Ljava/lang/String;Z)Z
    .locals 1
    .parameter "accountType"
    .parameter "isSyncFromAdapter"

    .prologue
    .line 10127
    if-eqz p2, :cond_0

    .line 10128
    const/4 v0, 0x1

    .line 10130
    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method protected isLegacyContactImportNeeded()Z
    .locals 5

    .prologue
    const/4 v1, 0x1

    .line 2357
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "contacts_imported_v1"

    const-string v4, "0"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getProperty(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v0

    .line 2359
    .local v0, version:I
    if-ge v0, v1, :cond_0

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method isParentSyncToNetwork()Z
    .locals 1

    .prologue
    .line 2930
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTestSyncToNetwork:Z

    return v0
.end method

.method isPhone()Z
    .locals 2

    .prologue
    .line 10445
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->sIsPhoneInitialized:Z

    if-nez v0, :cond_0

    .line 10446
    new-instance v0, Landroid/telephony/TelephonyManager;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V

    invoke-virtual {v0}, Landroid/telephony/TelephonyManager;->isVoiceCapable()Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->sIsPhone:Z

    .line 10447
    const/4 v0, 0x1

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->sIsPhoneInitialized:Z

    .line 10449
    :cond_0
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->sIsPhone:Z

    return v0
.end method

.method public isPhoneNumber(Ljava/lang/String;)Z
    .locals 5
    .parameter "filter"

    .prologue
    .line 9734
    const/4 v0, 0x0

    .line 9735
    .local v0, atLeastOneDigit:Z
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v3

    .line 9736
    .local v3, len:I
    const/4 v2, 0x0

    .local v2, i:I
    :goto_0
    if-ge v2, v3, :cond_2

    .line 9737
    invoke-virtual {p1, v2}, Ljava/lang/String;->charAt(I)C

    move-result v1

    .line 9738
    .local v1, c:C
    const/16 v4, 0x30

    if-lt v1, v4, :cond_1

    const/16 v4, 0x39

    if-gt v1, v4, :cond_1

    .line 9739
    const/4 v0, 0x1

    .line 9736
    :cond_0
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 9740
    :cond_1
    const/16 v4, 0x2a

    if-eq v1, v4, :cond_0

    const/16 v4, 0x23

    if-eq v1, v4, :cond_0

    const/16 v4, 0x2b

    if-eq v1, v4, :cond_0

    const/16 v4, 0x4e

    if-eq v1, v4, :cond_0

    const/16 v4, 0x2e

    if-eq v1, v4, :cond_0

    const/16 v4, 0x3b

    if-eq v1, v4, :cond_0

    const/16 v4, 0x2d

    if-eq v1, v4, :cond_0

    const/16 v4, 0x28

    if-eq v1, v4, :cond_0

    const/16 v4, 0x29

    if-eq v1, v4, :cond_0

    const/16 v4, 0x20

    if-eq v1, v4, :cond_0

    .line 9742
    const/4 v0, 0x0

    .line 9745
    .end local v0           #atLeastOneDigit:Z
    .end local v1           #c:C
    :cond_2
    return v0
.end method

.method isPhoneNumberExlcudeAlphabeta(Ljava/lang/CharSequence;)Z
    .locals 4
    .parameter "cons"

    .prologue
    .line 10215
    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v2

    .line 10217
    .local v2, len:I
    const/4 v1, 0x0

    .local v1, i:I
    :goto_0
    if-ge v1, v2, :cond_2

    .line 10218
    invoke-interface {p1, v1}, Ljava/lang/CharSequence;->charAt(I)C

    move-result v0

    .line 10225
    .local v0, c:C
    const/16 v3, 0x30

    if-lt v0, v3, :cond_1

    const/16 v3, 0x39

    if-gt v0, v3, :cond_1

    .line 10217
    :cond_0
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 10229
    :cond_1
    const/16 v3, 0x20

    if-eq v0, v3, :cond_0

    const/16 v3, 0x2d

    if-eq v0, v3, :cond_0

    const/16 v3, 0x28

    if-eq v0, v3, :cond_0

    const/16 v3, 0x29

    if-eq v0, v3, :cond_0

    const/16 v3, 0x2e

    if-eq v0, v3, :cond_0

    const/16 v3, 0x2b

    if-eq v0, v3, :cond_0

    const/16 v3, 0x23

    if-eq v0, v3, :cond_0

    const/16 v3, 0x2a

    if-eq v0, v3, :cond_0

    .line 10242
    const/4 v3, 0x0

    .line 10245
    .end local v0           #c:C
    :goto_1
    return v3

    :cond_2
    const/4 v3, 0x1

    goto :goto_1
.end method

.method public isReadyOnlyAccountType(Ljava/lang/String;)Z
    .locals 1
    .parameter "type"

    .prologue
    .line 10306
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadOnlyAccoutTypes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->contains(Ljava/lang/Object;)Z

    move-result v0

    return v0
.end method

.method protected isSingleWordQuery(Ljava/lang/String;)Z
    .locals 2
    .parameter "query"

    .prologue
    const/4 v0, 0x1

    .line 10593
    const-string v1, "[^\\w@]+"

    invoke-virtual {p1, v1}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v1

    array-length v1, v1

    if-ne v1, v0, :cond_0

    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method public isValidPreAuthorizedUri(Landroid/net/Uri;)Z
    .locals 8
    .parameter "uri"

    .prologue
    .line 2669
    const-string v6, "perm_token"

    invoke-virtual {p1, v6}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    if-eqz v6, :cond_3

    .line 2671
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    .line 2672
    .local v3, now:J
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v1

    .line 2673
    .local v1, expiredUris:Ljava/util/Set;,"Ljava/util/Set<Landroid/net/Uri;>;"
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6}, Ljava/util/Map;->keySet()Ljava/util/Set;

    move-result-object v6

    invoke-interface {v6}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v2

    .local v2, i$:Ljava/util/Iterator;
    :cond_0
    :goto_0
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z

    move-result v6

    if-eqz v6, :cond_1

    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/net/Uri;

    .line 2674
    .local v5, preAuthUri:Landroid/net/Uri;
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, v5}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/Long;

    invoke-virtual {v6}, Ljava/lang/Long;->longValue()J

    move-result-wide v6

    cmp-long v6, v6, v3

    if-gez v6, :cond_0

    .line 2675
    invoke-interface {v1, v5}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 2678
    .end local v5           #preAuthUri:Landroid/net/Uri;
    :cond_1
    invoke-interface {v1}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v2

    :goto_1
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z

    move-result v6

    if-eqz v6, :cond_2

    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/net/Uri;

    .line 2679
    .local v0, expiredUri:Landroid/net/Uri;
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, v0}, Ljava/util/Map;->remove(Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_1

    .line 2683
    .end local v0           #expiredUri:Landroid/net/Uri;
    :cond_2
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, p1}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v6

    if-eqz v6, :cond_3

    .line 2685
    const/4 v6, 0x1

    .line 2688
    .end local v1           #expiredUris:Ljava/util/Set;,"Ljava/util/Set<Landroid/net/Uri;>;"
    .end local v2           #i$:Ljava/util/Iterator;
    .end local v3           #now:J
    :goto_2
    return v6

    :cond_3
    const/4 v6, 0x0

    goto :goto_2
.end method

.method protected isWritableAccountWithDataSet(Ljava/lang/String;)Z
    .locals 11
    .parameter "accountTypeAndDataSet"

    .prologue
    const/4 v7, 0x1

    .line 9839
    if-nez p1, :cond_0

    .line 9880
    :goto_0
    return v7

    .line 9844
    :cond_0
    const-string v8, "com.htc.android.pcsc"

    invoke-virtual {p1, v8}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_1

    .line 9845
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    const-string v9, "com.htc.android.pcsc"

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v10

    invoke-virtual {v8, v9, v10}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_0

    .line 9849
    :cond_1
    const-string v8, "com.anddroid.contacts.sim"

    invoke-virtual {p1, v8}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_2

    .line 9850
    iget-object v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    const-string v9, "com.anddroid.contacts.sim"

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v10

    invoke-virtual {v8, v9, v10}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_0

    .line 9855
    :cond_2
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    invoke-virtual {v7, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/Boolean;

    .line 9856
    .local v6, writable:Ljava/lang/Boolean;
    if-eqz v6, :cond_3

    .line 9857
    invoke-virtual {v6}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v7

    goto :goto_0

    .line 9860
    :cond_3
    invoke-static {}, Landroid/content/ContentResolver;->getContentService()Landroid/content/IContentService;

    move-result-object v1

    .line 9863
    .local v1, contentService:Landroid/content/IContentService;
    :try_start_0
    invoke-interface {v1}, Landroid/content/IContentService;->getSyncAdapterTypes()[Landroid/content/SyncAdapterType;

    move-result-object v0

    .local v0, arr$:[Landroid/content/SyncAdapterType;
    array-length v4, v0

    .local v4, len$:I
    const/4 v3, 0x0

    .local v3, i$:I
    :goto_1
    if-ge v3, v4, :cond_4

    aget-object v5, v0, v3

    .line 9864
    .local v5, sync:Landroid/content/SyncAdapterType;
    const-string v7, "com.android.contacts"

    iget-object v8, v5, Landroid/content/SyncAdapterType;->authority:Ljava/lang/String;

    invoke-virtual {v7, v8}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v7

    if-eqz v7, :cond_6

    iget-object v7, v5, Landroid/content/SyncAdapterType;->accountType:Ljava/lang/String;

    invoke-virtual {p1, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v7

    if-eqz v7, :cond_6

    .line 9866
    invoke-virtual {v5}, Landroid/content/SyncAdapterType;->supportsUploading()Z

    move-result v7

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v6

    .line 9874
    .end local v0           #arr$:[Landroid/content/SyncAdapterType;
    .end local v3           #i$:I
    .end local v4           #len$:I
    .end local v5           #sync:Landroid/content/SyncAdapterType;
    :cond_4
    :goto_2
    if-nez v6, :cond_5

    .line 9875
    const/4 v7, 0x0

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v6

    .line 9878
    :cond_5
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    invoke-virtual {v7, p1, v6}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9880
    invoke-virtual {v6}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v7

    goto :goto_0

    .line 9863
    .restart local v0       #arr$:[Landroid/content/SyncAdapterType;
    .restart local v3       #i$:I
    .restart local v4       #len$:I
    .restart local v5       #sync:Landroid/content/SyncAdapterType;
    :cond_6
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 9870
    .end local v0           #arr$:[Landroid/content/SyncAdapterType;
    .end local v3           #i$:I
    .end local v4           #len$:I
    .end local v5           #sync:Landroid/content/SyncAdapterType;
    :catch_0
    move-exception v2

    .line 9871
    .local v2, e:Landroid/os/RemoteException;
    const-string v7, "ContactsProvider"

    const-string v8, "Could not acquire sync adapter types"

    invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2
.end method

.method public lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J
    .locals 10
    .parameter "db"
    .parameter "lookupKey"

    .prologue
    const-wide/16 v8, -0x1

    .line 8010
    new-instance v5, Lcom/android/providers/contacts/ContactLookupKey;

    invoke-direct {v5}, Lcom/android/providers/contacts/ContactLookupKey;-><init>()V

    .line 8011
    .local v5, key:Lcom/android/providers/contacts/ContactLookupKey;
    invoke-virtual {v5, p2}, Lcom/android/providers/contacts/ContactLookupKey;->parse(Ljava/lang/String;)Ljava/util/ArrayList;

    move-result-object v6

    .line 8013
    .local v6, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    const-wide/16 v0, -0x1

    .line 8014
    .local v0, contactId:J
    const/4 v7, 0x3

    invoke-virtual {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 8016
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupSingleContactId(Landroid/database/sqlite/SQLiteDatabase;)J

    move-result-wide v0

    .line 8019
    :cond_0
    const/4 v7, 0x0

    invoke-virtual {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_1

    .line 8020
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdBySourceIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    .line 8021
    cmp-long v7, v0, v8

    if-eqz v7, :cond_1

    move-wide v2, v0

    .line 8040
    .end local v0           #contactId:J
    .local v2, contactId:J
    :goto_0
    return-wide v2

    .line 8026
    .end local v2           #contactId:J
    .restart local v0       #contactId:J
    :cond_1
    const/4 v7, 0x2

    invoke-virtual {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v4

    .line 8028
    .local v4, hasRawContactIds:Z
    if-eqz v4, :cond_2

    .line 8029
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByRawContactIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    .line 8030
    cmp-long v7, v0, v8

    if-eqz v7, :cond_2

    move-wide v2, v0

    .line 8031
    .end local v0           #contactId:J
    .restart local v2       #contactId:J
    goto :goto_0

    .line 8035
    .end local v2           #contactId:J
    .restart local v0       #contactId:J
    :cond_2
    if-nez v4, :cond_3

    const/4 v7, 0x1

    invoke-virtual {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_4

    .line 8037
    :cond_3
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByDisplayNames(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    :cond_4
    move-wide v2, v0

    .line 8040
    .end local v0           #contactId:J
    .restart local v2       #contactId:J
    goto :goto_0
.end method

.method protected lookupKeyContainsType(Ljava/util/ArrayList;I)Z
    .locals 3
    .parameter
    .parameter "lookupType"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;I)Z"
        }
    .end annotation

    .prologue
    .line 8232
    .local p1, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    const/4 v0, 0x0

    .local v0, i:I
    :goto_0
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v0, v2, :cond_1

    .line 8233
    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 8234
    .local v1, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    iget v2, v1, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-ne v2, p2, :cond_0

    .line 8235
    const/4 v2, 0x1

    .line 8239
    .end local v1           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :goto_1
    return v2

    .line 8232
    .restart local v1       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_0
    add-int/lit8 v0, v0, 0x1

    goto :goto_0

    .line 8239
    .end local v1           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    const/4 v2, 0x0

    goto :goto_1
.end method

.method protected mapsToProfileDb(Landroid/net/Uri;)Z
    .locals 1
    .parameter "uri"

    .prologue
    .line 2493
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->mapsToProfile(Landroid/net/Uri;)Z

    move-result v0

    return v0
.end method

.method protected markRawContactAsDeleted(JZ)I
    .locals 5
    .parameter "rawContactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v4, 0x1

    .line 4883
    iput-boolean v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4885
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1}, Landroid/content/ContentValues;->clear()V

    .line 4886
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "deleted"

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4887
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "aggregation_mode"

    const/4 v3, 0x3

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4888
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "aggregation_needed"

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4889
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 4890
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "dirty"

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4893
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-direct {p0, p1, p2, v1, p3}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContact(JLandroid/content/ContentValues;Z)I

    move-result v0

    .line 4894
    .local v0, deletedCount:I
    if-lez v0, :cond_0

    .line 4895
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, p1, p2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateCallLogByRawContactIdDeleted(J)V

    .line 4898
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    invoke-virtual {v1}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyCallLog()V

    .line 4900
    :cond_0
    return v0
.end method

.method public matrixCursorFromCursor(Landroid/database/Cursor;)Landroid/database/MatrixCursor;
    .locals 5
    .parameter "cursor"

    .prologue
    .line 6638
    new-instance v2, Landroid/database/MatrixCursor;

    invoke-interface {p1}, Landroid/database/Cursor;->getColumnNames()[Ljava/lang/String;

    move-result-object v4

    invoke-direct {v2, v4}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 6639
    .local v2, newCursor:Landroid/database/MatrixCursor;
    invoke-interface {p1}, Landroid/database/Cursor;->getColumnCount()I

    move-result v3

    .line 6640
    .local v3, numColumns:I
    new-array v0, v3, [Ljava/lang/String;

    .line 6641
    .local v0, data:[Ljava/lang/String;
    const/4 v4, -0x1

    invoke-interface {p1, v4}, Landroid/database/Cursor;->moveToPosition(I)Z

    .line 6642
    :goto_0
    invoke-interface {p1}, Landroid/database/Cursor;->moveToNext()Z

    move-result v4

    if-eqz v4, :cond_1

    .line 6643
    const/4 v1, 0x0

    .local v1, i:I
    :goto_1
    if-ge v1, v3, :cond_0

    .line 6644
    invoke-interface {p1, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v0, v1

    .line 6643
    add-int/lit8 v1, v1, 0x1

    goto :goto_1

    .line 6646
    :cond_0
    invoke-virtual {v2, v0}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    goto :goto_0

    .line 6648
    .end local v1           #i:I
    :cond_1
    return-object v2
.end method

.method protected notifyChange()V
    .locals 1

    .prologue
    .line 2923
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->notifyChange(Z)V

    .line 2924
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 2925
    return-void
.end method

.method protected notifyChange(Z)V
    .locals 3
    .parameter "syncToNetwork"

    .prologue
    .line 2934
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2, p1}, Landroid/content/ContentResolver;->notifyChange(Landroid/net/Uri;Landroid/database/ContentObserver;Z)V

    .line 2938
    iput-boolean p1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTestSyncToNetwork:Z

    .line 2940
    return-void
.end method

.method public onAccountsUpdated([Landroid/accounts/Account;)V
    .locals 1
    .parameter "accounts"

    .prologue
    .line 5893
    const/4 v0, 0x3

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 5894
    return-void
.end method

.method public onBegin()V
    .locals 2

    .prologue
    .line 2724
    sget-boolean v0, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v0, :cond_0

    .line 2725
    const-string v0, "ContactsProvider"

    const-string v1, "onBeginTransaction"

    invoke-static {v0, v1}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2727
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 2728
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactAggregator;->clearPendingAggregations()V

    .line 2729
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0}, Lcom/android/providers/contacts/TransactionContext;->clear()V

    .line 2734
    :goto_0
    return-void

    .line 2731
    :cond_1
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactAggregator;->clearPendingAggregations()V

    .line 2732
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0}, Lcom/android/providers/contacts/TransactionContext;->clear()V

    goto :goto_0
.end method

.method public onCommit()V
    .locals 8

    .prologue
    const/4 v7, 0x0

    .line 2739
    sget-boolean v4, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v4, :cond_0

    .line 2740
    const-string v4, "ContactsProvider"

    const-string v5, "beforeTransactionCommit"

    invoke-static {v4, v5}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2742
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 2744
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/TransactionContext;

    .line 2745
    .local v3, transactionContext:Lcom/android/providers/contacts/TransactionContext;
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactAggregator;

    .line 2746
    .local v0, aggregator:Lcom/android/providers/contacts/ContactAggregator;
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    .line 2747
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v3, :cond_1

    if-eqz v0, :cond_1

    if-nez v1, :cond_3

    .line 2749
    :cond_1
    :try_start_0
    new-instance v4, Ljava/lang/RuntimeException;

    const-string v5, "The operation list could be null"

    invoke-direct {v4, v5}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
    :try_end_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 2792
    :cond_2
    :goto_0
    return-void

    .line 2750
    :catch_0
    move-exception v2

    .line 2751
    .local v2, e:Ljava/lang/RuntimeException;
    const-string v4, "ContactsProvider"

    const-string v5, ""

    invoke-static {v4, v5, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto :goto_0

    .line 2756
    .end local v2           #e:Ljava/lang/RuntimeException;
    :cond_3
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/TransactionContext;

    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v4, v5, v6}, Lcom/android/providers/contacts/ContactAggregator;->aggregateInTransaction(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;)V

    .line 2758
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactAggregator;->checkSocialNetworkLargePhoto()V

    .line 2759
    const-wide/16 v4, 0x0

    sput-wide v4, Lcom/android/providers/contacts/ContactsProvider2;->LinkMethod:J

    .line 2760
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactAggregator;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    invoke-virtual {v4, v5}, Lcom/android/providers/contacts/ContactAggregator;->HtcEndAggregateInTransaction(Lcom/android/providers/contacts/NotifyDialerScheduler;)V

    .line 2762
    iget-boolean v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    if-eqz v4, :cond_4

    .line 2763
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 2764
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateAllVisible()V

    .line 2769
    :cond_4
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->tryUpdateSearchIndexInTransaction()V

    .line 2771
    iget-boolean v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    if-eqz v4, :cond_2

    .line 2787
    const/4 v4, 0x7

    invoke-virtual {p0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 2790
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    goto :goto_0
.end method

.method public onCreate()Z
    .locals 4

    .prologue
    const/4 v3, 0x3

    .line 1729
    const-string v1, "ContactsPerf"

    invoke-static {v1, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 1730
    const-string v1, "ContactsPerf"

    const-string v2, "ContactsProvider2.onCreate start"

    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 1732
    :cond_0
    invoke-super {p0}, Lcom/android/providers/contacts/AbstractContactsProvider;->onCreate()Z

    .line 1734
    :try_start_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initialize()Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v1

    .line 1739
    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1740
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    :cond_1
    :goto_0
    return v1

    .line 1735
    :catch_0
    move-exception v0

    .line 1736
    .local v0, e:Ljava/lang/RuntimeException;
    :try_start_1
    const-string v1, "ContactsProvider"

    const-string v2, "Cannot start provider"

    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 1737
    const/4 v1, 0x0

    .line 1739
    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1740
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 1739
    .end local v0           #e:Ljava/lang/RuntimeException;
    :catchall_0
    move-exception v1

    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_2

    .line 1740
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    :cond_2
    throw v1
.end method

.method public onLocaleChanged()V
    .locals 2

    .prologue
    .line 2115
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eqz v0, :cond_0

    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    const/4 v1, 0x4

    if-eq v0, v1, :cond_0

    .line 2121
    :goto_0
    return-void

    .line 2120
    :cond_0
    const/16 v0, 0x9

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    goto :goto_0
.end method

.method public onPackageChanged(Ljava/lang/String;)V
    .locals 1
    .parameter "packageName"

    .prologue
    .line 6471
    const/16 v0, 0x8

    invoke-virtual {p0, v0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(ILjava/lang/Object;)V

    .line 6472
    return-void
.end method

.method public onRollback()V
    .locals 2

    .prologue
    .line 2796
    const-string v0, "ContactsProvider"

    const-string v1, "on Roll Back !!"

    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 2797
    return-void
.end method

.method public openAssetFile(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 1
    .parameter "uri"
    .parameter "mode"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 8855
    const-string v0, "r"

    invoke-virtual {p2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8856
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 8860
    :goto_0
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 8861
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 8862
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v0, p1, p2}, Lcom/android/providers/contacts/ProfileProvider;->openAssetFile(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v0

    .line 8865
    :goto_1
    return-object v0

    .line 8858
    :cond_0
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    goto :goto_0

    .line 8864
    :cond_1
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 8865
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->openAssetFileLocal(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v0

    goto :goto_1
.end method

.method public openAssetFileLocal(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 48
    .parameter "uri"
    .parameter "mode"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 8873
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    if-nez v4, :cond_0

    .line 8874
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_1

    .line 8875
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v7

    invoke-virtual {v4, v7}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 8881
    :cond_0
    :goto_0
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v36

    .line 8882
    .local v36, match:I
    sparse-switch v36, :sswitch_data_0

    .line 9100
    new-instance v7, Ljava/io/FileNotFoundException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "File does not exist"

    move-object/from16 v0, p1

    invoke-virtual {v4, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v7, v4}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 8877
    .end local v36           #match:I
    :cond_1
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v7

    invoke-virtual {v4, v7}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    goto :goto_0

    .line 8884
    .restart local v36       #match:I
    :sswitch_0
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v7, 0x1

    invoke-interface {v4, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 8885
    .local v15, contactId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    const-string v8, "_id=photo_id AND contact_id=?"

    const/4 v4, 0x1

    new-array v9, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v7

    aput-object v7, v9, v4

    move-object/from16 v4, p0

    move-object/from16 v6, p1

    move-object/from16 v7, p2

    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    .line 9096
    .end local v15           #contactId:J
    :goto_1
    return-object v4

    .line 8892
    :sswitch_1
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_2

    .line 8893
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v7, "Display photos retrieved by contact ID can only be read."

    invoke-direct {v4, v7}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 8896
    :cond_2
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v7, 0x1

    invoke-interface {v4, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 8897
    .restart local v15       #contactId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "contacts"

    const/4 v7, 0x1

    new-array v6, v7, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v9, "photo_file_id"

    aput-object v9, v6, v7

    const-string v7, "_id=?"

    const/4 v9, 0x1

    new-array v8, v9, [Ljava/lang/String;

    const/4 v9, 0x0

    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v10

    aput-object v10, v8, v9

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v27

    .line 8902
    .local v27, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_3

    .line 8903
    const/4 v4, 0x0

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v38

    .line 8904
    .local v38, photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v4

    .line 8910
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto :goto_1

    .line 8907
    .end local v38           #photoFileId:J
    :cond_3
    :try_start_1
    new-instance v4, Ljava/io/FileNotFoundException;

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-direct {v4, v7}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v4
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 8910
    :catchall_0
    move-exception v4

    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    throw v4

    .line 8915
    .end local v15           #contactId:J
    .end local v27           #c:Landroid/database/Cursor;
    :sswitch_2
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_4

    .line 8916
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v7, "Display photos retrieved by contact ID can only be read."

    invoke-direct {v4, v7}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 8919
    :cond_4
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v5, "contacts"

    const/4 v7, 0x1

    new-array v6, v7, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v9, "photo_file_id"

    aput-object v9, v6, v7

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v27

    .line 8922
    .restart local v27       #c:Landroid/database/Cursor;
    :try_start_2
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_5

    .line 8923
    const/4 v4, 0x0

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v38

    .line 8924
    .restart local v38       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    move-result-object v4

    .line 8930
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto/16 :goto_1

    .line 8927
    .end local v38           #photoFileId:J
    :cond_5
    :try_start_3
    new-instance v4, Ljava/io/FileNotFoundException;

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-direct {v4, v7}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v4
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 8930
    :catchall_1
    move-exception v4

    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    throw v4

    .line 8938
    .end local v27           #c:Landroid/database/Cursor;
    :sswitch_3
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_6

    .line 8939
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v7, "Photos retrieved by contact lookup key can only be read."

    invoke-direct {v4, v7}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 8942
    :cond_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v37

    .line 8943
    .local v37, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v37 .. v37}, Ljava/util/List;->size()I

    move-result v45

    .line 8944
    .local v45, segmentCount:I
    const/4 v4, 0x4

    move/from16 v0, v45

    if-ge v0, v4, :cond_7

    .line 8945
    new-instance v7, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v7, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 8949
    :cond_7
    const/16 v4, 0x3f6

    move/from16 v0, v36

    if-eq v0, v4, :cond_8

    const/16 v4, 0x3f5

    move/from16 v0, v36

    if-ne v0, v4, :cond_9

    :cond_8
    const/16 v28, 0x1

    .line 8951
    .local v28, forDisplayPhoto:Z
    :goto_2
    const/4 v4, 0x2

    move-object/from16 v0, v37

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Ljava/lang/String;

    .line 8952
    .local v18, lookupKey:Ljava/lang/String;
    const/4 v4, 0x2

    new-array v8, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v7, "photo_id"

    aput-object v7, v8, v4

    const/4 v4, 0x1

    const-string v7, "photo_file_id"

    aput-object v7, v8, v4

    .line 8953
    .local v8, projection:[Ljava/lang/String;
    const/4 v4, 0x5

    move/from16 v0, v45

    if-ne v0, v4, :cond_b

    .line 8954
    const/4 v4, 0x3

    move-object/from16 v0, v37

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 8955
    .restart local v15       #contactId:J
    new-instance v5, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v5}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 8956
    .local v5, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-virtual {v0, v5, v1, v8}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 8957
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/4 v13, 0x0

    const-string v14, "_id"

    const-string v17, "lookup"

    move-object/from16 v4, p0

    move-object/from16 v7, p1

    invoke-direct/range {v4 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v27

    .line 8960
    .restart local v27       #c:Landroid/database/Cursor;
    if-eqz v27, :cond_b

    .line 8962
    :try_start_4
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->moveToFirst()Z

    .line 8963
    if-eqz v28, :cond_a

    .line 8964
    const-string v4, "photo_file_id"

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v38

    .line 8966
    .restart local v38       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2

    move-result-object v4

    .line 8973
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto/16 :goto_1

    .line 8949
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v8           #projection:[Ljava/lang/String;
    .end local v15           #contactId:J
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v27           #c:Landroid/database/Cursor;
    .end local v28           #forDisplayPhoto:Z
    .end local v38           #photoFileId:J
    :cond_9
    const/16 v28, 0x0

    goto :goto_2

    .line 8968
    .restart local v5       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v8       #projection:[Ljava/lang/String;
    .restart local v15       #contactId:J
    .restart local v18       #lookupKey:Ljava/lang/String;
    .restart local v27       #c:Landroid/database/Cursor;
    .restart local v28       #forDisplayPhoto:Z
    :cond_a
    :try_start_5
    const-string v4, "photo_id"

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 8969
    .local v40, photoId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Landroid/database/sqlite/SQLiteDatabase;

    const-string v13, "_id=?"

    const/4 v4, 0x1

    new-array v14, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v40 .. v41}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v7

    aput-object v7, v14, v4

    move-object/from16 v9, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_2

    move-result-object v4

    .line 8973
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto/16 :goto_1

    .end local v40           #photoId:J
    :catchall_2
    move-exception v4

    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    throw v4

    .line 8978
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v15           #contactId:J
    .end local v27           #c:Landroid/database/Cursor;
    :cond_b
    new-instance v6, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v6}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 8979
    .local v6, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-virtual {v0, v6, v1, v8}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 8980
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v15

    .line 8981
    .restart local v15       #contactId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Landroid/database/sqlite/SQLiteDatabase;

    const-string v9, "_id=?"

    const/4 v4, 0x1

    new-array v10, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v11

    aput-object v11, v10, v4

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/4 v13, 0x0

    invoke-virtual/range {v6 .. v13}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v27

    .line 8984
    .restart local v27       #c:Landroid/database/Cursor;
    :try_start_6
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->moveToFirst()Z

    .line 8985
    if-eqz v28, :cond_c

    .line 8986
    const-string v4, "photo_file_id"

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v38

    .line 8987
    .restart local v38       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_3

    move-result-object v4

    .line 8994
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto/16 :goto_1

    .line 8989
    .end local v38           #photoFileId:J
    :cond_c
    :try_start_7
    const-string v4, "photo_id"

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 8990
    .restart local v40       #photoId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Landroid/database/sqlite/SQLiteDatabase;

    const-string v13, "_id=?"

    const/4 v4, 0x1

    new-array v14, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v40 .. v41}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v7

    aput-object v7, v14, v4

    move-object/from16 v9, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_3

    move-result-object v4

    .line 8994
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    goto/16 :goto_1

    .end local v40           #photoId:J
    :catchall_3
    move-exception v4

    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    throw v4

    .line 8999
    .end local v6           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v8           #projection:[Ljava/lang/String;
    .end local v15           #contactId:J
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v27           #c:Landroid/database/Cursor;
    .end local v28           #forDisplayPhoto:Z
    .end local v37           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v45           #segmentCount:I
    :sswitch_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v7, 0x1

    invoke-interface {v4, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v20

    .line 9000
    .local v20, rawContactId:J
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_e

    const/16 v47, 0x1

    .line 9003
    .local v47, writeable:Z
    :goto_3
    new-instance v6, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v6}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 9004
    .restart local v6       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v4, 0x2

    new-array v8, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v7, "_id"

    aput-object v7, v8, v4

    const/4 v4, 0x1

    const-string v7, "data14"

    aput-object v7, v8, v4

    .line 9005
    .restart local v8       #projection:[Ljava/lang/String;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-virtual {v0, v6, v1, v8, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 9006
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/photo"

    invoke-virtual {v4, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v42

    .line 9007
    .local v42, photoMimetypeId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Landroid/database/sqlite/SQLiteDatabase;

    const-string v9, "raw_contact_id=? AND mimetype_id=?"

    const/4 v4, 0x2

    new-array v10, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v20 .. v21}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v11

    aput-object v11, v10, v4

    const/4 v4, 0x1

    invoke-static/range {v42 .. v43}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v11

    aput-object v11, v10, v4

    const/4 v11, 0x0

    const/4 v12, 0x0

    const-string v13, "is_primary DESC"

    invoke-virtual/range {v6 .. v13}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v27

    .line 9011
    .restart local v27       #c:Landroid/database/Cursor;
    const-wide/16 v22, 0x0

    .line 9012
    .local v22, dataId:J
    const-wide/16 v38, 0x0

    .line 9014
    .restart local v38       #photoFileId:J
    :try_start_8
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->getCount()I

    move-result v4

    const/4 v7, 0x1

    if-lt v4, v7, :cond_d

    .line 9015
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->moveToFirst()Z

    .line 9016
    const/4 v4, 0x0

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v22

    .line 9017
    const/4 v4, 0x1

    move-object/from16 v0, v27

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J
    :try_end_8
    .catchall {:try_start_8 .. :try_end_8} :catchall_4

    move-result-wide v38

    .line 9020
    :cond_d
    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    .line 9026
    if-eqz v47, :cond_f

    move-object/from16 v19, p0

    move-object/from16 v24, p1

    move-object/from16 v25, p2

    .line 9027
    invoke-direct/range {v19 .. v25}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForWrite(JJLandroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9000
    .end local v6           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v8           #projection:[Ljava/lang/String;
    .end local v22           #dataId:J
    .end local v27           #c:Landroid/database/Cursor;
    .end local v38           #photoFileId:J
    .end local v42           #photoMimetypeId:J
    .end local v47           #writeable:Z
    :cond_e
    const/16 v47, 0x0

    goto :goto_3

    .line 9020
    .restart local v6       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v8       #projection:[Ljava/lang/String;
    .restart local v22       #dataId:J
    .restart local v27       #c:Landroid/database/Cursor;
    .restart local v38       #photoFileId:J
    .restart local v42       #photoMimetypeId:J
    .restart local v47       #writeable:Z
    :catchall_4
    move-exception v4

    invoke-interface/range {v27 .. v27}, Landroid/database/Cursor;->close()V

    throw v4

    .line 9029
    :cond_f
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9034
    .end local v6           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v8           #projection:[Ljava/lang/String;
    .end local v20           #rawContactId:J
    .end local v22           #dataId:J
    .end local v27           #c:Landroid/database/Cursor;
    .end local v38           #photoFileId:J
    .end local v42           #photoMimetypeId:J
    .end local v47           #writeable:Z
    :sswitch_5
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v38

    .line 9035
    .restart local v38       #photoFileId:J
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_10

    .line 9036
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v7, "Display photos retrieved by key can only be read."

    invoke-direct {v4, v7}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 9039
    :cond_10
    move-object/from16 v0, p0

    move-wide/from16 v1, v38

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9043
    .end local v38           #photoFileId:J
    :sswitch_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v7, 0x1

    invoke-interface {v4, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v22

    .line 9044
    .restart local v22       #dataId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/photo"

    invoke-virtual {v4, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v42

    .line 9045
    .restart local v42       #photoMimetypeId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Landroid/database/sqlite/SQLiteDatabase;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "_id=? AND mimetype_id="

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-wide/from16 v0, v42

    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    const/4 v4, 0x1

    new-array v14, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v22 .. v23}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v7

    aput-object v7, v14, v4

    move-object/from16 v9, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9054
    .end local v22           #dataId:J
    .end local v42           #photoMimetypeId:J
    :sswitch_7
    new-instance v33, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v33 .. v33}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 9055
    .local v33, localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    const/4 v7, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v33

    invoke-direct {v0, v1, v2, v4, v7}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 9056
    move-object/from16 v0, p0

    move-object/from16 v1, v33

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9063
    .end local v33           #localStream:Ljava/io/ByteArrayOutputStream;
    :sswitch_8
    new-instance v33, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v33 .. v33}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 9064
    .restart local v33       #localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    const/4 v7, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v33

    invoke-direct {v0, v1, v2, v4, v7}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 9065
    move-object/from16 v0, p0

    move-object/from16 v1, v33

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 9069
    .end local v33           #localStream:Ljava/io/ByteArrayOutputStream;
    :sswitch_9
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v7, 0x2

    invoke-interface {v4, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v34

    check-cast v34, Ljava/lang/String;

    .line 9070
    .local v34, lookupKeys:Ljava/lang/String;
    const-string v4, ":"

    move-object/from16 v0, v34

    invoke-virtual {v0, v4}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v35

    .line 9071
    .local v35, loopupKeyList:[Ljava/lang/String;
    new-instance v30, Ljava/lang/StringBuilder;

    invoke-direct/range {v30 .. v30}, Ljava/lang/StringBuilder;-><init>()V

    .line 9072
    .local v30, inBuilder:Ljava/lang/StringBuilder;
    sget-object v44, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;

    .line 9073
    .local v44, queryUri:Landroid/net/Uri;
    const/16 v31, 0x0

    .line 9077
    .local v31, index:I
    move-object/from16 v26, v35

    .local v26, arr$:[Ljava/lang/String;
    move-object/from16 v0, v26

    array-length v0, v0

    move/from16 v32, v0

    .local v32, len$:I
    const/16 v29, 0x0

    .local v29, i$:I
    :goto_4
    move/from16 v0, v29

    move/from16 v1, v32

    if-ge v0, v1, :cond_12

    aget-object v18, v26, v29

    .line 9078
    .restart local v18       #lookupKey:Ljava/lang/String;
    if-nez v31, :cond_11

    .line 9079
    const-string v4, "("

    move-object/from16 v0, v30

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9084
    :goto_5
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v15

    .line 9085
    .restart local v15       #contactId:J
    move-object/from16 v0, v30

    move-wide v1, v15

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 9086
    add-int/lit8 v31, v31, 0x1

    .line 9077
    add-int/lit8 v29, v29, 0x1

    goto :goto_4

    .line 9081
    .end local v15           #contactId:J
    :cond_11
    const-string v4, ","

    move-object/from16 v0, v30

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_5

    .line 9088
    .end local v18           #lookupKey:Ljava/lang/String;
    :cond_12
    const/16 v4, 0x29

    move-object/from16 v0, v30

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 9089
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "_id IN "

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {v30 .. v30}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v46

    .line 9094
    .local v46, selection:Ljava/lang/String;
    new-instance v33, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v33 .. v33}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 9095
    .restart local v33       #localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v44

    move-object/from16 v2, v33

    move-object/from16 v3, v46

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 9096
    move-object/from16 v0, p0

    move-object/from16 v1, v33

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_1

    .line 8882
    nop

    :sswitch_data_0
    .sparse-switch
        0x3f1 -> :sswitch_0
        0x3f2 -> :sswitch_3
        0x3f3 -> :sswitch_3
        0x3f4 -> :sswitch_1
        0x3f5 -> :sswitch_3
        0x3f6 -> :sswitch_3
        0x3f7 -> :sswitch_8
        0x3f8 -> :sswitch_9
        0x7d6 -> :sswitch_4
        0xbb9 -> :sswitch_6
        0x4a3c -> :sswitch_7
        0x4a44 -> :sswitch_2
        0x55f0 -> :sswitch_5
    .end sparse-switch
.end method

.method protected performBackgroundTask(ILjava/lang/Object;)V
    .locals 15
    .parameter "task"
    .parameter "arg"

    .prologue
    .line 1956
    packed-switch p1, :pswitch_data_0

    .line 2112
    .end local p2
    :cond_0
    :goto_0
    return-void

    .line 1958
    .restart local p2
    :pswitch_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initForDefaultLocale()V

    .line 1959
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {v11}, Ljava/util/concurrent/CountDownLatch;->countDown()V

    .line 1960
    const/4 v11, 0x0

    iput-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    goto :goto_0

    .line 1965
    :pswitch_1
    iget-boolean v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mOkToOpenAccess:Z

    if-eqz v11, :cond_0

    .line 1966
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {v11}, Ljava/util/concurrent/CountDownLatch;->countDown()V

    .line 1967
    const/4 v11, 0x0

    iput-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    goto :goto_0

    .line 1973
    :pswitch_2
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->isLegacyContactImportNeeded()Z

    move-result v11

    if-eqz v11, :cond_0

    .line 1974
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->importLegacyContactsInBackground()V

    goto :goto_0

    .line 1983
    :pswitch_3
    :try_start_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v4

    .line 1984
    .local v4, context:Landroid/content/Context;
    iget-boolean v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountUpdateListenerRegistered:Z

    if-nez v11, :cond_1

    .line 1985
    invoke-static {v4}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v11

    const/4 v12, 0x0

    const/4 v13, 0x0

    invoke-virtual {v11, p0, v12, v13}, Landroid/accounts/AccountManager;->addOnAccountsUpdatedListener(Landroid/accounts/OnAccountsUpdateListener;Landroid/os/Handler;Z)V

    .line 1986
    const/4 v11, 0x1

    iput-boolean v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountUpdateListenerRegistered:Z

    .line 1993
    :cond_1
    invoke-static {v4}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v11

    invoke-virtual {v11}, Landroid/accounts/AccountManager;->getAccounts()[Landroid/accounts/Account;

    move-result-object v1

    .line 1994
    .local v1, accounts:[Landroid/accounts/Account;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1995
    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateAccountsInBackground([Landroid/accounts/Account;)Z

    move-result v2

    .line 1996
    .local v2, accountsChanged:Z
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 1997
    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateAccountsInBackground([Landroid/accounts/Account;)Z

    move-result v11

    or-int/2addr v2, v11

    .line 1999
    invoke-direct {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactsAccountCount([Landroid/accounts/Account;)V

    .line 2000
    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->updateDirectoriesInBackground(Z)V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    .line 2004
    .end local v1           #accounts:[Landroid/accounts/Account;
    .end local v2           #accountsChanged:Z
    .end local v4           #context:Landroid/content/Context;
    :catch_0
    move-exception v5

    .line 2005
    .local v5, e:Landroid/database/sqlite/SQLiteException;
    const-string v11, "ContactsProvider"

    const-string v12, " BACKGROUND_TASK_UPDATE_ACCOUNTS "

    invoke-static {v11, v12, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto :goto_0

    .line 2012
    .end local v5           #e:Landroid/database/sqlite/SQLiteException;
    :pswitch_4
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v11}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v3

    .line 2013
    .local v3, contactDb:Landroid/database/sqlite/SQLiteDatabase;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v11

    invoke-static {v11}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v10

    .line 2014
    .local v10, prefs:Landroid/content/SharedPreferences;
    const-string v11, "need_upgrade"

    const/4 v12, 0x1

    invoke-interface {v10, v11, v12}, Landroid/content/SharedPreferences;->getBoolean(Ljava/lang/String;Z)Z

    move-result v7

    .line 2018
    .local v7, needUpgrade:Z
    if-eqz v7, :cond_0

    .line 2019
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->processUpgradeProcedure()V

    .line 2020
    invoke-interface {v10}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v6

    .line 2021
    .local v6, editor:Landroid/content/SharedPreferences$Editor;
    const-string v11, "need_upgrade"

    const/4 v12, 0x0

    invoke-interface {v6, v11, v12}, Landroid/content/SharedPreferences$Editor;->putBoolean(Ljava/lang/String;Z)Landroid/content/SharedPreferences$Editor;

    .line 2022
    invoke-interface {v6}, Landroid/content/SharedPreferences$Editor;->commit()Z

    goto/16 :goto_0

    .line 2032
    .end local v3           #contactDb:Landroid/database/sqlite/SQLiteDatabase;
    .end local v6           #editor:Landroid/content/SharedPreferences$Editor;
    .end local v7           #needUpgrade:Z
    .end local v10           #prefs:Landroid/content/SharedPreferences;
    :pswitch_5
    :try_start_1
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateLocaleInBackground()V
    :try_end_1
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_1 .. :try_end_1} :catch_1

    goto/16 :goto_0

    .line 2034
    :catch_1
    move-exception v5

    .line 2035
    .restart local v5       #e:Landroid/database/sqlite/SQLiteException;
    const-string v11, "ContactsProvider"

    const-string v12, " BACKGROUND_TASK_UPDATE_LOCALE "

    invoke-static {v11, v12, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto/16 :goto_0

    .line 2045
    .end local v5           #e:Landroid/database/sqlite/SQLiteException;
    :pswitch_6
    :try_start_2
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->changeLocaleInBackground()V
    :try_end_2
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_2 .. :try_end_2} :catch_2

    goto/16 :goto_0

    .line 2047
    :catch_2
    move-exception v5

    .line 2048
    .restart local v5       #e:Landroid/database/sqlite/SQLiteException;
    const-string v11, "ContactsProvider"

    const-string v12, " BACKGROUND_TASK_CHANGE_LOCALE "

    invoke-static {v11, v12, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto/16 :goto_0

    .line 2055
    .end local v5           #e:Landroid/database/sqlite/SQLiteException;
    :pswitch_7
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->isAggregationUpgradeNeeded()Z

    move-result v11

    if-eqz v11, :cond_0

    .line 2056
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->upgradeAggregationAlgorithmInBackground()V

    goto/16 :goto_0

    .line 2062
    :pswitch_8
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInBackground()V

    goto/16 :goto_0

    .line 2079
    :pswitch_9
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateProviderStatus()V

    goto/16 :goto_0

    .line 2084
    :pswitch_a
    if-eqz p2, :cond_0

    .line 2085
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    check-cast p2, Ljava/lang/String;

    .end local p2
    move-object/from16 v0, p2

    invoke-virtual {v11, v0}, Lcom/android/providers/contacts/ContactDirectoryManager;->onPackageChanged(Ljava/lang/String;)V

    goto/16 :goto_0

    .line 2092
    .restart local p2
    :pswitch_b
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v8

    .line 2093
    .local v8, now:J
    iget-wide v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    sub-long v11, v8, v11

    const-wide/32 v13, 0x5265c00

    cmp-long v11, v11, v13

    if-lez v11, :cond_0

    .line 2094
    iput-wide v8, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    .line 2097
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2098
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->cleanupPhotoStore()V

    .line 2099
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2100
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->cleanupPhotoStore()V

    goto/16 :goto_0

    .line 2107
    .end local v8           #now:J
    :pswitch_c
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->contactProviderInitializedDone()V

    goto/16 :goto_0

    .line 1956
    nop

    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_1
        :pswitch_2
        :pswitch_3
        :pswitch_5
        :pswitch_7
        :pswitch_8
        :pswitch_9
        :pswitch_a
        :pswitch_6
        :pswitch_b
        :pswitch_c
        :pswitch_4
    .end packed-switch
.end method

.method protected processUpgradeProcedure()V
    .locals 0

    .prologue
    .line 10357
    return-void
.end method

.method public query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    .locals 14
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"

    .prologue
    .line 6500
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 6503
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamReadPermission(Landroid/net/Uri;)V

    .line 6506
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6507
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 6508
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    move-object v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ProfileProvider;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v0

    .line 6567
    :goto_0
    return-object v0

    .line 6512
    :cond_0
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 6513
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 6514
    const-string v0, "directory"

    invoke-static {p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v11

    .line 6515
    .local v11, directory:Ljava/lang/String;
    if-nez v11, :cond_1

    .line 6516
    const-wide/16 v6, -0x1

    move-object v0, p0

    move-object v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    invoke-virtual/range {v0 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v0

    invoke-virtual {p0, p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v0

    goto :goto_0

    .line 6518
    :cond_1
    const-string v0, "0"

    invoke-virtual {v11, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 6519
    const-wide/16 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    invoke-virtual/range {v0 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v0

    invoke-virtual {p0, p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v0

    goto :goto_0

    .line 6522
    :cond_2
    const-string v0, "1"

    invoke-virtual {v11, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_3

    .line 6523
    const-wide/16 v6, 0x1

    move-object v0, p0

    move-object v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    invoke-virtual/range {v0 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;

    move-result-object v0

    invoke-virtual {p0, p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v0

    goto :goto_0

    .line 6528
    :cond_3
    invoke-direct {p0, v11}, Lcom/android/providers/contacts/ContactsProvider2;->getDirectoryAuthority(Ljava/lang/String;)Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    move-result-object v12

    .line 6529
    .local v12, directoryInfo:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    if-nez v12, :cond_4

    .line 6530
    const-string v0, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "Invalid directory ID: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 6531
    const/4 v0, 0x0

    goto/16 :goto_0

    .line 6534
    :cond_4
    new-instance v8, Landroid/net/Uri$Builder;

    invoke-direct {v8}, Landroid/net/Uri$Builder;-><init>()V

    .line 6535
    .local v8, builder:Landroid/net/Uri$Builder;
    const-string v0, "content"

    invoke-virtual {v8, v0}, Landroid/net/Uri$Builder;->scheme(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6536
    iget-object v0, v12, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->authority:Ljava/lang/String;

    invoke-virtual {v8, v0}, Landroid/net/Uri$Builder;->authority(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6537
    invoke-virtual {p1}, Landroid/net/Uri;->getEncodedPath()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v8, v0}, Landroid/net/Uri$Builder;->encodedPath(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6538
    iget-object v0, v12, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    if-eqz v0, :cond_5

    .line 6539
    const-string v0, "account_name"

    iget-object v2, v12, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    invoke-virtual {v8, v0, v2}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6541
    :cond_5
    iget-object v0, v12, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    if-eqz v0, :cond_6

    .line 6542
    const-string v0, "account_type"

    iget-object v2, v12, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    invoke-virtual {v8, v0, v2}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6545
    :cond_6
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getLimit(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v13

    .line 6546
    .local v13, limit:Ljava/lang/String;
    if-eqz v13, :cond_7

    .line 6547
    const-string v0, "limit"

    invoke-virtual {v8, v0, v13}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 6550
    :cond_7
    invoke-virtual {v8}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v1

    .line 6552
    .local v1, directoryUri:Landroid/net/Uri;
    if-nez p2, :cond_8

    .line 6553
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDefaultProjection(Landroid/net/Uri;)[Ljava/lang/String;

    move-result-object p2

    .line 6556
    :cond_8
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 6559
    .local v10, cursor:Landroid/database/Cursor;
    if-nez v10, :cond_9

    .line 6560
    const/4 v0, 0x0

    goto/16 :goto_0

    .line 6563
    :cond_9
    invoke-virtual {p0, v10}, Lcom/android/providers/contacts/ContactsProvider2;->getCrossProcessCursor(Landroid/database/Cursor;)Landroid/database/CrossProcessCursor;

    move-result-object v9

    .line 6564
    .local v9, crossProcessCursor:Landroid/database/CrossProcessCursor;
    if-eqz v9, :cond_a

    .line 6565
    invoke-virtual {p0, p1, v10}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v0

    goto/16 :goto_0

    .line 6567
    :cond_a
    invoke-virtual {p0, p1, v10}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v0

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->matrixCursorFromCursor(Landroid/database/Cursor;)Landroid/database/MatrixCursor;

    move-result-object v0

    goto/16 :goto_0
.end method

.method protected queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;J)Landroid/database/Cursor;
    .locals 103
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "directoryId"

    .prologue
    .line 6714
    sget-boolean v4, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v4, :cond_0

    .line 6715
    const-string v4, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "query: "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p1

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v4, v6}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 6719
    :cond_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    if-nez v4, :cond_1

    .line 6720
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 6723
    :cond_1
    new-instance v20, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct/range {v20 .. v20}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 6724
    .local v20, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v12, 0x0

    .line 6725
    .local v12, groupBy:Ljava/lang/String;
    invoke-virtual/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getLimit(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v13

    .line 6726
    .local v13, limit:Ljava/lang/String;
    const/16 v91, 0x0

    .line 6729
    .local v91, snippetDeferred:Z
    const/16 v48, 0x0

    .line 6731
    .local v48, addressBookIndexerCountExpression:Ljava/lang/String;
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v68

    .line 6732
    .local v68, match:I
    sparse-switch v68, :sswitch_data_0

    .line 7799
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v37, v0

    move-object/from16 v38, p1

    move-object/from16 v39, p2

    move-object/from16 v40, p3

    move-object/from16 v41, p4

    move-object/from16 v42, p5

    move-object/from16 v43, v13

    invoke-virtual/range {v37 .. v43}, Lcom/android/providers/contacts/LegacyApiSupport;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 7815
    :cond_2
    :goto_0
    return-object v50

    .line 6735
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v4

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v6, p2

    move-object/from16 v7, p3

    move-object/from16 v8, p4

    move-object/from16 v9, p5

    invoke-virtual/range {v4 .. v9}, Lcom/android/common/content/SyncStateContentProviderHelper;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto :goto_0

    .line 6739
    :sswitch_1
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 6740
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-wide/from16 v2, p6

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendLocalDirectorySelectionIfNeeded(Landroid/database/sqlite/SQLiteQueryBuilder;J)Z

    .line 7803
    :cond_3
    :goto_1
    const/4 v4, 0x1

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 7805
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v38

    check-cast v38, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v37, p0

    move-object/from16 v39, v20

    move-object/from16 v40, p2

    move-object/from16 v41, p3

    move-object/from16 v42, p4

    move-object/from16 v43, p5

    move-object/from16 v44, v12

    move-object/from16 v45, v13

    invoke-direct/range {v37 .. v45}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v38

    .line 7808
    .local v38, cursor:Landroid/database/Cursor;
    const-string v4, "address_book_index_extras"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v4

    if-eqz v4, :cond_4

    .line 7809
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v39

    check-cast v39, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v37, p0

    move-object/from16 v40, v20

    move-object/from16 v41, p3

    move-object/from16 v42, p4

    move-object/from16 v43, p5

    move-object/from16 v44, v48

    invoke-virtual/range {v37 .. v44}, Lcom/android/providers/contacts/ContactsProvider2;->bundleLetterCountExtras(Landroid/database/Cursor;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v38

    .line 7812
    :cond_4
    if-eqz v91, :cond_5

    .line 7813
    move-object/from16 v0, p0

    move-object/from16 v1, v38

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->addDeferredSnippetingExtra(Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v38

    :cond_5
    move-object/from16 v50, v38

    .line 7815
    goto/16 :goto_0

    .line 6745
    .end local v38           #cursor:Landroid/database/Cursor;
    :sswitch_2
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v15

    .line 6746
    .local v15, contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 6747
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6748
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 6754
    .end local v15           #contactId:J
    :sswitch_3
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v75

    .line 6755
    .local v75, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v75 .. v75}, Ljava/util/List;->size()I

    move-result v87

    .line 6756
    .local v87, segmentCount:I
    const/4 v4, 0x3

    move/from16 v0, v87

    if-ge v0, v4, :cond_6

    .line 6757
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v7, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 6761
    :cond_6
    const/4 v4, 0x2

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Ljava/lang/String;

    .line 6762
    .local v18, lookupKey:Ljava/lang/String;
    const/4 v4, 0x4

    move/from16 v0, v87

    if-ne v0, v4, :cond_7

    .line 6763
    const/4 v4, 0x3

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 6764
    .restart local v15       #contactId:J
    new-instance v5, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v5}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 6765
    .local v5, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-virtual {v0, v5, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 6767
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const-string v14, "_id"

    const-string v17, "lookup"

    move-object/from16 v4, p0

    move-object/from16 v7, p1

    move-object/from16 v8, p2

    move-object/from16 v9, p3

    move-object/from16 v10, p4

    move-object/from16 v11, p5

    invoke-direct/range {v4 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 6770
    .local v50, c:Landroid/database/Cursor;
    if-nez v50, :cond_2

    .line 6775
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v15           #contactId:J
    .end local v50           #c:Landroid/database/Cursor;
    :cond_7
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 6776
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v6

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6778
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6786
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v75           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v87           #segmentCount:I
    :sswitch_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v75

    .line 6787
    .restart local v75       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v75 .. v75}, Ljava/util/List;->size()I

    move-result v87

    .line 6788
    .restart local v87       #segmentCount:I
    const/4 v4, 0x4

    move/from16 v0, v87

    if-ge v0, v4, :cond_8

    .line 6789
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v7, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 6792
    :cond_8
    const/4 v4, 0x2

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Ljava/lang/String;

    .line 6793
    .restart local v18       #lookupKey:Ljava/lang/String;
    const/4 v4, 0x5

    move/from16 v0, v87

    if-ne v0, v4, :cond_b

    .line 6794
    const/4 v4, 0x3

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 6795
    .restart local v15       #contactId:J
    new-instance v5, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v5}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 6796
    .restart local v5       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-virtual {v0, v5, v1, v2, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6797
    const/16 v4, 0x3f2

    move/from16 v0, v68

    if-eq v0, v4, :cond_9

    const/16 v4, 0x3f3

    move/from16 v0, v68

    if-ne v0, v4, :cond_a

    .line 6798
    :cond_9
    const-string v4, " AND _id=photo_id"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6800
    :cond_a
    const-string v4, " AND "

    invoke-virtual {v5, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6801
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const-string v14, "contact_id"

    const-string v17, "lookup"

    move-object/from16 v4, p0

    move-object/from16 v7, p1

    move-object/from16 v8, p2

    move-object/from16 v9, p3

    move-object/from16 v10, p4

    move-object/from16 v11, p5

    invoke-direct/range {v4 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 6804
    .restart local v50       #c:Landroid/database/Cursor;
    if-nez v50, :cond_2

    .line 6811
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v15           #contactId:J
    .end local v50           #c:Landroid/database/Cursor;
    :cond_b
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6812
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v15

    .line 6813
    .restart local v15       #contactId:J
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6815
    const/16 v4, 0x3f2

    move/from16 v0, v68

    if-eq v0, v4, :cond_c

    const/16 v4, 0x3f3

    move/from16 v0, v68

    if-ne v0, v4, :cond_d

    .line 6816
    :cond_c
    const-string v4, " AND _id=photo_id"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6818
    :cond_d
    const-string v4, " AND contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6823
    .end local v15           #contactId:J
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v75           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v87           #segmentCount:I
    :sswitch_5
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 6824
    .restart local v15       #contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 6825
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6826
    const-string v4, "contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6832
    .end local v15           #contactId:J
    :sswitch_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v75

    .line 6833
    .restart local v75       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v75 .. v75}, Ljava/util/List;->size()I

    move-result v87

    .line 6834
    .restart local v87       #segmentCount:I
    const/4 v4, 0x4

    move/from16 v0, v87

    if-ge v0, v4, :cond_e

    .line 6835
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v7, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 6838
    :cond_e
    const/4 v4, 0x2

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Ljava/lang/String;

    .line 6839
    .restart local v18       #lookupKey:Ljava/lang/String;
    const/4 v4, 0x5

    move/from16 v0, v87

    if-ne v0, v4, :cond_f

    .line 6840
    const/4 v4, 0x3

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 6841
    .restart local v15       #contactId:J
    new-instance v5, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v5}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 6842
    .restart local v5       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    invoke-direct {v0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 6843
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const-string v14, "contact_id"

    const-string v17, "contact_lookup"

    move-object/from16 v4, p0

    move-object/from16 v7, p1

    move-object/from16 v8, p2

    move-object/from16 v9, p3

    move-object/from16 v10, p4

    move-object/from16 v11, p5

    invoke-direct/range {v4 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 6847
    .restart local v50       #c:Landroid/database/Cursor;
    if-nez v50, :cond_2

    .line 6852
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v15           #contactId:J
    .end local v50           #c:Landroid/database/Cursor;
    :cond_f
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 6853
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v15

    .line 6854
    .restart local v15       #contactId:J
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6855
    const-string v4, "contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6860
    .end local v15           #contactId:J
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v75           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v87           #segmentCount:I
    :sswitch_7
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x2

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v18

    .line 6861
    .restart local v18       #lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v15

    .line 6862
    .restart local v15       #contactId:J
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6868
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6869
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6871
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6876
    .end local v15           #contactId:J
    .end local v18           #lookupKey:Ljava/lang/String;
    :sswitch_8
    new-instance v53, Ljava/text/SimpleDateFormat;

    const-string v4, "yyyyMMdd_HHmmss"

    move-object/from16 v0, v53

    invoke-direct {v0, v4}, Ljava/text/SimpleDateFormat;-><init>(Ljava/lang/String;)V

    .line 6877
    .local v53, dateFormat:Ljava/text/SimpleDateFormat;
    new-instance v4, Ljava/util/Date;

    invoke-direct {v4}, Ljava/util/Date;-><init>()V

    move-object/from16 v0, v53

    invoke-virtual {v0, v4}, Ljava/text/SimpleDateFormat;->format(Ljava/util/Date;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/String;->toString()Ljava/lang/String;

    move-result-object v52

    .line 6878
    .local v52, currentDateString:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    const-string v6, "SELECT \'vcards_\' || ? || \'.vcf\' AS _display_name, NULL AS _size"

    const/4 v7, 0x1

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    aput-object v52, v7, v8

    invoke-virtual {v4, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 6886
    .end local v52           #currentDateString:Ljava/lang/String;
    .end local v53           #dateFormat:Ljava/text/SimpleDateFormat;
    :sswitch_9
    const-string v23, ""

    .line 6887
    .local v23, filterParam:Ljava/lang/String;
    invoke-virtual/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->deferredSnippetingRequested(Landroid/net/Uri;)Z

    move-result v26

    .line 6888
    .local v26, deferredSnipRequested:Z
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x2

    if-le v4, v6, :cond_10

    .line 6889
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v23

    :cond_10
    move-object/from16 v19, p0

    move-object/from16 v21, p1

    move-object/from16 v22, p2

    move-wide/from16 v24, p6

    .line 6891
    invoke-virtual/range {v19 .. v26}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContactsWithSnippet(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;JZ)V

    .line 6894
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isSingleWordQuery(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_11

    if-eqz v26, :cond_11

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->snippetNeeded([Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_11

    const/16 v91, 0x1

    .line 6896
    :goto_2
    goto/16 :goto_1

    .line 6894
    :cond_11
    const/16 v91, 0x0

    goto :goto_2

    .line 6907
    .end local v23           #filterParam:Ljava/lang/String;
    .end local v26           #deferredSnipRequested:Z
    :sswitch_a
    const-string v4, "strequent_phone_only"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v78

    .line 6909
    .local v78, phoneOnly:Z
    const/16 v4, 0x3ef

    move/from16 v0, v68

    if-ne v0, v4, :cond_12

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x3

    if-le v4, v6, :cond_12

    .line 6910
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v23

    .line 6911
    .restart local v23       #filterParam:Ljava/lang/String;
    new-instance v85, Ljava/lang/StringBuilder;

    invoke-direct/range {v85 .. v85}, Ljava/lang/StringBuilder;-><init>()V

    .line 6912
    .local v85, sb:Ljava/lang/StringBuilder;
    const-string v4, "_id IN "

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6913
    move-object/from16 v0, p0

    move-object/from16 v1, v85

    move-object/from16 v2, v23

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactFilterAsNestedQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 6914
    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object p3, v4, v6

    const/4 v6, 0x1

    invoke-virtual/range {v85 .. v85}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v4, v6

    invoke-static {v4}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 6917
    .end local v23           #filterParam:Ljava/lang/String;
    .end local v85           #sb:Ljava/lang/StringBuilder;
    :cond_12
    const/16 v28, 0x0

    .line 6918
    .local v28, subProjection:[Ljava/lang/String;
    if-eqz p2, :cond_13

    .line 6919
    const-string v4, "times_used_sort"

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendProjectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v28

    .line 6923
    :cond_13
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6924
    if-eqz v78, :cond_17

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    :goto_3
    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6927
    if-eqz v78, :cond_14

    .line 6928
    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object p3, v4, v6

    const/4 v6, 0x1

    const-string v7, "has_phone_number=1"

    aput-object v7, v4, v6

    invoke-static {v4}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6931
    :cond_14
    const/4 v4, 0x1

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 6932
    const-string v29, "starred=1"

    const-string v30, "_id"

    const/16 v31, 0x0

    const-string v32, "display_name COLLATE LOCALIZED ASC"

    const/16 v33, 0x0

    move-object/from16 v27, v20

    invoke-virtual/range {v27 .. v33}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v92

    .line 6937
    .local v92, starredInnerQuery:Ljava/lang/String;
    new-instance v20, Landroid/database/sqlite/SQLiteQueryBuilder;

    .end local v20           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    invoke-direct/range {v20 .. v20}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 6938
    .restart local v20       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v4, 0x1

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 6943
    if-eqz v78, :cond_18

    .line 6944
    new-instance v97, Ljava/lang/StringBuilder;

    invoke-direct/range {v97 .. v97}, Ljava/lang/StringBuilder;-><init>()V

    .line 6955
    .local v97, tableBuilder:Ljava/lang/StringBuilder;
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "data_usage_stat INNER JOIN "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getDataView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "data"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " ON ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "data_usage_stat.data_id"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "="

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "data._id"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " AND "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "data_usage_stat.usage_type"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "="

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const/4 v6, 0x0

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ")"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v97

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6961
    const-string v4, "contact_id"

    move-object/from16 v0, p0

    move-object/from16 v1, v97

    move-object/from16 v2, p2

    invoke-virtual {v0, v1, v2, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 6962
    const-string v4, "status_update_id"

    move-object/from16 v0, p0

    move-object/from16 v1, v97

    move-object/from16 v2, p2

    invoke-virtual {v0, v1, v2, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 6965
    invoke-virtual/range {v97 .. v97}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6966
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6967
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/phone_v2"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v76

    .line 6969
    .local v76, phoneMimeTypeId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/sip_address"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v89

    .line 6971
    .local v89, sipMimeTypeId:J
    const/4 v4, 0x3

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object p3, v4, v6

    const/4 v6, 0x1

    const-string v7, "starred=0 OR starred IS NULL"

    aput-object v7, v4, v6

    const/4 v6, 0x2

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "mimetype_id IN ("

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-wide/from16 v0, v76

    invoke-virtual {v7, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ", "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-wide/from16 v0, v89

    invoke-virtual {v7, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ")"

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v4, v6

    invoke-static {v4}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6976
    const/16 v29, 0x0

    const/16 v30, 0x0

    const/16 v31, 0x0

    const-string v32, "times_used_sort DESC"

    const-string v33, "25"

    move-object/from16 v27, v20

    invoke-virtual/range {v27 .. v33}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v57

    .line 6991
    .end local v76           #phoneMimeTypeId:J
    .end local v89           #sipMimeTypeId:J
    .end local v97           #tableBuilder:Ljava/lang/StringBuilder;
    .local v57, frequentInnerQuery:Ljava/lang/String;
    :goto_4
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "SELECT * FROM ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v57

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ")"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v58

    .line 6992
    .local v58, frequentQuery:Ljava/lang/String;
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "SELECT * FROM ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v92

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ")"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v93

    .line 6995
    .local v93, starredQuery:Ljava/lang/String;
    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object v93, v4, v6

    const/4 v6, 0x1

    aput-object v58, v4, v6

    const/4 v6, 0x0

    const/4 v7, 0x0

    move-object/from16 v0, v20

    invoke-virtual {v0, v4, v6, v7}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildUnionQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v100

    .line 7006
    .local v100, unionQuery:Ljava/lang/String;
    const/16 v55, 0x0

    .line 7007
    .local v55, doubledSelectionArgs:[Ljava/lang/String;
    if-eqz p4, :cond_15

    .line 7008
    move-object/from16 v0, p4

    array-length v0, v0

    move/from16 v67, v0

    .line 7009
    .local v67, length:I
    mul-int/lit8 v4, v67, 0x2

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v55, v0

    .line 7010
    const/4 v4, 0x0

    const/4 v6, 0x0

    move-object/from16 v0, p4

    move-object/from16 v1, v55

    move/from16 v2, v67

    invoke-static {v0, v4, v1, v6, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 7011
    const/4 v4, 0x0

    move-object/from16 v0, p4

    move-object/from16 v1, v55

    move/from16 v2, v67

    move/from16 v3, v67

    invoke-static {v0, v4, v1, v2, v3}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 7014
    .end local v67           #length:I
    :cond_15
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, v100

    move-object/from16 v1, v55

    invoke-virtual {v4, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v38

    .line 7015
    .restart local v38       #cursor:Landroid/database/Cursor;
    if-eqz v38, :cond_16

    .line 7016
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-virtual {v4}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v4

    sget-object v6, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    move-object/from16 v0, v38

    invoke-interface {v0, v4, v6}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V

    :cond_16
    move-object/from16 v50, v38

    .line 7019
    goto/16 :goto_0

    .line 6924
    .end local v38           #cursor:Landroid/database/Cursor;
    .end local v55           #doubledSelectionArgs:[Ljava/lang/String;
    .end local v57           #frequentInnerQuery:Ljava/lang/String;
    .end local v58           #frequentQuery:Ljava/lang/String;
    .end local v92           #starredInnerQuery:Ljava/lang/String;
    .end local v93           #starredQuery:Ljava/lang/String;
    .end local v100           #unionQuery:Ljava/lang/String;
    :cond_17
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentStarredProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    goto/16 :goto_3

    .line 6980
    .restart local v92       #starredInnerQuery:Ljava/lang/String;
    :cond_18
    const/4 v4, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6981
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6982
    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object p3, v4, v6

    const/4 v6, 0x1

    const-string v7, "(starred =0 OR starred IS NULL)"

    aput-object v7, v4, v6

    invoke-static {v4}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6985
    const/16 v29, 0x0

    const-string v30, "_id"

    const/16 v31, 0x0

    const/16 v32, 0x0

    const-string v33, "25"

    move-object/from16 v27, v20

    invoke-virtual/range {v27 .. v33}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v57

    .restart local v57       #frequentInnerQuery:Ljava/lang/String;
    goto/16 :goto_4

    .line 7023
    .end local v28           #subProjection:[Ljava/lang/String;
    .end local v57           #frequentInnerQuery:Ljava/lang/String;
    .end local v78           #phoneOnly:Z
    .end local v92           #starredInnerQuery:Ljava/lang/String;
    :sswitch_b
    const/4 v4, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7024
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7025
    const-string v12, "_id"

    .line 7026
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_19

    .line 7027
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "times_used DESC,display_name COLLATE LOCALIZED ASC, "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p5

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 7029
    :cond_19
    const-string p5, "times_used DESC,display_name COLLATE LOCALIZED ASC"

    .line 7031
    goto/16 :goto_1

    .line 7035
    :sswitch_c
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7036
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x2

    if-le v4, v6, :cond_3

    .line 7037
    const-string v4, "_id IN (SELECT contact_id FROM raw_contacts WHERE raw_contacts._id IN (SELECT data.raw_contact_id FROM data JOIN mimetypes ON (data.mimetype_id = mimetypes._id) WHERE mimetype_id=? AND data1=(SELECT groups._id FROM groups WHERE title=?)))"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7038
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v6

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v61

    .line 7040
    .local v61, groupMimeTypeId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7041
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v61

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7042
    goto/16 :goto_1

    .line 7047
    .end local v61           #groupMimeTypeId:Ljava/lang/String;
    :sswitch_d
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7052
    :sswitch_e
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7057
    :sswitch_f
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7063
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7068
    :sswitch_10
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 7069
    .restart local v15       #contactId:J
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7070
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7071
    const-string v4, " AND contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7076
    .end local v15           #contactId:J
    :sswitch_11
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 7077
    .restart local v15       #contactId:J
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7078
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7079
    const-string v4, " AND contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7080
    const-string v4, " AND _id=photo_id"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7085
    .end local v15           #contactId:J
    :sswitch_12
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 7086
    .restart local v15       #contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7087
    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7088
    const-string v4, " AND contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7094
    .end local v15           #contactId:J
    :sswitch_13
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v75

    .line 7095
    .restart local v75       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v75 .. v75}, Ljava/util/List;->size()I

    move-result v87

    .line 7096
    .restart local v87       #segmentCount:I
    const/4 v4, 0x4

    move/from16 v0, v87

    if-ge v0, v4, :cond_1a

    .line 7097
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v7, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 7100
    :cond_1a
    const/4 v4, 0x2

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Ljava/lang/String;

    .line 7101
    .restart local v18       #lookupKey:Ljava/lang/String;
    const/4 v4, 0x5

    move/from16 v0, v87

    if-ne v0, v4, :cond_1b

    .line 7102
    const/4 v4, 0x3

    move-object/from16 v0, v75

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 7103
    .restart local v15       #contactId:J
    new-instance v5, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v5}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 7104
    .restart local v5       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-virtual {v0, v5, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7105
    const-string v4, " AND "

    invoke-virtual {v5, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7107
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Landroid/database/sqlite/SQLiteDatabase;

    const-string v14, "contact_id"

    const-string v17, "lookup"

    move-object/from16 v4, p0

    move-object/from16 v7, p1

    move-object/from16 v8, p2

    move-object/from16 v9, p3

    move-object/from16 v10, p4

    move-object/from16 v11, p5

    invoke-direct/range {v4 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 7111
    .restart local v50       #c:Landroid/database/Cursor;
    if-nez v50, :cond_2

    .line 7116
    .end local v5           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v15           #contactId:J
    .end local v50           #c:Landroid/database/Cursor;
    :cond_1b
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7117
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v6

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7119
    const-string v4, " AND contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7124
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v75           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v87           #segmentCount:I
    :sswitch_14
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    goto/16 :goto_1

    .line 7129
    :sswitch_15
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 7130
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7131
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7136
    :sswitch_16
    new-instance v38, Landroid/database/MatrixCursor;

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "max_items"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    move-object/from16 v0, v38

    invoke-direct {v0, v4, v6}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;I)V

    .line 7137
    .local v38, cursor:Landroid/database/MatrixCursor;
    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/Object;

    const/4 v6, 0x0

    const/4 v7, 0x5

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v6

    move-object/from16 v0, v38

    invoke-virtual {v0, v4}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    move-object/from16 v50, v38

    .line 7138
    goto/16 :goto_0

    .line 7142
    .end local v38           #cursor:Landroid/database/MatrixCursor;
    :sswitch_17
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    goto/16 :goto_1

    .line 7147
    :sswitch_18
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 7148
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v94

    check-cast v94, Ljava/lang/String;

    .line 7149
    .local v94, streamItemId:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v94

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7150
    const-string v4, "stream_item_photos.stream_item_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7155
    .end local v94           #streamItemId:Ljava/lang/String;
    :sswitch_19
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 7156
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v94

    check-cast v94, Ljava/lang/String;

    .line 7157
    .restart local v94       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x3

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v96

    check-cast v96, Ljava/lang/String;

    .line 7158
    .local v96, streamItemPhotoId:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v96

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7159
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v94

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7160
    const-string v4, "stream_item_photos.stream_item_id=? AND stream_item_photos._id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7166
    .end local v94           #streamItemId:Ljava/lang/String;
    .end local v96           #streamItemPhotoId:Ljava/lang/String;
    :sswitch_1a
    new-instance v38, Landroid/database/MatrixCursor;

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "display_max_dim"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    const-string v7, "thumbnail_max_dim"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    move-object/from16 v0, v38

    invoke-direct {v0, v4, v6}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;I)V

    .line 7169
    .restart local v38       #cursor:Landroid/database/MatrixCursor;
    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/Object;

    const/4 v6, 0x0

    move-object/from16 v0, p0

    iget v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxDisplayPhotoDim:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v6

    const/4 v6, 0x1

    move-object/from16 v0, p0

    iget v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mMaxThumbnailPhotoDim:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v6

    move-object/from16 v0, v38

    invoke-virtual {v0, v4}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    move-object/from16 v50, v38

    .line 7170
    goto/16 :goto_0

    .line 7174
    .end local v38           #cursor:Landroid/database/MatrixCursor;
    :sswitch_1b
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7175
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id="

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7178
    const-string v4, "remove_duplicate_entries"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v82

    .line 7180
    .local v82, removeDuplicates:Z
    if-eqz v82, :cond_3

    .line 7181
    const-string v12, "contact_id, data1"

    .line 7190
    const-string v48, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 7197
    .end local v82           #removeDuplicates:Z
    :sswitch_1c
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7198
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7199
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7201
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7206
    :sswitch_1d
    const-string v4, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v4}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v99

    .line 7207
    .local v99, typeParam:Ljava/lang/String;
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sDataUsageTypeMap:Ljava/util/Map;

    move-object/from16 v0, v99

    invoke-interface {v4, v0}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Ljava/lang/Integer;

    .line 7208
    .local v11, typeInt:Ljava/lang/Integer;
    if-nez v11, :cond_1c

    .line 7209
    const/4 v4, 0x0

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v11

    .line 7211
    :cond_1c
    const/4 v10, 0x1

    move-object/from16 v6, p0

    move-object/from16 v7, v20

    move-object/from16 v8, p1

    move-object/from16 v9, p2

    invoke-virtual/range {v6 .. v11}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V

    .line 7212
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7214
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x2

    if-le v4, v6, :cond_21

    .line 7215
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v23

    .line 7216
    .restart local v23       #filterParam:Ljava/lang/String;
    new-instance v85, Ljava/lang/StringBuilder;

    invoke-direct/range {v85 .. v85}, Ljava/lang/StringBuilder;-><init>()V

    .line 7217
    .restart local v85       #sb:Ljava/lang/StringBuilder;
    const-string v4, " AND ("

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7219
    const/16 v62, 0x0

    .line 7220
    .local v62, hasCondition:Z
    const/16 v73, 0x0

    .line 7221
    .local v73, orNeeded:Z
    sget-object v4, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->UNSCOPED_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, v23

    invoke-static {v0, v4}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v59

    .line 7223
    .local v59, ftsMatchQuery:Ljava/lang/String;
    invoke-virtual/range {v59 .. v59}, Ljava/lang/String;->length()I

    move-result v4

    if-lez v4, :cond_1d

    .line 7224
    const-string v4, "raw_contact_id IN (SELECT raw_contacts._id FROM search_index JOIN raw_contacts ON (search_index.contact_id=raw_contacts.contact_id) WHERE name MATCH \'"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7231
    move-object/from16 v0, v85

    move-object/from16 v1, v59

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7232
    const-string v4, "\')"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7233
    const/16 v73, 0x1

    .line 7234
    const/16 v62, 0x1

    .line 7237
    :cond_1d
    invoke-static/range {v23 .. v23}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v70

    .line 7238
    .local v70, number:Ljava/lang/String;
    invoke-static/range {v70 .. v70}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_1f

    .line 7239
    if-eqz v73, :cond_1e

    .line 7240
    const-string v4, " OR "

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7242
    :cond_1e
    const-string v4, "_id IN (SELECT DISTINCT data_id FROM phone_lookup WHERE normalized_number LIKE \'"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7246
    move-object/from16 v0, v85

    move-object/from16 v1, v70

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7247
    const-string v4, "%\')"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7248
    const/16 v62, 0x1

    .line 7251
    :cond_1f
    if-nez v62, :cond_20

    .line 7254
    const-string v4, "0"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7256
    :cond_20
    const-string v4, ")"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7257
    move-object/from16 v0, v20

    move-object/from16 v1, v85

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7259
    .end local v23           #filterParam:Ljava/lang/String;
    .end local v59           #ftsMatchQuery:Ljava/lang/String;
    .end local v62           #hasCondition:Z
    .end local v70           #number:Ljava/lang/String;
    .end local v73           #orNeeded:Z
    .end local v85           #sb:Ljava/lang/StringBuilder;
    :cond_21
    const-string v12, "(CASE WHEN data4 IS NOT NULL THEN data4 ELSE data1 END), contact_id"

    .line 7262
    if-nez p5, :cond_3

    .line 7263
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v46

    .line 7264
    .local v46, accountPromotionSortOrder:Ljava/lang/String;
    invoke-static/range {v46 .. v46}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_22

    .line 7265
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v46

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ", "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 7267
    :cond_22
    const-string p5, "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

    goto/16 :goto_1

    .line 7274
    .end local v11           #typeInt:Ljava/lang/Integer;
    .end local v46           #accountPromotionSortOrder:Ljava/lang/String;
    .end local v99           #typeParam:Ljava/lang/String;
    :sswitch_1e
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7275
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7278
    const-string v4, "remove_duplicate_entries"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v82

    .line 7280
    .restart local v82       #removeDuplicates:Z
    if-eqz v82, :cond_3

    .line 7281
    const-string v12, "contact_id, data1"

    .line 7284
    const-string v48, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 7291
    .end local v82           #removeDuplicates:Z
    :sswitch_1f
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7292
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7293
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " AND "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "_id"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "=?"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7300
    :sswitch_20
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7301
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7303
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x2

    if-le v4, v6, :cond_23

    .line 7304
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v56

    .line 7305
    .local v56, email:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v56

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->extractAddressFromEmailAddress(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v47

    .line 7306
    .local v47, address:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v47

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7307
    const-string v4, " AND UPPER(data1)=UPPER(?)"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7310
    .end local v47           #address:Ljava/lang/String;
    .end local v56           #email:Ljava/lang/String;
    :cond_23
    if-nez p5, :cond_3

    .line 7311
    const-string p5, "(contact_id IN default_directory) DESC"

    goto/16 :goto_1

    .line 7318
    :sswitch_21
    const-string v4, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v4}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v99

    .line 7319
    .restart local v99       #typeParam:Ljava/lang/String;
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sDataUsageTypeMap:Ljava/util/Map;

    move-object/from16 v0, v99

    invoke-interface {v4, v0}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Ljava/lang/Integer;

    .line 7320
    .restart local v11       #typeInt:Ljava/lang/Integer;
    if-nez v11, :cond_24

    .line 7321
    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v11

    .line 7323
    :cond_24
    const/4 v10, 0x1

    move-object/from16 v6, p0

    move-object/from16 v7, v20

    move-object/from16 v8, p1

    move-object/from16 v9, p2

    invoke-virtual/range {v6 .. v11}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V

    .line 7324
    const/16 v23, 0x0

    .line 7326
    .restart local v23       #filterParam:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x3

    if-le v4, v6, :cond_25

    .line 7327
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v23

    .line 7328
    invoke-static/range {v23 .. v23}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_25

    .line 7329
    const/16 v23, 0x0

    .line 7333
    :cond_25
    if-nez v23, :cond_26

    .line 7335
    const-string v4, " AND 0"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7367
    :goto_5
    const-string v12, "data1,contact_id"

    .line 7368
    if-nez p5, :cond_3

    .line 7369
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v46

    .line 7370
    .restart local v46       #accountPromotionSortOrder:Ljava/lang/String;
    invoke-static/range {v46 .. v46}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_28

    .line 7371
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v46

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ", "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 7337
    .end local v46           #accountPromotionSortOrder:Ljava/lang/String;
    :cond_26
    new-instance v85, Ljava/lang/StringBuilder;

    invoke-direct/range {v85 .. v85}, Ljava/lang/StringBuilder;-><init>()V

    .line 7338
    .restart local v85       #sb:Ljava/lang/StringBuilder;
    const-string v4, " AND _id IN ("

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7339
    const-string v4, "SELECT _id FROM data WHERE mimetype_id="

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7343
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v6

    move-object/from16 v0, v85

    invoke-virtual {v0, v6, v7}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 7344
    const-string v4, " AND data1 LIKE "

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7345
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const/16 v6, 0x25

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v85

    invoke-static {v0, v4}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7346
    const-string v4, "@"

    move-object/from16 v0, v23

    invoke-virtual {v0, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_27

    .line 7347
    const-string v4, " UNION SELECT _id FROM data WHERE +mimetype_id="

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7351
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v6

    move-object/from16 v0, v85

    invoke-virtual {v0, v6, v7}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 7352
    const-string v4, " AND raw_contact_id IN (SELECT raw_contacts._id FROM search_index JOIN raw_contacts ON (search_index.contact_id=raw_contacts.contact_id) WHERE name MATCH \'"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7359
    sget-object v4, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->UNSCOPED_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, v23

    invoke-static {v0, v4}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v59

    .line 7361
    .restart local v59       #ftsMatchQuery:Ljava/lang/String;
    move-object/from16 v0, v85

    move-object/from16 v1, v59

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7362
    const-string v4, "\')"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7364
    .end local v59           #ftsMatchQuery:Ljava/lang/String;
    :cond_27
    const-string v4, ")"

    move-object/from16 v0, v85

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7365
    move-object/from16 v0, v20

    move-object/from16 v1, v85

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_5

    .line 7373
    .end local v85           #sb:Ljava/lang/StringBuilder;
    .restart local v46       #accountPromotionSortOrder:Ljava/lang/String;
    :cond_28
    const-string p5, "starred DESC, in_visible_group DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, display_name, contact_id, is_super_primary DESC, is_primary DESC"

    goto/16 :goto_1

    .line 7380
    .end local v11           #typeInt:Ljava/lang/Integer;
    .end local v23           #filterParam:Ljava/lang/String;
    .end local v46           #accountPromotionSortOrder:Ljava/lang/String;
    .end local v99           #typeParam:Ljava/lang/String;
    :sswitch_22
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7381
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForStructuredPostal()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7384
    const-string v4, "remove_duplicate_entries"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v82

    .line 7386
    .restart local v82       #removeDuplicates:Z
    if-eqz v82, :cond_3

    .line 7387
    const-string v12, "contact_id, data1"

    .line 7390
    const-string v48, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 7397
    .end local v82           #removeDuplicates:Z
    :sswitch_23
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7398
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7399
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND mimetype_id = "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForStructuredPostal()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7401
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7407
    :sswitch_24
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 7413
    :sswitch_25
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v80

    .line 7414
    .local v80, rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7415
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7416
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7422
    .end local v80           #rawContactId:J
    :sswitch_26
    const/16 v4, 0x7d4

    move/from16 v0, v68

    if-ne v0, v4, :cond_29

    const/16 v86, 0x1

    .line 7423
    .local v86, segment:I
    :goto_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    move/from16 v0, v86

    invoke-interface {v4, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v80

    .line 7424
    .restart local v80       #rawContactId:J
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7425
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7426
    const-string v4, " AND raw_contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7422
    .end local v80           #rawContactId:J
    .end local v86           #segment:I
    :cond_29
    const/16 v86, 0x2

    goto :goto_6

    .line 7431
    :sswitch_27
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v80

    .line 7432
    .restart local v80       #rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 7433
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7434
    const-string v4, "raw_contact_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7439
    .end local v80           #rawContactId:J
    :sswitch_28
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v80

    .line 7440
    .restart local v80       #rawContactId:J
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x3

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v94

    .line 7441
    .local v94, streamItemId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 7442
    invoke-static/range {v94 .. v95}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7443
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7444
    const-string v4, "raw_contact_id=? AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7450
    .end local v80           #rawContactId:J
    .end local v94           #streamItemId:J
    :sswitch_29
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x2

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v80

    .line 7451
    .restart local v80       #rawContactId:J
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7452
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7453
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7459
    .end local v80           #rawContactId:J
    :sswitch_2a
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    goto/16 :goto_1

    .line 7465
    :sswitch_2b
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7466
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7467
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7472
    :sswitch_2c
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7473
    const-string v4, " AND _id=photo_id"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7479
    :sswitch_2d
    const/16 p3, 0x0

    .line 7480
    const/16 p4, 0x0

    .line 7481
    const-string v4, "sip"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-virtual {v0, v4, v6}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v4

    if-eqz v4, :cond_2c

    .line 7482
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_2a

    .line 7485
    const-string p5, "display_name ASC"

    .line 7488
    :cond_2a
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x1

    if-le v4, v6, :cond_2b

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/net/Uri;->decode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v88

    .line 7490
    .local v88, sipAddress:Ljava/lang/String;
    :goto_7
    const/16 v32, 0x0

    const/16 v33, 0x0

    const/16 v34, 0x1

    move-object/from16 v29, p0

    move-object/from16 v30, v20

    move-object/from16 v31, p1

    invoke-virtual/range {v29 .. v34}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZ)V

    .line 7491
    new-instance v85, Ljava/lang/StringBuilder;

    invoke-direct/range {v85 .. v85}, Ljava/lang/StringBuilder;-><init>()V

    .line 7492
    .restart local v85       #sb:Ljava/lang/StringBuilder;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v85

    move-object/from16 v1, v88

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->buildSipContactQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7493
    invoke-virtual/range {v85 .. v85}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p3

    .line 7494
    goto/16 :goto_1

    .line 7488
    .end local v85           #sb:Ljava/lang/StringBuilder;
    .end local v88           #sipAddress:Ljava/lang/String;
    :cond_2b
    const-string v88, ""

    goto :goto_7

    .line 7495
    :cond_2c
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_2d

    .line 7498
    const-string p5, " length(lookup.normalized_number) DESC"

    .line 7501
    :cond_2d
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x1

    if-le v4, v6, :cond_2e

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v70

    .line 7503
    .restart local v70       #number:Ljava/lang/String;
    :goto_8
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getCurrentCountryIso()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v70

    invoke-static {v0, v4}, Landroid/telephony/PhoneNumberUtils;->formatNumberToE164(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v71

    .line 7505
    .local v71, numberE164:Ljava/lang/String;
    invoke-static/range {v70 .. v70}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v69

    .line 7507
    .local v69, normalizedNumber:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v20

    move-object/from16 v1, v69

    move-object/from16 v2, v71

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->buildPhoneLookupAndContactQuery(Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;Ljava/lang/String;)V

    .line 7509
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7501
    .end local v69           #normalizedNumber:Ljava/lang/String;
    .end local v70           #number:Ljava/lang/String;
    .end local v71           #numberE164:Ljava/lang/String;
    :cond_2e
    const-string v70, ""

    goto :goto_8

    .line 7515
    :sswitch_2e
    const-string v4, "view_groups"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7516
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7517
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 7522
    :sswitch_2f
    const-string v4, "view_groups"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7523
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7524
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7525
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7530
    :sswitch_30
    const-string v4, "return_group_count_per_account"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v83

    .line 7533
    .local v83, returnGroupCountPerAccount:Z
    const-string v98, "view_groups AS groups"

    .line 7534
    .local v98, tables:Ljava/lang/String;
    const-string v4, "summ_count"

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->hasColumn([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_2f

    .line 7535
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v98

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " LEFT OUTER JOIN (SELECT data.data1 AS member_count_group_id, COUNT(data.raw_contact_id) AS group_member_count FROM data WHERE data.mimetype_id = (SELECT _id FROM mimetypes WHERE mimetypes.mimetype = \'vnd.android.cursor.item/group_membership\')GROUP BY member_count_group_id) AS member_count_table ON (groups._id = member_count_table.member_count_group_id)"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v98

    .line 7537
    :cond_2f
    move-object/from16 v0, v20

    move-object/from16 v1, v98

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7538
    if-eqz v83, :cond_30

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMapWithGroupCountPerAccount:Lcom/android/providers/contacts/ProjectionMap;

    :goto_9
    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7541
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7542
    const-string v12, "groups._id"

    .line 7543
    goto/16 :goto_1

    .line 7538
    :cond_30
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    goto :goto_9

    .line 7547
    .end local v83           #returnGroupCountPerAccount:Z
    .end local v98           #tables:Ljava/lang/String;
    :sswitch_31
    const-string v4, "agg_exceptions"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7548
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7553
    :sswitch_32
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v15

    .line 7554
    .restart local v15       #contactId:J
    const/16 v35, 0x0

    .line 7555
    .local v35, filter:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    const/4 v6, 0x3

    if-le v4, v6, :cond_31

    .line 7556
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x3

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v35

    .end local v35           #filter:Ljava/lang/String;
    check-cast v35, Ljava/lang/String;

    .line 7559
    .restart local v35       #filter:Ljava/lang/String;
    :cond_31
    if-eqz v13, :cond_32

    .line 7560
    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v34

    .line 7565
    .local v34, maxSuggestions:I
    :goto_a
    const/16 v36, 0x0

    .line 7566
    .local v36, parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    const-string v4, "query"

    move-object/from16 v0, p1

    invoke-virtual {v0, v4}, Landroid/net/Uri;->getQueryParameters(Ljava/lang/String;)Ljava/util/List;

    move-result-object v79

    .line 7567
    .local v79, query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    if-eqz v79, :cond_34

    invoke-interface/range {v79 .. v79}, Ljava/util/List;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_34

    .line 7568
    new-instance v36, Ljava/util/ArrayList;

    .end local v36           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    invoke-interface/range {v79 .. v79}, Ljava/util/List;->size()I

    move-result v4

    move-object/from16 v0, v36

    invoke-direct {v0, v4}, Ljava/util/ArrayList;-><init>(I)V

    .line 7569
    .restart local v36       #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    invoke-interface/range {v79 .. v79}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v63

    .local v63, i$:Ljava/util/Iterator;
    :goto_b
    invoke-interface/range {v63 .. v63}, Ljava/util/Iterator;->hasNext()Z

    move-result v4

    if-eqz v4, :cond_34

    invoke-interface/range {v63 .. v63}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v74

    check-cast v74, Ljava/lang/String;

    .line 7570
    .local v74, parameter:Ljava/lang/String;
    const/16 v4, 0x3a

    move-object/from16 v0, v74

    invoke-virtual {v0, v4}, Ljava/lang/String;->indexOf(I)I

    move-result v72

    .line 7571
    .local v72, offset:I
    const/4 v4, -0x1

    move/from16 v0, v72

    if-ne v0, v4, :cond_33

    new-instance v4, Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;

    const-string v6, "name"

    move-object/from16 v0, v74

    invoke-direct {v4, v6, v0}, Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    :goto_c
    move-object/from16 v0, v36

    invoke-virtual {v0, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_b

    .line 7562
    .end local v34           #maxSuggestions:I
    .end local v36           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    .end local v63           #i$:Ljava/util/Iterator;
    .end local v72           #offset:I
    .end local v74           #parameter:Ljava/lang/String;
    .end local v79           #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :cond_32
    const/16 v34, 0x5

    .restart local v34       #maxSuggestions:I
    goto :goto_a

    .line 7571
    .restart local v36       #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    .restart local v63       #i$:Ljava/util/Iterator;
    .restart local v72       #offset:I
    .restart local v74       #parameter:Ljava/lang/String;
    .restart local v79       #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :cond_33
    new-instance v4, Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;

    const/4 v6, 0x0

    move-object/from16 v0, v74

    move/from16 v1, v72

    invoke-virtual {v0, v6, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v6

    add-int/lit8 v7, v72, 0x1

    move-object/from16 v0, v74

    invoke-virtual {v0, v7}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v7

    invoke-direct {v4, v6, v7}, Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_c

    .line 7581
    .end local v63           #i$:Ljava/util/Iterator;
    .end local v72           #offset:I
    .end local v74           #parameter:Ljava/lang/String;
    :cond_34
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7583
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v29

    check-cast v29, Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v30, v20

    move-object/from16 v31, p2

    move-wide/from16 v32, v15

    invoke-virtual/range {v29 .. v36}, Lcom/android/providers/contacts/ContactAggregator;->queryAggregationSuggestions(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;JILjava/lang/String;Ljava/util/ArrayList;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7588
    .end local v15           #contactId:J
    .end local v34           #maxSuggestions:I
    .end local v35           #filter:Ljava/lang/String;
    .end local v36           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactAggregator$AggregationSuggestionParameter;>;"
    .end local v79           #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :sswitch_33
    const-string v4, "settings"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7589
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7590
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7594
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v6

    invoke-static {v6, v7}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v60

    .line 7596
    .local v60, groupMembershipMimetypeId:Ljava/lang/String;
    if-eqz p2, :cond_35

    move-object/from16 v0, p2

    array-length v4, v0

    if-eqz v4, :cond_35

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v6, 0x1

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v8, "summ_count"

    aput-object v8, v6, v7

    move-object/from16 v0, p2

    invoke-virtual {v4, v0, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_35

    .line 7598
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v60

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7600
    :cond_35
    if-eqz p2, :cond_3

    move-object/from16 v0, p2

    array-length v4, v0

    if-eqz v4, :cond_3

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v6, 0x1

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v8, "summ_phones"

    aput-object v8, v6, v7

    move-object/from16 v0, p2

    invoke-virtual {v4, v0, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_3

    .line 7603
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v60

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    goto/16 :goto_1

    .line 7611
    .end local v60           #groupMembershipMimetypeId:Ljava/lang/String;
    :sswitch_34
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7616
    :sswitch_35
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V

    .line 7617
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7618
    const-string v4, "data._id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7623
    :sswitch_36
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    invoke-virtual {v6, v4, v0, v1, v13}, Lcom/android/providers/contacts/GlobalSearchSupport;->handleSearchSuggestionsQuery(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7628
    :sswitch_37
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v18

    .line 7629
    .restart local v18       #lookupKey:Ljava/lang/String;
    const-string v4, "suggest_intent_extra_data"

    move-object/from16 v0, p1

    invoke-static {v0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v35

    .line 7631
    .restart local v35       #filter:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p2

    move-object/from16 v1, v18

    move-object/from16 v2, v35

    invoke-virtual {v6, v4, v0, v1, v2}, Lcom/android/providers/contacts/GlobalSearchSupport;->handleSearchShortcutRefresh(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7636
    .end local v18           #lookupKey:Ljava/lang/String;
    .end local v35           #filter:Ljava/lang/String;
    :sswitch_38
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7642
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7646
    :sswitch_39
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7652
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7653
    const-string v4, "has_phone_number=1"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7657
    :sswitch_3a
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7663
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7664
    const-string v4, "starred=1"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7668
    :sswitch_3b
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, " "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "view_contacts"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7674
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sLiveFoldersProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7675
    const-string v4, "_id IN (SELECT contact_id FROM raw_contacts WHERE raw_contacts._id IN (SELECT data.raw_contact_id FROM data JOIN mimetypes ON (data.mimetype_id = mimetypes._id) WHERE mimetype_id=? AND data1=(SELECT groups._id FROM groups WHERE title=?)))"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7676
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v6

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v61

    .line 7678
    .restart local v61       #groupMimeTypeId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7679
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v61

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7680
    goto/16 :goto_1

    .line 7684
    .end local v61           #groupMimeTypeId:Ljava/lang/String;
    :sswitch_3c
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 7689
    :sswitch_3d
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v80

    .line 7690
    .restart local v80       #rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    move-object/from16 v2, p1

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7691
    invoke-static/range {v80 .. v81}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7692
    const-string v4, " AND _id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7697
    .end local v80           #rawContactId:J
    :sswitch_3e
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->queryProviderStatus(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7701
    :sswitch_3f
    const-string v4, "directories"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7702
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7707
    :sswitch_40
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v64

    .line 7708
    .local v64, id:J
    const-string v4, "directories"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7709
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7710
    invoke-static/range {v64 .. v65}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 7711
    const-string v4, "_id=?"

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 7716
    .end local v64           #id:J
    :sswitch_41
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->completeName(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7723
    :sswitch_42
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->pcscSyncInfoTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7727
    :sswitch_43
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7728
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7733
    :sswitch_44
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7734
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7739
    :sswitch_45
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7740
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7745
    :sswitch_46
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->csFriendTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7746
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->csFriendProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7747
    const/4 v4, 0x1

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    goto/16 :goto_1

    .line 7753
    :sswitch_47
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7754
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7757
    :sswitch_48
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingTable:Ljava/lang/String;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7758
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    move-object/from16 v0, v20

    invoke-virtual {v0, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 7762
    :sswitch_49
    const-string v4, "displayName"

    move-object/from16 v0, p1

    invoke-static {v0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v54

    .line 7763
    .local v54, displayName:Ljava/lang/String;
    if-nez v54, :cond_36

    .line 7764
    const-string v4, "data1"

    move-object/from16 v0, p1

    invoke-static {v0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v54

    .line 7766
    :cond_36
    move-object/from16 v0, p0

    move-object/from16 v1, v54

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->parseName(Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7770
    .end local v54           #displayName:Ljava/lang/String;
    :sswitch_4a
    const-string v4, "data1"

    move-object/from16 v0, p1

    invoke-static {v0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v54

    .line 7771
    .restart local v54       #displayName:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v54

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->parseMainName(Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 7775
    .end local v54           #displayName:Ljava/lang/String;
    :sswitch_4b
    const/16 v4, 0xa

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v84, v0

    const/4 v4, 0x0

    const-string v6, "data2"

    aput-object v6, v84, v4

    const/4 v4, 0x1

    const-string v6, "data5"

    aput-object v6, v84, v4

    const/4 v4, 0x2

    const-string v6, "data3"

    aput-object v6, v84, v4

    const/4 v4, 0x3

    const-string v6, "data4"

    aput-object v6, v84, v4

    const/4 v4, 0x4

    const-string v6, "data6"

    aput-object v6, v84, v4

    const/4 v4, 0x5

    const-string v6, "data10"

    aput-object v6, v84, v4

    const/4 v4, 0x6

    const-string v6, "data8"

    aput-object v6, v84, v4

    const/4 v4, 0x7

    const-string v6, "data7"

    aput-object v6, v84, v4

    const/16 v4, 0x8

    const-string v6, "data9"

    aput-object v6, v84, v4

    const/16 v4, 0x9

    const-string v6, "data11"

    aput-object v6, v84, v4

    .line 7787
    .local v84, sStructuredNameColumns:[Ljava/lang/String;
    new-instance v102, Landroid/content/ContentValues;

    invoke-direct/range {v102 .. v102}, Landroid/content/ContentValues;-><init>()V

    .line 7788
    .local v102, values:Landroid/content/ContentValues;
    move-object/from16 v49, v84

    .local v49, arr$:[Ljava/lang/String;
    move-object/from16 v0, v49

    array-length v0, v0

    move/from16 v66, v0

    .local v66, len$:I
    const/16 v63, 0x0

    .local v63, i$:I
    :goto_d
    move/from16 v0, v63

    move/from16 v1, v66

    if-ge v0, v1, :cond_38

    aget-object v51, v49, v63

    .line 7789
    .local v51, column:Ljava/lang/String;
    move-object/from16 v0, p1

    move-object/from16 v1, v51

    invoke-static {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v101

    .line 7790
    .local v101, value:Ljava/lang/String;
    invoke-static/range {v101 .. v101}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_37

    .line 7791
    move-object/from16 v0, v102

    move-object/from16 v1, v51

    move-object/from16 v2, v101

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 7788
    :cond_37
    add-int/lit8 v63, v63, 0x1

    goto :goto_d

    .line 7794
    .end local v51           #column:Ljava/lang/String;
    .end local v101           #value:Ljava/lang/String;
    :cond_38
    move-object/from16 v0, p0

    move-object/from16 v1, v102

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->joinName(Landroid/content/ContentValues;)Landroid/database/Cursor;

    move-result-object v50

    goto/16 :goto_0

    .line 6732
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_1
        0x3e9 -> :sswitch_2
        0x3ea -> :sswitch_3
        0x3eb -> :sswitch_3
        0x3ec -> :sswitch_10
        0x3ed -> :sswitch_9
        0x3ee -> :sswitch_a
        0x3ef -> :sswitch_a
        0x3f0 -> :sswitch_c
        0x3f1 -> :sswitch_11
        0x3f2 -> :sswitch_4
        0x3f3 -> :sswitch_4
        0x3f7 -> :sswitch_7
        0x3f8 -> :sswitch_8
        0x3f9 -> :sswitch_4
        0x3fa -> :sswitch_4
        0x3fb -> :sswitch_12
        0x3fc -> :sswitch_13
        0x3fd -> :sswitch_13
        0x3fe -> :sswitch_5
        0x3ff -> :sswitch_6
        0x400 -> :sswitch_6
        0x401 -> :sswitch_b
        0x7d2 -> :sswitch_24
        0x7d3 -> :sswitch_25
        0x7d4 -> :sswitch_26
        0x7d5 -> :sswitch_3d
        0x7d7 -> :sswitch_27
        0x7d8 -> :sswitch_28
        0xbb8 -> :sswitch_2a
        0xbb9 -> :sswitch_2b
        0xbba -> :sswitch_1b
        0xbbb -> :sswitch_1c
        0xbbc -> :sswitch_1d
        0xbbd -> :sswitch_1e
        0xbbe -> :sswitch_1f
        0xbbf -> :sswitch_20
        0xbc0 -> :sswitch_21
        0xbc1 -> :sswitch_22
        0xbc2 -> :sswitch_23
        0xfa0 -> :sswitch_2d
        0x1770 -> :sswitch_31
        0x1b58 -> :sswitch_34
        0x1b59 -> :sswitch_35
        0x1f40 -> :sswitch_32
        0x2328 -> :sswitch_33
        0x2710 -> :sswitch_2e
        0x2711 -> :sswitch_2f
        0x2713 -> :sswitch_30
        0x2af8 -> :sswitch_0
        0x2afa -> :sswitch_0
        0x2ee1 -> :sswitch_36
        0x2ee2 -> :sswitch_37
        0x36b0 -> :sswitch_38
        0x36b1 -> :sswitch_39
        0x36b2 -> :sswitch_3a
        0x36b3 -> :sswitch_3b
        0x3a99 -> :sswitch_3c
        0x3e81 -> :sswitch_3e
        0x4269 -> :sswitch_3f
        0x426a -> :sswitch_40
        0x4650 -> :sswitch_41
        0x4a38 -> :sswitch_d
        0x4a39 -> :sswitch_e
        0x4a3a -> :sswitch_2a
        0x4a3b -> :sswitch_2b
        0x4a3c -> :sswitch_f
        0x4a3d -> :sswitch_24
        0x4a3e -> :sswitch_25
        0x4a3f -> :sswitch_26
        0x4a40 -> :sswitch_29
        0x4a41 -> :sswitch_34
        0x4a42 -> :sswitch_3c
        0x4a43 -> :sswitch_2c
        0x5208 -> :sswitch_14
        0x5209 -> :sswitch_17
        0x520a -> :sswitch_15
        0x520b -> :sswitch_18
        0x520c -> :sswitch_19
        0x520d -> :sswitch_16
        0x55f1 -> :sswitch_1a
        0xc738 -> :sswitch_43
        0xc739 -> :sswitch_42
        0xcb20 -> :sswitch_44
        0xcf08 -> :sswitch_45
        0xd2f0 -> :sswitch_46
        0xd2f1 -> :sswitch_49
        0xd2f2 -> :sswitch_4a
        0xd2f3 -> :sswitch_4b
        0xd6d8 -> :sswitch_47
        0xd6d9 -> :sswitch_48
    .end sparse-switch
.end method

.method protected refineDataValue(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)V
    .locals 11
    .parameter "db"
    .parameter "data"

    .prologue
    const/4 v10, 0x0

    .line 10605
    const-string v8, "raw_contact_id"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    .line 10606
    .local v3, hasRawContactId:Z
    const-string v8, "account_name"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 10607
    .local v0, accountName:Ljava/lang/String;
    const-string v8, "account_type"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 10608
    .local v1, accountType:Ljava/lang/String;
    const-string v8, "sourceid"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    .line 10610
    .local v6, sourceId:Ljava/lang/String;
    if-nez v3, :cond_2

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_2

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_2

    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_2

    .line 10615
    const-string v7, "SELECT _id from raw_contacts WHERE account_name = ? AND account_type = ? AND sourceid = ? "

    .line 10618
    .local v7, sql:Ljava/lang/String;
    const-string v8, "SELECT _id from raw_contacts WHERE account_name = ? AND account_type = ? AND sourceid = ? "

    const/4 v9, 0x3

    new-array v9, v9, [Ljava/lang/String;

    aput-object v0, v9, v10

    const/4 v10, 0x1

    aput-object v1, v9, v10

    const/4 v10, 0x2

    aput-object v6, v9, v10

    invoke-virtual {p1, v8, v9}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v2

    .line 10619
    .local v2, c:Landroid/database/Cursor;
    if-eqz v2, :cond_1

    .line 10621
    :try_start_0
    invoke-interface {v2}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v8

    if-eqz v8, :cond_0

    .line 10622
    const/4 v8, 0x0

    invoke-interface {v2, v8}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v4

    .line 10623
    .local v4, rawContactId:J
    const-string v8, "raw_contact_id"

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v9

    invoke-virtual {p2, v8, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 10626
    .end local v4           #rawContactId:J
    :cond_0
    invoke-interface {v2}, Landroid/database/Cursor;->close()V

    .line 10629
    :cond_1
    const-string v8, "account_name"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 10630
    const-string v8, "account_type"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 10631
    const-string v8, "sourceid"

    invoke-virtual {p2, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 10633
    .end local v2           #c:Landroid/database/Cursor;
    .end local v7           #sql:Ljava/lang/String;
    :cond_2
    return-void

    .line 10626
    .restart local v2       #c:Landroid/database/Cursor;
    .restart local v7       #sql:Ljava/lang/String;
    :catchall_0
    move-exception v8

    invoke-interface {v2}, Landroid/database/Cursor;->close()V

    throw v8
.end method

.method protected removeBackgroundTask(I)V
    .locals 1
    .parameter "task"

    .prologue
    .line 1936
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v0, p1}, Landroid/os/Handler;->removeMessages(I)V

    .line 1937
    return-void
.end method

.method public resetDirectoryCache()V
    .locals 2

    .prologue
    .line 6696
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    monitor-enter v1

    .line 6697
    const/4 v0, 0x0

    :try_start_0
    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 6698
    monitor-exit v1

    .line 6699
    return-void

    .line 6698
    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0
.end method

.method protected resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;
    .locals 13
    .parameter "uri"
    .parameter "values"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/lang/IllegalArgumentException;
        }
    .end annotation

    .prologue
    const/4 v9, 0x1

    const/4 v10, 0x0

    .line 3110
    const-string v11, "account_name"

    invoke-static {p1, v11}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 3111
    .local v1, accountName:Ljava/lang/String;
    const-string v11, "account_type"

    invoke-static {p1, v11}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 3112
    .local v2, accountType:Ljava/lang/String;
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    invoke-static {v2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v12

    xor-int v3, v11, v12

    .line 3114
    .local v3, partialUri:Z
    const-string v11, "account_name"

    invoke-virtual {p2, v11}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 3115
    .local v7, valueAccountName:Ljava/lang/String;
    const-string v11, "account_type"

    invoke-virtual {p2, v11}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    .line 3116
    .local v8, valueAccountType:Ljava/lang/String;
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v12

    xor-int v4, v11, v12

    .line 3119
    .local v4, partialValues:Z
    if-nez v3, :cond_0

    if-eqz v4, :cond_1

    .line 3121
    :cond_0
    new-instance v10, Ljava/lang/IllegalArgumentException;

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v11, "Must specify both or neither of ACCOUNT_NAME and ACCOUNT_TYPE"

    invoke-virtual {v9, v11, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v9

    invoke-direct {v10, v9}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v10

    .line 3127
    :cond_1
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_2

    move v5, v9

    .line 3128
    .local v5, validUri:Z
    :goto_0
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_3

    move v6, v9

    .line 3130
    .local v6, validValues:Z
    :goto_1
    if-eqz v6, :cond_5

    if-eqz v5, :cond_5

    .line 3132
    invoke-static {v1, v7}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_4

    invoke-static {v2, v8}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_4

    move v0, v9

    .line 3134
    .local v0, accountMatch:Z
    :goto_2
    if-nez v0, :cond_6

    .line 3135
    new-instance v10, Ljava/lang/IllegalArgumentException;

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v11, "When both specified, ACCOUNT_NAME and ACCOUNT_TYPE must match"

    invoke-virtual {v9, v11, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v9

    invoke-direct {v10, v9}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v10

    .end local v0           #accountMatch:Z
    .end local v5           #validUri:Z
    .end local v6           #validValues:Z
    :cond_2
    move v5, v10

    .line 3127
    goto :goto_0

    .restart local v5       #validUri:Z
    :cond_3
    move v6, v10

    .line 3128
    goto :goto_1

    .restart local v6       #validValues:Z
    :cond_4
    move v0, v10

    .line 3132
    goto :goto_2

    .line 3138
    :cond_5
    if-eqz v5, :cond_9

    .line 3140
    const-string v9, "account_name"

    invoke-virtual {p2, v9, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3141
    const-string v9, "account_type"

    invoke-virtual {p2, v9, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3150
    :cond_6
    :goto_3
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    if-eqz v9, :cond_7

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v9, v9, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v9

    if-eqz v9, :cond_7

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v9, v9, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v9

    if-nez v9, :cond_8

    .line 3153
    :cond_7
    new-instance v9, Landroid/accounts/Account;

    invoke-direct {v9, v1, v2}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    iput-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    .line 3156
    :cond_8
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    :goto_4
    return-object v9

    .line 3142
    :cond_9
    if-eqz v6, :cond_a

    .line 3143
    move-object v1, v7

    .line 3144
    move-object v2, v8

    goto :goto_3

    .line 3146
    :cond_a
    const/4 v9, 0x0

    goto :goto_4
.end method

.method protected resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;
    .locals 5
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 3166
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 3167
    .local v0, account:Landroid/accounts/Account;
    const/4 v1, 0x0

    .line 3168
    .local v1, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    if-eqz v0, :cond_0

    .line 3169
    const-string v3, "data_set"

    invoke-static {p1, v3}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 3170
    .local v2, dataSet:Ljava/lang/String;
    if-nez v2, :cond_1

    .line 3171
    const-string v3, "data_set"

    invoke-virtual {p2, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 3175
    :goto_0
    new-instance v1, Lcom/android/providers/contacts/AccountWithDataSet;

    .end local v1           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    iget-object v3, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    iget-object v4, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-direct {v1, v3, v4, v2}, Lcom/android/providers/contacts/AccountWithDataSet;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    .line 3177
    .end local v2           #dataSet:Ljava/lang/String;
    .restart local v1       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :cond_0
    return-object v1

    .line 3173
    .restart local v2       #dataSet:Ljava/lang/String;
    :cond_1
    const-string v3, "data_set"

    invoke-virtual {p2, v3, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method protected scheduleBackgroundTask(I)V
    .locals 1
    .parameter "task"

    .prologue
    .line 1948
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v0, p1}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    .line 1949
    return-void
.end method

.method protected scheduleBackgroundTask(ILjava/lang/Object;)V
    .locals 2
    .parameter "task"
    .parameter "arg"

    .prologue
    .line 1952
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v1, p1, p2}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/os/Handler;->sendMessage(Landroid/os/Message;)Z

    .line 1953
    return-void
.end method

.method protected scheduleBackgroundTaskDelayed(IJ)V
    .locals 1
    .parameter "task"
    .parameter "delayMillis"

    .prologue
    .line 1939
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v0, p1, p2, p3}, Landroid/os/Handler;->sendEmptyMessageDelayed(IJ)Z

    .line 1940
    return-void
.end method

.method protected scheduleBackgroundTaskDelayed(ILjava/lang/Object;J)V
    .locals 2
    .parameter "task"
    .parameter "arg"
    .parameter "delayMillis"

    .prologue
    .line 1943
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v1, p1, p2}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;

    move-result-object v1

    invoke-virtual {v0, v1, p3, p4}, Landroid/os/Handler;->sendMessageDelayed(Landroid/os/Message;J)Z

    .line 1944
    return-void
.end method

.method protected setProviderStatus(I)V
    .locals 4
    .parameter "status"

    .prologue
    .line 2943
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eq v0, p1, :cond_0

    .line 2944
    iput p1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 2945
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract$ProviderStatus;->CONTENT_URI:Landroid/net/Uri;

    const/4 v2, 0x0

    const/4 v3, 0x0

    invoke-virtual {v0, v1, v2, v3}, Landroid/content/ContentResolver;->notifyChange(Landroid/net/Uri;Landroid/database/ContentObserver;Z)V

    .line 2947
    :cond_0
    return-void
.end method

.method protected setRawContactDirty(J)V
    .locals 1
    .parameter "rawContactId"

    .prologue
    .line 9442
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, p1, p2}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V

    .line 9443
    return-void
.end method

.method protected setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V
    .locals 2
    .parameter "qb"
    .parameter "projection"

    .prologue
    .line 8627
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 8628
    .local v0, sb:Ljava/lang/StringBuilder;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getDataView()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8632
    const-string v1, " data"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8633
    const-string v1, "data._id"

    invoke-virtual {p0, v0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8634
    const-string v1, "data._id"

    invoke-virtual {p0, v0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8636
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8637
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStatusUpdatesProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8638
    return-void
.end method

.method protected setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 1
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 8283
    const/4 v0, 0x0

    invoke-virtual {p0, p1, p2, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 8284
    return-void
.end method

.method protected setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V
    .locals 5
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "includeDataUsageStat"

    .prologue
    .line 8293
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 8294
    .local v0, sb:Ljava/lang/StringBuilder;
    if-eqz p4, :cond_0

    .line 8295
    const-string v1, "view_data_usage_stat AS data_usage_stat"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8296
    const-string v1, " INNER JOIN "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8298
    :cond_0
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, " "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "view_contacts"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8306
    if-eqz p4, :cond_1

    .line 8307
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, " ON ("

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "data_usage_stat.times_used > 0"

    aput-object v4, v2, v3

    const/4 v3, 0x1

    const-string v4, "contact_id=view_contacts._id"

    aput-object v4, v2, v3

    invoke-static {v2}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ")"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8314
    :cond_1
    const-string v1, "_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8315
    const-string v1, "status_update_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8316
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8317
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8318
    return-void
.end method

.method protected setTablesAndProjectionMapForContactsWithSnippet(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;JZ)V
    .locals 6
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "filter"
    .parameter "directoryId"
    .parameter "deferredSnippeting"

    .prologue
    .line 8327
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    .line 8328
    .local v1, sb:Ljava/lang/StringBuilder;
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v2, " "

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v2, "view_contacts"

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8336
    if-eqz p4, :cond_0

    .line 8337
    invoke-virtual {p4}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object p4

    .line 8340
    :cond_0
    invoke-static {p4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_1

    const-wide/16 v2, -0x1

    cmp-long v0, p5, v2

    if-eqz v0, :cond_2

    const-wide/16 v2, 0x0

    cmp-long v0, p5, v2

    if-eqz v0, :cond_2

    .line 8341
    :cond_1
    const-string v0, " JOIN (SELECT NULL AS snippet WHERE 0)"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8345
    :goto_0
    const-string v0, "_id"

    invoke-virtual {p0, v1, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8346
    const-string v0, "status_update_id"

    invoke-virtual {p0, v1, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8347
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8348
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionWithSnippetMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8349
    return-void

    :cond_2
    move-object v0, p0

    move-object v2, p2

    move-object v3, p3

    move-object v4, p4

    move v5, p7

    .line 8343
    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;Z)V

    goto :goto_0
.end method

.method protected setTablesAndProjectionMapForContactsWithSnippetWithPostalForGlobalSearch(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 0
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "filter"

    .prologue
    .line 9562
    return-void
.end method

.method protected setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"

    .prologue
    .line 8572
    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    invoke-virtual/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 8573
    return-void
.end method

.method protected setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "usageType"

    .prologue
    .line 8586
    const/4 v5, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    move-object v6, p5

    invoke-virtual/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 8587
    return-void
.end method

.method protected setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZ)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "addSipLookupColumns"

    .prologue
    .line 8577
    const/4 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    move v5, p5

    invoke-virtual/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 8578
    return-void
.end method

.method protected setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V
    .locals 5
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "addSipLookupColumns"
    .parameter "usageType"

    .prologue
    .line 8591
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    .line 8592
    .local v1, sb:Ljava/lang/StringBuilder;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getDataView()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8596
    const-string v3, " data"

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8598
    const-string v3, "contact_id"

    invoke-virtual {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8599
    const-string v3, "status_update_id"

    invoke-virtual {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8600
    const-string v3, "data._id"

    invoke-virtual {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8601
    const-string v3, "data._id"

    invoke-virtual {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8603
    if-eqz p6, :cond_0

    .line 8604
    invoke-virtual {p6}, Ljava/lang/Integer;->intValue()I

    move-result v3

    const-string v4, "data._id"

    invoke-virtual {p0, v1, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataUsageStatJoin(Ljava/lang/StringBuilder;ILjava/lang/String;)V

    .line 8607
    :cond_0
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8609
    if-nez p4, :cond_1

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String;

    invoke-virtual {v3, p3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_2

    :cond_1
    const/4 v2, 0x1

    .line 8611
    .local v2, useDistinct:Z
    :goto_0
    invoke-virtual {p1, v2}, Landroid/database/sqlite/SQLiteQueryBuilder;->setDistinct(Z)V

    .line 8614
    if-eqz p5, :cond_4

    .line 8615
    if-eqz v2, :cond_3

    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .line 8621
    .local v0, projectionMap:Lcom/android/providers/contacts/ProjectionMap;
    :goto_1
    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8622
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 8623
    return-void

    .line 8609
    .end local v0           #projectionMap:Lcom/android/providers/contacts/ProjectionMap;
    .end local v2           #useDistinct:Z
    :cond_2
    const/4 v2, 0x0

    goto :goto_0

    .line 8615
    .restart local v2       #useDistinct:Z
    :cond_3
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDataSipLookupProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    goto :goto_1

    .line 8618
    :cond_4
    if-eqz v2, :cond_5

    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    .restart local v0       #projectionMap:Lcom/android/providers/contacts/ProjectionMap;
    :goto_2
    goto :goto_1

    .end local v0           #projectionMap:Lcom/android/providers/contacts/ProjectionMap;
    :cond_5
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    goto :goto_2
.end method

.method protected setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 2
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 8666
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 8667
    .local v0, sb:Ljava/lang/StringBuilder;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getEntityView()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8673
    const-string v1, " data"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8675
    const-string v1, "contact_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8676
    const-string v1, "status_update_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8677
    const-string v1, "data_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8678
    const-string v1, "data_id"

    invoke-virtual {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 8680
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8681
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8682
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 8683
    return-void
.end method

.method protected setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 3
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 8546
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 8547
    .local v0, sb:Ljava/lang/StringBuilder;
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getRawContactsView()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, " AS "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "view_raw_contacts"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8554
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8555
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8556
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 8557
    return-void
.end method

.method protected setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 2
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 8560
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getRawContactEntitiesView()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " AS "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "view_raw_entities"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 8566
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sRawEntityProjectionMap:Lcom/android/providers/contacts/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 8567
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 8568
    return-void
.end method

.method protected snippetNeeded([Ljava/lang/String;)Z
    .locals 4
    .parameter "projection"

    .prologue
    .line 10601
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v3, "snippet"

    aput-object v3, v1, v2

    invoke-virtual {v0, p1, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    return v0
.end method

.method substituteDb(Landroid/database/sqlite/SQLiteDatabase;)V
    .locals 1
    .parameter "db"

    .prologue
    .line 2619
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0, p1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2620
    return-void
.end method

.method protected switchToContactMode()V
    .locals 2

    .prologue
    .line 2541
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2542
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2543
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2544
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2545
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    const/4 v1, 0x0

    invoke-static {v1}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2548
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2549
    return-void
.end method

.method protected switchToProfileMode()V
    .locals 2

    .prologue
    .line 2529
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2530
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2531
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2532
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2533
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    const/4 v1, 0x1

    invoke-static {v1}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2534
    return-void
.end method

.method public update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 4
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    const/4 v2, 0x1

    .line 2569
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    if-eqz v3, :cond_1

    .line 2573
    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v3, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v0

    .line 2574
    .local v0, match:I
    const/16 v3, 0x3e81

    if-ne v0, v3, :cond_1

    .line 2575
    const-string v3, "status"

    invoke-virtual {p2, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v1

    .line 2576
    .local v1, newStatus:Ljava/lang/Integer;
    if-eqz v1, :cond_0

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v3

    if-ne v3, v2, :cond_0

    .line 2577
    const/4 v3, 0x2

    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 2594
    .end local v0           #match:I
    .end local v1           #newStatus:Ljava/lang/Integer;
    :goto_0
    return v2

    .line 2580
    .restart local v0       #match:I
    .restart local v1       #newStatus:Ljava/lang/Integer;
    :cond_0
    const/4 v2, 0x0

    goto :goto_0

    .line 2584
    .end local v0           #match:I
    .end local v1           #newStatus:Ljava/lang/Integer;
    :cond_1
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2587
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2589
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v2

    if-eqz v2, :cond_2

    .line 2590
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2591
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v2, p1, p2, p3, p4}, Lcom/android/providers/contacts/ProfileProvider;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v2

    goto :goto_0

    .line 2593
    :cond_2
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2594
    invoke-super {p0, p1, p2, p3, p4}, Lcom/android/providers/contacts/AbstractContactsProvider;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v2

    goto :goto_0
.end method

.method protected updateAccountsInBackground([Landroid/accounts/Account;)Z
    .locals 46
    .parameter "accounts"

    .prologue
    .line 5898
    const/16 v21, 0x0

    .line 5899
    .local v21, accountsChanged:Z
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v26

    .line 5900
    .local v26, db:Landroid/database/sqlite/SQLiteDatabase;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, v26

    invoke-virtual {v3, v0}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 5903
    const/16 v36, 0x1

    .line 5904
    .local v36, isSIMVisible:I
    const/16 v35, 0x0

    .line 5906
    .local v35, isGoogleAccountExist:I
    const/16 v17, 0x0

    .line 5909
    .local v17, accountDeletionCount:I
    invoke-virtual/range {v26 .. v26}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 5910
    const/16 v41, 0x0

    .line 5919
    .local v41, removeContactPhotoIds:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    :try_start_0
    const-string v3, "accounts"

    move-object/from16 v0, p0

    invoke-direct {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->findValidAccountsWithDataSets(Ljava/lang/String;)Ljava/util/Set;

    move-result-object v29

    .line 5924
    .local v29, existingAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v29

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->importAccountsInfoToMyContactCard([Landroid/accounts/Account;Ljava/util/Set;)V

    .line 5929
    move-object/from16 v23, p1

    .local v23, arr$:[Landroid/accounts/Account;
    move-object/from16 v0, v23

    array-length v0, v0

    move/from16 v37, v0

    .local v37, len$:I
    const/16 v32, 0x0

    .local v32, i$:I
    :goto_0
    move/from16 v0, v32

    move/from16 v1, v37

    if-ge v0, v1, :cond_1

    aget-object v16, v23, v32

    .line 5930
    .local v16, account:Landroid/accounts/Account;
    new-instance v20, Lcom/android/providers/contacts/AccountWithDataSet;

    move-object/from16 v0, v16

    iget-object v3, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    move-object/from16 v0, v16

    iget-object v4, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    const/4 v5, 0x0

    move-object/from16 v0, v20

    invoke-direct {v0, v3, v4, v5}, Lcom/android/providers/contacts/AccountWithDataSet;-><init>(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    .line 5932
    .local v20, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    move-object/from16 v0, v29

    move-object/from16 v1, v20

    invoke-interface {v0, v1}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 5933
    const/16 v21, 0x1

    .line 5937
    const-string v3, "INSERT INTO accounts (account_name, account_type, data_set) VALUES (?, ?, ?)"

    const/4 v4, 0x3

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x1

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x2

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 5929
    :cond_0
    add-int/lit8 v32, v32, 0x1

    goto :goto_0

    .line 5951
    .end local v16           #account:Landroid/accounts/Account;
    .end local v20           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :cond_1
    new-instance v22, Ljava/util/ArrayList;

    invoke-direct/range {v22 .. v22}, Ljava/util/ArrayList;-><init>()V

    .line 5952
    .local v22, accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    invoke-static/range {p1 .. p1}, Ljava/util/Arrays;->asList([Ljava/lang/Object;)Ljava/util/List;

    move-result-object v18

    .line 5953
    .local v18, accountList:Ljava/util/List;,"Ljava/util/List<Landroid/accounts/Account;>;"
    invoke-interface/range {v29 .. v29}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v32

    .local v32, i$:Ljava/util/Iterator;
    :cond_2
    :goto_1
    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_3

    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 5955
    .restart local v20       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    .line 5960
    new-instance v38, Landroid/accounts/Account;

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v38

    invoke-direct {v0, v3, v4}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    .line 5963
    .local v38, owningAccount:Landroid/accounts/Account;
    move-object/from16 v0, v18

    move-object/from16 v1, v38

    invoke-interface {v0, v1}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_2

    .line 5964
    move-object/from16 v0, v22

    move-object/from16 v1, v20

    invoke-interface {v0, v1}, Ljava/util/List;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    .line 6298
    .end local v18           #accountList:Ljava/util/List;,"Ljava/util/List<Landroid/accounts/Account;>;"
    .end local v20           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v22           #accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .end local v23           #arr$:[Landroid/accounts/Account;
    .end local v29           #existingAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .end local v32           #i$:Ljava/util/Iterator;
    .end local v37           #len$:I
    .end local v38           #owningAccount:Landroid/accounts/Account;
    :catch_0
    move-exception v28

    .line 6299
    .local v28, e:Ljava/lang/RuntimeException;
    :try_start_1
    const-string v3, "ContactsProvider"

    const-string v4, ""

    move-object/from16 v0, v28

    invoke-static {v3, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 6300
    throw v28
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 6302
    .end local v28           #e:Ljava/lang/RuntimeException;
    :catchall_0
    move-exception v3

    invoke-virtual/range {v26 .. v26}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v3

    .line 5968
    .restart local v18       #accountList:Ljava/util/List;,"Ljava/util/List<Landroid/accounts/Account;>;"
    .restart local v22       #accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .restart local v23       #arr$:[Landroid/accounts/Account;
    .restart local v29       #existingAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .restart local v32       #i$:Ljava/util/Iterator;
    .restart local v37       #len$:I
    :cond_3
    :try_start_2
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Landroid/database/sqlite/SQLiteDatabase;

    const-string v4, "settings"

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v8, "account_type"

    aput-object v8, v5, v6

    const/4 v6, 0x1

    const-string v8, "ungrouped_visible"

    aput-object v8, v5, v6

    const-string v6, "account_type= \'com.anddroid.contacts.sim\'"

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    invoke-virtual/range {v3 .. v10}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v25

    .line 5975
    .local v25, cursor:Landroid/database/Cursor;
    if-eqz v25, :cond_4

    .line 5976
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v3

    if-eqz v3, :cond_4

    .line 5977
    const/4 v3, 0x1

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getInt(I)I

    move-result v36

    .line 5979
    :cond_4
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->close()V

    .line 5981
    invoke-interface/range {v22 .. v22}, Ljava/util/List;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_12

    .line 5982
    const/16 v21, 0x1

    .line 5983
    invoke-interface/range {v22 .. v22}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v32

    :cond_5
    :goto_2
    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_f

    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 5989
    .restart local v20       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v27

    .line 5991
    .local v27, deletedAccountType:Ljava/lang/String;
    const-string v3, "DeviceOnly"

    move-object/from16 v0, v27

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_5

    .line 5995
    const-string v3, "com.anddroid.contacts.sim"

    move-object/from16 v0, v27

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_6

    sget-boolean v3, Lcom/android/providers/contacts/ContactsProvider2;->sIsTryLoadSIM:Z

    if-nez v3, :cond_5

    .line 6001
    :cond_6
    const-string v3, "com.htc.android.pcsc"

    move-object/from16 v0, v27

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_5

    .line 6006
    const/4 v3, 0x2

    new-array v0, v3, [Ljava/lang/String;

    move-object/from16 v19, v0

    const/4 v3, 0x0

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v4

    aput-object v4, v19, v3

    const/4 v3, 0x1

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    aput-object v4, v19, v3

    .line 6009
    .local v19, accountParams:[Ljava/lang/String;
    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_9

    move-object/from16 v7, v19

    .line 6015
    .local v7, accountWithDataSetParams:[Ljava/lang/String;
    :goto_3
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, " AND data_set"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_a

    const-string v3, " IS NULL"

    :goto_4
    invoke-virtual {v4, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v30

    .line 6019
    .local v30, groupsDataSetClause:Ljava/lang/String;
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, " AND data_set"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_b

    const-string v3, " IS NULL"

    :goto_5
    invoke-virtual {v4, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v40

    .line 6023
    .local v40, rawContactsDataSetClause:Ljava/lang/String;
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, " AND data_set"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_c

    const-string v3, " IS NULL"

    :goto_6
    invoke-virtual {v4, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v44

    .line 6030
    .local v44, settingsDataSetClause:Ljava/lang/String;
    const-string v3, "com.anddroid.contacts.sim"

    move-object/from16 v0, v27

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_7

    const-string v3, "com.anddroid.contacts.sim"

    move-object/from16 v0, v27

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_5

    sget-boolean v3, Lcom/android/providers/contacts/ContactsProvider2;->isSIMFirstReady:Z

    if-eqz v3, :cond_5

    .line 6038
    :cond_7
    const-string v4, "raw_contacts"

    const/4 v3, 0x1

    new-array v5, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v6, "contact_id"

    aput-object v6, v5, v3

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "account_name = ? AND account_type = ?"

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    move-object/from16 v3, v26

    invoke-virtual/range {v3 .. v10}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v24

    .line 6045
    .local v24, c:Landroid/database/Cursor;
    if-eqz v24, :cond_e

    .line 6046
    :cond_8
    :goto_7
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_d

    .line 6047
    const/4 v3, 0x0

    move-object/from16 v0, v24

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v33

    .line 6048
    .local v33, id:J
    const-wide/16 v3, 0x0

    cmp-long v3, v33, v3

    if-lez v3, :cond_8

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-static/range {v33 .. v34}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->contains(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_8

    .line 6051
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    invoke-static/range {v33 .. v34}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_7

    .line 6009
    .end local v7           #accountWithDataSetParams:[Ljava/lang/String;
    .end local v24           #c:Landroid/database/Cursor;
    .end local v30           #groupsDataSetClause:Ljava/lang/String;
    .end local v33           #id:J
    .end local v40           #rawContactsDataSetClause:Ljava/lang/String;
    .end local v44           #settingsDataSetClause:Ljava/lang/String;
    :cond_9
    const/4 v3, 0x3

    new-array v7, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v4

    aput-object v4, v7, v3

    const/4 v3, 0x1

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    aput-object v4, v7, v3

    const/4 v3, 0x2

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v4

    aput-object v4, v7, v3

    goto/16 :goto_3

    .line 6015
    .restart local v7       #accountWithDataSetParams:[Ljava/lang/String;
    :cond_a
    const-string v3, " = ?"

    goto/16 :goto_4

    .line 6019
    .restart local v30       #groupsDataSetClause:Ljava/lang/String;
    :cond_b
    const-string v3, " = ?"

    goto/16 :goto_5

    .line 6023
    .restart local v40       #rawContactsDataSetClause:Ljava/lang/String;
    :cond_c
    const-string v3, " = ?"

    goto/16 :goto_6

    .line 6053
    .restart local v24       #c:Landroid/database/Cursor;
    .restart local v44       #settingsDataSetClause:Ljava/lang/String;
    :cond_d
    invoke-interface/range {v24 .. v24}, Landroid/database/Cursor;->close()V

    .line 6059
    :cond_e
    add-int/lit8 v17, v17, 0x1

    .line 6064
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->removeAccountContactIds:Ljava/util/ArrayList;

    move-object/from16 v0, p0

    invoke-virtual {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->getDeletePhotoID(Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v41

    .line 6066
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM groups WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v30

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6070
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM presence WHERE presence_raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ")"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6078
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM stream_item_photos WHERE stream_item_id IN (SELECT _id FROM stream_items WHERE raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "))"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6089
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM stream_items WHERE raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ")"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6097
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM raw_contacts WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6102
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM settings WHERE account_name = ? AND account_type = ?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v44

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6107
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM accounts WHERE account_name=? AND account_type=?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v40

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v7}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6112
    const-string v3, "DELETE FROM directories WHERE accountName=? AND accountType=?"

    move-object/from16 v0, v26

    move-object/from16 v1, v19

    invoke-virtual {v0, v3, v1}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 6116
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->resetDirectoryCache()V

    goto/16 :goto_2

    .line 6145
    .end local v7           #accountWithDataSetParams:[Ljava/lang/String;
    .end local v19           #accountParams:[Ljava/lang/String;
    .end local v20           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v24           #c:Landroid/database/Cursor;
    .end local v27           #deletedAccountType:Ljava/lang/String;
    .end local v30           #groupsDataSetClause:Ljava/lang/String;
    .end local v40           #rawContactsDataSetClause:Ljava/lang/String;
    .end local v44           #settingsDataSetClause:Ljava/lang/String;
    :cond_f
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactInfoAfterAccountUpdate()V

    .line 6151
    const/4 v3, 0x0

    sput-boolean v3, Lcom/android/providers/contacts/ContactsProvider2;->isSIMFirstReady:Z

    .line 6155
    const-string v9, "settings"

    const/4 v3, 0x2

    new-array v10, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "account_type"

    aput-object v4, v10, v3

    const/4 v3, 0x1

    const-string v4, "ungrouped_visible"

    aput-object v4, v10, v3

    const-string v11, "account_type= \'com.google\'"

    const/4 v12, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    move-object/from16 v8, v26

    invoke-virtual/range {v8 .. v15}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v25

    .line 6162
    if-eqz v25, :cond_10

    .line 6163
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v3

    if-eqz v3, :cond_10

    .line 6164
    const/4 v3, 0x1

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getInt(I)I

    move-result v35

    .line 6167
    :cond_10
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->close()V

    .line 6169
    move-object/from16 v23, p1

    move-object/from16 v0, v23

    array-length v0, v0

    move/from16 v37, v0

    const/16 v32, 0x0

    .local v32, i$:I
    :goto_8
    move/from16 v0, v32

    move/from16 v1, v37

    if-ge v0, v1, :cond_11

    aget-object v16, v23, v32

    .line 6170
    .restart local v16       #account:Landroid/accounts/Account;
    move-object/from16 v0, v16

    iget-object v3, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    const-string v4, "com.google"

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_17

    .line 6171
    new-instance v31, Landroid/content/ContentValues;

    invoke-direct/range {v31 .. v31}, Landroid/content/ContentValues;-><init>()V

    .line 6172
    .local v31, gvalues:Landroid/content/ContentValues;
    const-string v3, "account_name"

    move-object/from16 v0, v16

    iget-object v4, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6173
    const-string v3, "account_type"

    move-object/from16 v0, v16

    iget-object v4, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6174
    const-string v3, "ungrouped_visible"

    invoke-static/range {v35 .. v35}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6176
    const-string v3, "should_sync"

    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6177
    const-string v3, "settings"

    const/4 v4, 0x0

    move-object/from16 v0, v26

    move-object/from16 v1, v31

    invoke-virtual {v0, v3, v4, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    .line 6183
    .end local v16           #account:Landroid/accounts/Account;
    .end local v31           #gvalues:Landroid/content/ContentValues;
    :cond_11
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateAllVisible()V

    .line 6190
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v3

    if-nez v3, :cond_12

    .line 6191
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInTransaction()V

    .line 6195
    .end local v32           #i$:I
    :cond_12
    const-wide/16 v42, 0x0

    .line 6198
    .local v42, result:J
    const-string v3, "settings"

    const-string v4, "account_name = ?   AND account_type = ? "

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v8, "SIM"

    aput-object v8, v5, v6

    const/4 v6, 0x1

    const-string v8, "com.anddroid.contacts.sim"

    aput-object v8, v5, v6

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v42, v0

    .line 6204
    sget-boolean v3, Lcom/android/providers/contacts/HtcUtils/Constants;->IsSIMSDNEnabled:Z

    if-eqz v3, :cond_13

    .line 6205
    const-string v3, "settings"

    const-string v4, "account_name = ?   AND account_type = ? "

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v8, "SIM_SDN"

    aput-object v8, v5, v6

    const/4 v6, 0x1

    const-string v8, "com.anddroid.contacts.sim"

    aput-object v8, v5, v6

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v42, v0

    .line 6211
    :cond_13
    new-instance v45, Landroid/content/ContentValues;

    invoke-direct/range {v45 .. v45}, Landroid/content/ContentValues;-><init>()V

    .line 6212
    .local v45, values:Landroid/content/ContentValues;
    const-string v3, "account_name"

    const-string v4, "SIM"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6214
    const-string v3, "account_type"

    const-string v4, "com.anddroid.contacts.sim"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6216
    const-string v3, "ungrouped_visible"

    invoke-static/range {v36 .. v36}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6217
    const-string v3, "should_sync"

    const/4 v4, 0x0

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6218
    const-string v3, "settings"

    const/4 v4, 0x0

    move-object/from16 v0, v26

    move-object/from16 v1, v45

    invoke-virtual {v0, v3, v4, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v42

    .line 6221
    sget-boolean v3, Lcom/android/providers/contacts/HtcUtils/Constants;->IsSIMSDNEnabled:Z

    if-eqz v3, :cond_14

    .line 6222
    new-instance v45, Landroid/content/ContentValues;

    .end local v45           #values:Landroid/content/ContentValues;
    invoke-direct/range {v45 .. v45}, Landroid/content/ContentValues;-><init>()V

    .line 6223
    .restart local v45       #values:Landroid/content/ContentValues;
    const-string v3, "account_name"

    const-string v4, "SIM_SDN"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6225
    const-string v3, "account_type"

    const-string v4, "com.anddroid.contacts.sim"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6227
    const-string v3, "ungrouped_visible"

    invoke-static/range {v36 .. v36}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6228
    const-string v3, "should_sync"

    const/4 v4, 0x0

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 6229
    const-string v3, "settings"

    const/4 v4, 0x0

    move-object/from16 v0, v26

    move-object/from16 v1, v45

    invoke-virtual {v0, v3, v4, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v42

    .line 6235
    :cond_14
    const-string v3, "accounts"

    const-string v4, "account_name = ?   AND account_type = ? "

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v8, "SIM"

    aput-object v8, v5, v6

    const/4 v6, 0x1

    const-string v8, "com.anddroid.contacts.sim"

    aput-object v8, v5, v6

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v42, v0

    .line 6241
    sget-boolean v3, Lcom/android/providers/contacts/HtcUtils/Constants;->IsSIMSDNEnabled:Z

    if-eqz v3, :cond_15

    .line 6242
    const-string v3, "accounts"

    const-string v4, "account_name = ?   AND account_type = ? "

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v8, "SIM_SDN"

    aput-object v8, v5, v6

    const/4 v6, 0x1

    const-string v8, "com.anddroid.contacts.sim"

    aput-object v8, v5, v6

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v3

    int-to-long v0, v3

    move-wide/from16 v42, v0

    .line 6249
    :cond_15
    new-instance v45, Landroid/content/ContentValues;

    .end local v45           #values:Landroid/content/ContentValues;
    invoke-direct/range {v45 .. v45}, Landroid/content/ContentValues;-><init>()V

    .line 6250
    .restart local v45       #values:Landroid/content/ContentValues;
    const-string v3, "account_name"

    const-string v4, "SIM"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6252
    const-string v3, "account_type"

    const-string v4, "com.anddroid.contacts.sim"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6254
    const-string v3, "accounts"

    const/4 v4, 0x0

    move-object/from16 v0, v26

    move-object/from16 v1, v45

    invoke-virtual {v0, v3, v4, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v42

    .line 6256
    sget-boolean v3, Lcom/android/providers/contacts/HtcUtils/Constants;->IsSIMSDNEnabled:Z

    if-eqz v3, :cond_16

    .line 6257
    new-instance v45, Landroid/content/ContentValues;

    .end local v45           #values:Landroid/content/ContentValues;
    invoke-direct/range {v45 .. v45}, Landroid/content/ContentValues;-><init>()V

    .line 6258
    .restart local v45       #values:Landroid/content/ContentValues;
    const-string v3, "account_name"

    const-string v4, "SIM_SDN"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6260
    const-string v3, "account_type"

    const-string v4, "com.anddroid.contacts.sim"

    move-object/from16 v0, v45

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 6262
    const-string v3, "accounts"

    const/4 v4, 0x0

    move-object/from16 v0, v26

    move-object/from16 v1, v45

    invoke-virtual {v0, v3, v4, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v42

    .line 6271
    :cond_16
    const-string v3, "accounts"

    move-object/from16 v0, p0

    invoke-direct {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->findValidAccountsWithDataSets(Ljava/lang/String;)Ljava/util/Set;

    move-result-object v29

    .line 6272
    const-string v3, "raw_contacts"

    move-object/from16 v0, p0

    invoke-direct {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->findValidAccountsWithDataSets(Ljava/lang/String;)Ljava/util/Set;

    move-result-object v39

    .line 6273
    .local v39, rawContactAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    move-object/from16 v0, v39

    move-object/from16 v1, v29

    invoke-interface {v0, v1}, Ljava/util/Set;->removeAll(Ljava/util/Collection;)Z

    .line 6278
    invoke-interface/range {v39 .. v39}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v32

    .local v32, i$:Ljava/util/Iterator;
    :goto_9
    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_18

    invoke-interface/range {v32 .. v32}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 6279
    .restart local v20       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    const/16 v21, 0x1

    .line 6282
    const-string v3, "INSERT INTO accounts (account_name, account_type, data_set) VALUES (?, ?, ?)"

    const/4 v4, 0x3

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x1

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x2

    invoke-virtual/range {v20 .. v20}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    move-object/from16 v0, v26

    invoke-virtual {v0, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    goto :goto_9

    .line 6169
    .end local v20           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v39           #rawContactAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .end local v42           #result:J
    .end local v45           #values:Landroid/content/ContentValues;
    .restart local v16       #account:Landroid/accounts/Account;
    .local v32, i$:I
    :cond_17
    add-int/lit8 v32, v32, 0x1

    goto/16 :goto_8

    .line 6292
    .end local v16           #account:Landroid/accounts/Account;
    .local v32, i$:Ljava/util/Iterator;
    .restart local v39       #rawContactAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .restart local v42       #result:J
    .restart local v45       #values:Landroid/content/ContentValues;
    :cond_18
    if-eqz v21, :cond_19

    .line 6294
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v3

    move-object/from16 v0, v26

    move-object/from16 v1, p1

    invoke-virtual {v3, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->onAccountsChanged(Landroid/database/sqlite/SQLiteDatabase;[Landroid/accounts/Account;)V

    .line 6296
    :cond_19
    invoke-virtual/range {v26 .. v26}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0
    .catch Ljava/lang/RuntimeException; {:try_start_2 .. :try_end_2} :catch_0

    .line 6302
    invoke-virtual/range {v26 .. v26}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 6305
    if-lez v17, :cond_1a

    .line 6306
    const/4 v3, 0x0

    move-object/from16 v0, p0

    invoke-virtual {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->notifyChange(Z)V

    .line 6307
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->broadcastAccountDeletionActionDone()V

    .line 6310
    :cond_1a
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    invoke-virtual {v3}, Ljava/util/HashMap;->clear()V

    .line 6312
    if-eqz v41, :cond_1b

    invoke-virtual/range {v41 .. v41}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-lez v3, :cond_1b

    .line 6315
    invoke-virtual/range {v41 .. v41}, Ljava/util/ArrayList;->clear()V

    .line 6317
    :cond_1b
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mReadOnlyAccoutTypes:Ljava/util/ArrayList;

    move-object/from16 v0, p0

    invoke-direct {v0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->queryUnEditableAccount(Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v3

    move-object/from16 v0, p0

    iput-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mReadOnlyAccoutTypes:Ljava/util/ArrayList;

    .line 6318
    if-eqz v21, :cond_1c

    .line 6319
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactsAccountCount([Landroid/accounts/Account;)V

    .line 6320
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateProviderStatus()V

    .line 6323
    :cond_1c
    return v21
.end method

.method protected updateContactOptions(JLandroid/content/ContentValues;Z)I
    .locals 12
    .parameter "contactId"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5627
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 5628
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "custom_ringtone"

    const-string v2, "custom_ringtone"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5630
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "send_to_voicemail"

    const-string v2, "send_to_voicemail"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5632
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "last_time_contacted"

    const-string v2, "last_time_contacted"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5634
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "times_contacted"

    const-string v2, "times_contacted"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5636
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    const-string v2, "starred"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5640
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->size()I

    move-result v0

    if-nez v0, :cond_1

    .line 5641
    const/4 v11, 0x0

    .line 5700
    :cond_0
    :goto_0
    return v11

    .line 5644
    :cond_1
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 5646
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "dirty"

    const/4 v2, 0x1

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 5649
    :cond_2
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v1, 0x0

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v0, v1

    .line 5651
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "raw_contacts"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "contact_id=? AND raw_contact_is_read_only=0"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v0, v1, v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    .line 5654
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_5

    if-nez p4, :cond_5

    .line 5655
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "view_raw_contacts"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "_id"

    aput-object v4, v2, v3

    const-string v3, "contact_id=?"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 5659
    .local v8, cursor:Landroid/database/Cursor;
    :goto_1
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 5660
    const/4 v0, 0x0

    invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 5661
    .local v9, rawContactId:J
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    const-wide/16 v2, 0x0

    cmp-long v0, v0, v2

    if-eqz v0, :cond_3

    const/4 v0, 0x1

    :goto_2
    invoke-virtual {p0, v9, v10, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 5665
    .end local v9           #rawContactId:J
    :catchall_0
    move-exception v0

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v0

    .line 5661
    .restart local v9       #rawContactId:J
    :cond_3
    const/4 v0, 0x0

    goto :goto_2

    .line 5665
    .end local v9           #rawContactId:J
    :cond_4
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 5671
    .end local v8           #cursor:Landroid/database/Cursor;
    :cond_5
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 5672
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "custom_ringtone"

    const-string v2, "custom_ringtone"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5674
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "send_to_voicemail"

    const-string v2, "send_to_voicemail"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5676
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "last_time_contacted"

    const-string v2, "last_time_contacted"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5678
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "times_contacted"

    const-string v2, "times_contacted"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5680
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    const-string v2, "starred"

    invoke-static {v0, v1, p3, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 5683
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "contacts"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "_id=?"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v0, v1, v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v11

    .line 5687
    .local v11, rslt:I
    if-lez v11, :cond_7

    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "custom_ringtone"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-nez v0, :cond_6

    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "send_to_voicemail"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-nez v0, :cond_6

    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "starred"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_7

    .line 5691
    :cond_6
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->mNotifyDialerScheduler:Lcom/android/providers/contacts/NotifyDialerScheduler;

    invoke-virtual {v0, p1, p2}, Lcom/android/providers/contacts/NotifyDialerScheduler;->notifyModifyContact(J)V

    .line 5695
    :cond_7
    const-string v0, "last_time_contacted"

    invoke-virtual {p3, v0}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    const-string v0, "times_contacted"

    invoke-virtual {p3, v0}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 5697
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "UPDATE contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE _id=?"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 5698
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/sqlite/SQLiteDatabase;

    const-string v1, "UPDATE raw_contacts SET times_contacted= CASE WHEN times_contacted IS NULL THEN 1 ELSE  (times_contacted + 1) END WHERE contact_id=?"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    goto/16 :goto_0
.end method

.method protected updateContactOptions(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 13
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5601
    const/4 v11, 0x0

    .line 5602
    .local v11, count:I
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContactView()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, " AS "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "view_contacts"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v3, v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object v4, p2

    move-object/from16 v5, p3

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v12

    .line 5609
    .local v12, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v12}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 5610
    const/4 v1, 0x0

    invoke-interface {v12, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 5612
    .local v9, contactId:J
    move/from16 v0, p4

    invoke-virtual {p0, v9, v10, p1, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(JLandroid/content/ContentValues;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 5613
    add-int/lit8 v11, v11, 0x1

    .line 5614
    goto :goto_0

    .line 5616
    .end local v9           #contactId:J
    :cond_0
    invoke-interface {v12}, Landroid/database/Cursor;->close()V

    .line 5619
    return v11

    .line 5616
    :catchall_0
    move-exception v1

    invoke-interface {v12}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method protected updateData(Landroid/content/ContentValues;Landroid/database/Cursor;Z)I
    .locals 9
    .parameter "values"
    .parameter "c"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v8, 0x0

    .line 5582
    invoke-virtual {p1}, Landroid/content/ContentValues;->size()I

    move-result v1

    if-nez v1, :cond_0

    .line 5594
    :goto_0
    return v8

    .line 5586
    :cond_0
    const/4 v1, 0x2

    invoke-interface {p2, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v6

    .line 5587
    .local v6, mimeType:Ljava/lang/String;
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 5588
    .local v0, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    move-object v3, p1

    move-object v4, p2

    move v5, p3

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/DataRowHandler;->update(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/content/ContentValues;Landroid/database/Cursor;Z)Z

    move-result v7

    .line 5591
    .local v7, updated:Z
    const-string v1, "vnd.android.cursor.item/photo"

    invoke-virtual {v1, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 5592
    const/16 v1, 0xa

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 5594
    :cond_1
    if-eqz v7, :cond_2

    const/4 v1, 0x1

    :goto_1
    move v8, v1

    goto :goto_0

    :cond_2
    move v1, v8

    goto :goto_1
.end method

.method updateDataUsageStat(Ljava/util/List;Ljava/lang/String;J)I
    .locals 15
    .parameter
    .parameter "type"
    .parameter "currentTimeMillis"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;",
            "Ljava/lang/String;",
            "J)I"
        }
    .end annotation

    .prologue
    .line 10504
    .local p1, dataIds:Ljava/util/List;,"Ljava/util/List<Ljava/lang/Long;>;"
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataUsageTypeMap:Ljava/util/Map;

    move-object/from16 v0, p2

    invoke-interface {v1, v0}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v12

    .line 10505
    .local v12, typeInt:I
    const-string v14, "data_id =? AND usage_type =?"

    .line 10507
    .local v14, where:Ljava/lang/String;
    const/4 v1, 0x2

    new-array v3, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "stat_id"

    aput-object v2, v3, v1

    const/4 v1, 0x1

    const-string v2, "times_used"

    aput-object v2, v3, v1

    .line 10509
    .local v3, columns:[Ljava/lang/String;
    new-instance v13, Landroid/content/ContentValues;

    invoke-direct {v13}, Landroid/content/ContentValues;-><init>()V

    .line 10510
    .local v13, values:Landroid/content/ContentValues;
    invoke-interface/range {p1 .. p1}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v11

    .local v11, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v11}, Ljava/util/Iterator;->hasNext()Z

    move-result v1

    if-eqz v1, :cond_2

    invoke-interface {v11}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Ljava/lang/Long;

    .line 10511
    .local v10, dataId:Ljava/lang/Long;
    const/4 v1, 0x2

    new-array v5, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    invoke-virtual {v10}, Ljava/lang/Long;->toString()Ljava/lang/String;

    move-result-object v2

    aput-object v2, v5, v1

    const/4 v1, 0x1

    invoke-static {v12}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v5, v1

    .line 10512
    .local v5, args:[Ljava/lang/String;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 10514
    :try_start_0
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "data_usage_stat"

    const-string v4, "data_id =? AND usage_type =?"

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    move-result-object v9

    .line 10517
    .local v9, cursor:Landroid/database/Cursor;
    :try_start_1
    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v1

    if-lez v1, :cond_1

    .line 10518
    invoke-interface {v9}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v1

    if-nez v1, :cond_0

    .line 10519
    const-string v1, "ContactsProvider"

    const-string v2, "moveToFirst() failed while getAccount() returned non-zero."

    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 10537
    :goto_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 10539
    :try_start_2
    invoke-interface {v9}, Landroid/database/Cursor;->close()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    .line 10542
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    goto :goto_0

    .line 10522
    :cond_0
    :try_start_3
    invoke-virtual {v13}, Landroid/content/ContentValues;->clear()V

    .line 10523
    const-string v1, "times_used"

    const/4 v2, 0x1

    invoke-interface {v9, v2}, Landroid/database/Cursor;->getInt(I)I

    move-result v2

    add-int/lit8 v2, v2, 0x1

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v13, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 10524
    const-string v1, "last_time_used"

    invoke-static/range {p3 .. p4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v13, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 10525
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "data_usage_stat"

    const-string v4, "stat_id =?"

    const/4 v6, 0x1

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-interface {v9, v8}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v6, v7

    invoke-virtual {v1, v2, v13, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_0

    goto :goto_1

    .line 10539
    :catchall_0
    move-exception v1

    :try_start_4
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v1
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_1

    .line 10542
    .end local v9           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v1

    move-object v2, v1

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v2

    .line 10530
    .restart local v9       #cursor:Landroid/database/Cursor;
    :cond_1
    :try_start_5
    invoke-virtual {v13}, Landroid/content/ContentValues;->clear()V

    .line 10531
    const-string v1, "data_id"

    invoke-virtual {v13, v1, v10}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 10532
    const-string v1, "usage_type"

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v13, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 10533
    const-string v1, "times_used"

    const/4 v2, 0x1

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v13, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 10534
    const-string v1, "last_time_used"

    invoke-static/range {p3 .. p4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v13, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 10535
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "data_usage_stat"

    const/4 v4, 0x0

    invoke-virtual {v1, v2, v4, v13}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    goto/16 :goto_1

    .line 10546
    .end local v5           #args:[Ljava/lang/String;
    .end local v9           #cursor:Landroid/database/Cursor;
    .end local v10           #dataId:Ljava/lang/Long;
    :cond_2
    invoke-interface/range {p1 .. p1}, Ljava/util/List;->size()I

    move-result v1

    return v1
.end method

.method protected updateDirectoriesInBackground(Z)V
    .locals 1
    .parameter "rescan"

    .prologue
    .line 2181
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/ContactDirectoryManager;->scanAllPackages(Z)V

    .line 2182
    return-void
.end method

.method protected updateFavoritesMembership(JZ)V
    .locals 3
    .parameter "rawContactId"
    .parameter "isStarred"

    .prologue
    .line 3328
    const-string v1, "raw_contacts._id=? AND groups.account_name=raw_contacts.account_name AND groups.account_type=raw_contacts.account_type AND (groups.data_set=raw_contacts.data_set OR groups.data_set IS NULL AND raw_contacts.data_set IS NULL) AND favorites != 0"

    invoke-direct {p0, v1, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;

    move-result-object v0

    .line 3330
    .local v0, groupId:Ljava/lang/Long;
    if-eqz v0, :cond_0

    .line 3331
    if-eqz p3, :cond_1

    .line 3332
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 3337
    :cond_0
    :goto_0
    return-void

    .line 3334
    :cond_1
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteDataGroupMembership(JJ)V

    goto :goto_0
.end method

.method protected updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 16
    .parameter "uri"
    .parameter "values"
    .parameter "selectionWithId"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 5310
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-virtual {v2}, Ljava/util/HashMap;->clear()V

    .line 5313
    if-nez p5, :cond_4

    const-string v2, "dirty"

    move-object/from16 v0, p2

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_4

    .line 5314
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    .line 5315
    .local v15, updatedValues:Landroid/content/ContentValues;
    invoke-virtual {v15}, Landroid/content/ContentValues;->clear()V

    .line 5316
    move-object/from16 v0, p2

    invoke-virtual {v15, v0}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 5317
    const-string v2, "dirty"

    const/4 v3, 0x1

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v15, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 5322
    :goto_0
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "groups"

    move-object/from16 v0, p3

    move-object/from16 v1, p4

    invoke-virtual {v2, v3, v15, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v14

    .line 5324
    .local v14, count:I
    const-string v2, "group_visible"

    invoke-virtual {v15, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 5325
    const/4 v2, 0x1

    move-object/from16 v0, p0

    iput-boolean v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 5331
    :cond_0
    const-string v2, "should_sync"

    invoke-virtual {v15, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_3

    const-string v2, "should_sync"

    invoke-virtual {v15, v2}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I

    move-result v2

    if-eqz v2, :cond_3

    .line 5333
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/database/sqlite/SQLiteDatabase;

    const-string v3, "groups"

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    const-string v6, "account_name"

    aput-object v6, v4, v5

    const/4 v5, 0x1

    const-string v6, "account_type"

    aput-object v6, v4, v5

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 5339
    .local v13, c:Landroid/database/Cursor;
    :cond_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_2

    .line 5340
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 5341
    .local v11, accountName:Ljava/lang/String;
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 5342
    .local v12, accountType:Ljava/lang/String;
    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_1

    invoke-static {v12}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_1

    .line 5343
    new-instance v10, Landroid/accounts/Account;

    invoke-direct {v10, v11, v12}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    .line 5344
    .local v10, account:Landroid/accounts/Account;
    const-string v2, "com.android.contacts"

    new-instance v3, Landroid/os/Bundle;

    invoke-direct {v3}, Landroid/os/Bundle;-><init>()V

    invoke-static {v10, v2, v3}, Landroid/content/ContentResolver;->requestSync(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 5350
    .end local v10           #account:Landroid/accounts/Account;
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountType:Ljava/lang/String;
    :cond_2
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 5394
    .end local v13           #c:Landroid/database/Cursor;
    :cond_3
    return v14

    .line 5319
    .end local v14           #count:I
    .end local v15           #updatedValues:Landroid/content/ContentValues;
    :cond_4
    move-object/from16 v15, p2

    .restart local v15       #updatedValues:Landroid/content/ContentValues;
    goto/16 :goto_0

    .line 5350
    .restart local v13       #c:Landroid/database/Cursor;
    .restart local v14       #count:I
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2
.end method

.method protected updateInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 33
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4908
    sget-boolean v4, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v4, :cond_0

    .line 4909
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "updateInTransaction: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p1

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 4913
    :cond_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    if-nez v4, :cond_1

    .line 4914
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 4917
    :cond_1
    const/16 v18, 0x0

    .line 4919
    .local v18, count:I
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->match(Landroid/net/Uri;)I

    move-result v23

    .line 4920
    .local v23, match:I
    const/16 v4, 0x2af9

    move/from16 v0, v23

    if-ne v0, v4, :cond_2

    if-nez p3, :cond_2

    .line 4921
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v27

    .line 4922
    .local v27, rowId:J
    const-string v4, "data"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v19

    .line 4923
    .local v19, data:Ljava/lang/Object;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, v27

    move-object/from16 v2, v19

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/TransactionContext;->syncStateUpdated(JLjava/lang/Object;)V

    .line 4924
    const/4 v4, 0x1

    .line 5169
    .end local v19           #data:Ljava/lang/Object;
    .end local v27           #rowId:J
    :goto_0
    return v4

    .line 4926
    :cond_2
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 4927
    const-string v4, "caller_is_syncadapter"

    const/4 v5, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v9

    .line 4929
    .local v9, callerIsSyncAdapter:Z
    sparse-switch v23, :sswitch_data_0

    .line 5164
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 5165
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-virtual {v4, v0, v1, v2, v3}, Lcom/android/providers/contacts/LegacyApiSupport;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto :goto_0

    .line 4932
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v5, v4, v0, v6, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto :goto_0

    .line 4936
    :sswitch_1
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 4937
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v5

    invoke-virtual {v4, v5, v6}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p3, :cond_3

    const-string v4, ""

    :goto_1
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .line 4940
    .local v7, selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v5, v4, v0, v7, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 4937
    .end local v7           #selectionWithId:Ljava/lang/String;
    :cond_3
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ")"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_1

    .line 4945
    :sswitch_2
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 4946
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v5

    invoke-virtual {v4, v5, v6}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p3, :cond_4

    const-string v4, ""

    :goto_2
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .line 4949
    .restart local v7       #selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v5, v4, v0, v7, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 4946
    .end local v7           #selectionWithId:Ljava/lang/String;
    :cond_4
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND ("

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, ")"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_2

    .line 4955
    :sswitch_3
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-virtual {v0, v1, v2, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    :cond_5
    :goto_3
    move/from16 v4, v18

    .line 5169
    goto/16 :goto_0

    .line 4960
    :sswitch_4
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v4

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v4, v5, v1, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(JLandroid/content/ContentValues;Z)I

    move-result v18

    .line 4961
    goto :goto_3

    .line 4966
    :sswitch_5
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v24

    .line 4967
    .local v24, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v24 .. v24}, Ljava/util/List;->size()I

    move-result v30

    .line 4968
    .local v30, segmentCount:I
    const/4 v4, 0x3

    move/from16 v0, v30

    if-ge v0, v4, :cond_6

    .line 4969
    new-instance v5, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v6, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v5, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v5

    .line 4972
    :cond_6
    const/4 v4, 0x2

    move-object/from16 v0, v24

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v22

    check-cast v22, Ljava/lang/String;

    .line 4973
    .local v22, lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, v22

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v16

    .line 4974
    .local v16, contactId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v16

    move-object/from16 v3, p2

    invoke-virtual {v0, v1, v2, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(JLandroid/content/ContentValues;Z)I

    move-result v18

    .line 4975
    goto :goto_3

    .line 4980
    .end local v16           #contactId:J
    .end local v22           #lookupKey:Ljava/lang/String;
    .end local v24           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v30           #segmentCount:I
    :sswitch_6
    const/16 v4, 0x7d4

    move/from16 v0, v23

    if-ne v0, v4, :cond_7

    const/16 v29, 0x1

    .line 4981
    .local v29, segment:I
    :goto_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    move/from16 v0, v29

    invoke-interface {v4, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v25

    check-cast v25, Ljava/lang/String;

    .line 4982
    .local v25, rawContactId:Ljava/lang/String;
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "raw_contact_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v25

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p3, :cond_8

    const-string v4, ""

    :goto_5
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .restart local v7       #selectionWithId:Ljava/lang/String;
    move-object/from16 v4, p0

    move-object/from16 v5, p1

    move-object/from16 v6, p2

    move-object/from16 v8, p4

    .line 4985
    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 4987
    goto/16 :goto_3

    .line 4980
    .end local v7           #selectionWithId:Ljava/lang/String;
    .end local v25           #rawContactId:Ljava/lang/String;
    .end local v29           #segment:I
    :cond_7
    const/16 v29, 0x2

    goto :goto_4

    .line 4982
    .restart local v25       #rawContactId:Ljava/lang/String;
    .restart local v29       #segment:I
    :cond_8
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_5

    .line 4992
    .end local v25           #rawContactId:Ljava/lang/String;
    .end local v29           #segment:I
    :sswitch_7
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    move-object/from16 v14, p4

    move v15, v9

    invoke-direct/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 4994
    if-lez v18, :cond_5

    .line 4995
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_9

    const/4 v4, 0x1

    :goto_6
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_9
    const/4 v4, 0x0

    goto :goto_6

    :sswitch_8
    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    move-object/from16 v13, p3

    move-object/from16 v14, p4

    move v15, v9

    .line 5004
    invoke-direct/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 5005
    if-lez v18, :cond_5

    .line 5006
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_a

    const/4 v4, 0x1

    :goto_7
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_a
    const/4 v4, 0x0

    goto :goto_7

    .line 5013
    :sswitch_9
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 5014
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-direct {v0, v1, v2, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 5015
    goto/16 :goto_3

    .line 5019
    :sswitch_a
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v25

    .line 5020
    .local v25, rawContactId:J
    if-eqz p3, :cond_b

    .line 5021
    invoke-static/range {v25 .. v26}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5022
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id=? AND("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ")"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p4

    invoke-direct {v0, v1, v4, v2, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    goto/16 :goto_3

    .line 5026
    :cond_b
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {v25 .. v26}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    .line 5027
    const-string v4, "_id=?"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1, v4, v5, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 5030
    goto/16 :goto_3

    .line 5034
    .end local v25           #rawContactId:J
    :sswitch_b
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    move-object/from16 v14, p4

    move v15, v9

    invoke-virtual/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 5036
    if-lez v18, :cond_5

    .line 5037
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_c

    const/4 v4, 0x1

    :goto_8
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_c
    const/4 v4, 0x0

    goto :goto_8

    .line 5043
    :sswitch_c
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v20

    .line 5044
    .local v20, groupId:J
    invoke-static/range {v20 .. v21}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-virtual {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5045
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id=? "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    if-nez p3, :cond_d

    const-string v4, ""

    :goto_9
    invoke-virtual {v5, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    .restart local v7       #selectionWithId:Ljava/lang/String;
    move-object/from16 v4, p0

    move-object/from16 v5, p1

    move-object/from16 v6, p2

    move-object/from16 v8, p4

    .line 5047
    invoke-virtual/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v18

    .line 5049
    if-lez v18, :cond_5

    .line 5050
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_e

    const/4 v4, 0x1

    :goto_a
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    .line 5045
    .end local v7           #selectionWithId:Ljava/lang/String;
    :cond_d
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, " AND "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_9

    .line 5050
    .restart local v7       #selectionWithId:Ljava/lang/String;
    :cond_e
    const/4 v4, 0x0

    goto :goto_a

    .line 5056
    .end local v7           #selectionWithId:Ljava/lang/String;
    .end local v20           #groupId:J
    :sswitch_d
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateAggregationException(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)I

    move-result v18

    .line 5057
    goto/16 :goto_3

    .line 5061
    :sswitch_e
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v4

    sput-wide v4, Lcom/android/providers/contacts/ContactsProvider2;->LinkMethod:J

    .line 5062
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateAggregationException(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)I

    move-result v18

    .line 5063
    goto/16 :goto_3

    .line 5068
    :sswitch_f
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p4

    invoke-virtual {v0, v1, v2, v4, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5070
    move-object/from16 v0, p0

    iget-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_f

    const/4 v4, 0x1

    :goto_b
    or-int/2addr v4, v5

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_f
    const/4 v4, 0x0

    goto :goto_b

    .line 5076
    :sswitch_10
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStatusUpdate(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5077
    goto/16 :goto_3

    .line 5081
    :sswitch_11
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5082
    goto/16 :goto_3

    .line 5086
    :sswitch_12
    const-string v4, "_id=?"

    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v8

    aput-object v8, v5, v6

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5088
    goto/16 :goto_3

    .line 5092
    :sswitch_13
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v25

    check-cast v25, Ljava/lang/String;

    .line 5093
    .local v25, rawContactId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v31

    .line 5094
    .local v31, streamItemId:Ljava/lang/String;
    const-string v4, "raw_contact_id=? AND _id=?"

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object v25, v5, v6

    const/4 v6, 0x1

    aput-object v31, v5, v6

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5097
    goto/16 :goto_3

    .line 5101
    .end local v25           #rawContactId:Ljava/lang/String;
    .end local v31           #streamItemId:Ljava/lang/String;
    :sswitch_14
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5102
    goto/16 :goto_3

    .line 5106
    :sswitch_15
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v31

    check-cast v31, Ljava/lang/String;

    .line 5107
    .restart local v31       #streamItemId:Ljava/lang/String;
    const-string v4, "stream_item_id=?"

    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object v31, v5, v6

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5109
    goto/16 :goto_3

    .line 5113
    .end local v31           #streamItemId:Ljava/lang/String;
    :sswitch_16
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x1

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v31

    check-cast v31, Ljava/lang/String;

    .line 5114
    .restart local v31       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v5, 0x3

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v32

    check-cast v32, Ljava/lang/String;

    .line 5115
    .local v32, streamItemPhotoId:Ljava/lang/String;
    const-string v4, "stream_item_photos._id=? AND stream_item_photos.stream_item_id=?"

    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object v32, v5, v6

    const/4 v6, 0x1

    aput-object v31, v5, v6

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v18

    .line 5119
    goto/16 :goto_3

    .line 5123
    .end local v31           #streamItemId:Ljava/lang/String;
    .end local v32           #streamItemPhotoId:Ljava/lang/String;
    :sswitch_17
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-static {}, Landroid/os/Binder;->getCallingUid()I

    move-result v5

    invoke-virtual {v4, v5}, Lcom/android/providers/contacts/ContactDirectoryManager;->scanPackagesByUid(I)V

    .line 5124
    const/16 v18, 0x1

    .line 5125
    goto/16 :goto_3

    .line 5129
    :sswitch_18
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->handleDataUsageFeedback(Landroid/net/Uri;)Z

    move-result v4

    if-eqz v4, :cond_10

    .line 5130
    const/16 v18, 0x1

    goto/16 :goto_3

    .line 5132
    :cond_10
    const/16 v18, 0x0

    .line 5134
    goto/16 :goto_3

    .line 5139
    :sswitch_19
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->pcscSyncInfoTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5141
    :sswitch_1a
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->pcscTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5145
    :sswitch_1b
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5149
    :sswitch_1c
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->myphonebookProfileTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5153
    :sswitch_1d
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->csFriendTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5157
    :sswitch_1e
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->aabTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 5160
    :sswitch_1f
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/database/sqlite/SQLiteDatabase;

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->aabGroupsTrackingTable:Ljava/lang/String;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    move-object/from16 v2, p4

    invoke-virtual {v4, v5, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 4929
    nop

    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_3
        0x3e9 -> :sswitch_4
        0x3ea -> :sswitch_5
        0x3eb -> :sswitch_5
        0x7d2 -> :sswitch_9
        0x7d3 -> :sswitch_a
        0x7d4 -> :sswitch_6
        0x7d8 -> :sswitch_13
        0xbb8 -> :sswitch_7
        0xbb9 -> :sswitch_8
        0xbbb -> :sswitch_8
        0xbbe -> :sswitch_8
        0xbc2 -> :sswitch_8
        0x1770 -> :sswitch_d
        0x1b58 -> :sswitch_10
        0x2328 -> :sswitch_f
        0x2710 -> :sswitch_b
        0x2711 -> :sswitch_c
        0x2af8 -> :sswitch_0
        0x2af9 -> :sswitch_1
        0x2afa -> :sswitch_0
        0x2afb -> :sswitch_2
        0x2ee3 -> :sswitch_e
        0x4269 -> :sswitch_17
        0x4a38 -> :sswitch_3
        0x4a3a -> :sswitch_7
        0x4a3d -> :sswitch_9
        0x4a3f -> :sswitch_6
        0x4a41 -> :sswitch_10
        0x4e21 -> :sswitch_18
        0x5208 -> :sswitch_11
        0x5209 -> :sswitch_14
        0x520a -> :sswitch_12
        0x520b -> :sswitch_15
        0x520c -> :sswitch_16
        0xc738 -> :sswitch_1a
        0xc739 -> :sswitch_19
        0xcb20 -> :sswitch_1b
        0xcf08 -> :sswitch_1c
        0xd2f0 -> :sswitch_1d
        0xd6d8 -> :sswitch_1e
        0xd6d9 -> :sswitch_1f
    .end sparse-switch
.end method

.method protected updateLocaleInBackground()V
    .locals 7

    .prologue
    const/4 v6, 0x3

    .line 2133
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-ne v4, v6, :cond_1

    .line 2150
    :cond_0
    :goto_0
    return-void

    .line 2137
    :cond_1
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-static {v4}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v1

    .line 2138
    .local v1, prefs:Landroid/content/SharedPreferences;
    const-string v4, "locale"

    const/4 v5, 0x0

    invoke-interface {v1, v4, v5}, Landroid/content/SharedPreferences;->getString(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 2139
    .local v2, providerLocale:Ljava/lang/String;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    .line 2140
    .local v0, currentLocale:Ljava/util/Locale;
    invoke-virtual {v0}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v4, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_0

    .line 2144
    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 2145
    .local v3, providerStatus:I
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 2146
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4, p0, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setLocale(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/Locale;)V

    .line 2147
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4, p0, v0}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->setLocale(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/Locale;)V

    .line 2148
    invoke-interface {v1}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v4

    const-string v5, "locale"

    invoke-virtual {v0}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-interface {v4, v5, v6}, Landroid/content/SharedPreferences$Editor;->putString(Ljava/lang/String;Ljava/lang/String;)Landroid/content/SharedPreferences$Editor;

    move-result-object v4

    invoke-interface {v4}, Landroid/content/SharedPreferences$Editor;->apply()V

    .line 2149
    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0
.end method

.method protected updateLookupKeyForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V
    .locals 1
    .parameter "db"
    .parameter "rawContactId"

    .prologue
    .line 8243
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactAggregator;

    invoke-virtual {v0, p1, p2, p3}, Lcom/android/providers/contacts/ContactAggregator;->updateLookupKeyForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 8244
    return-void
.end method

.method protected updateSearchIndexInBackground()V
    .locals 1

    .prologue
    .line 2177
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    invoke-virtual {v0}, Lcom/android/providers/contacts/SearchIndexManager;->updateIndex()V

    .line 2178
    return-void
.end method

.method protected updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 3
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 5401
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/database/sqlite/SQLiteDatabase;

    const-string v2, "settings"

    invoke-virtual {v1, v2, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    .line 5402
    .local v0, count:I
    const-string v1, "ungrouped_visible"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 5403
    const/4 v1, 0x1

    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 5405
    :cond_0
    return v0
.end method

.method protected upgradeAggregationAlgorithmInBackground()V
    .locals 20

    .prologue
    .line 10378
    const-string v3, "ContactsProvider"

    const-string v4, "Upgrading aggregation algorithm"

    invoke-static {v3, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 10379
    const/4 v12, 0x0

    .line 10380
    .local v12, count:I
    invoke-static {}, Landroid/os/SystemClock;->currentThreadTimeMillis()J

    move-result-wide v18

    .line 10381
    .local v18, start:J
    const/4 v2, 0x0

    .line 10383
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    :try_start_0
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 10384
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 10385
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mActiveDb:Ljava/lang/ThreadLocal;

    invoke-virtual {v3, v2}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 10386
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 10387
    const/4 v3, 0x1

    const-string v4, "raw_contacts r1 JOIN raw_contacts r2"

    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "r1._id"

    aput-object v7, v5, v6

    const-string v6, "r1._id!=r2._id AND r1.contact_id=r2.contact_id AND r1.account_name=r2.account_name AND r1.account_type=r2.account_type AND r1.data_set=r2.data_set"

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    invoke-virtual/range {v2 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(ZLjava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    move-result-object v13

    .line 10397
    .local v13, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_1
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 10398
    const/4 v3, 0x0

    invoke-interface {v13, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v16

    .line 10399
    .local v16, rawContactId:J
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    const/4 v4, 0x0

    const/4 v5, 0x1

    move-wide/from16 v0, v16

    invoke-virtual {v3, v0, v1, v4, v5}, Lcom/android/providers/contacts/ContactAggregator;->markForAggregation(JIZ)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 10401
    add-int/lit8 v12, v12, 0x1

    .line 10402
    goto :goto_0

    .line 10404
    .end local v16           #rawContactId:J
    :cond_0
    :try_start_2
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 10406
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v4, v3, v2}, Lcom/android/providers/contacts/ContactAggregator;->aggregateInTransaction(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;)V

    .line 10409
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->tryUpdateSearchIndexInTransaction()V

    .line 10411
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V

    .line 10412
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "aggregation_v2"

    const/4 v5, 0x2

    invoke-static {v5}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v3, v4, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setProperty(Ljava/lang/String;Ljava/lang/String;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    .line 10415
    if-eqz v2, :cond_1

    .line 10416
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 10418
    :cond_1
    invoke-static {}, Landroid/os/SystemClock;->currentThreadTimeMillis()J

    move-result-wide v14

    .line 10419
    .local v14, end:J
    const-string v3, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Aggregation algorithm upgraded for "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " contacts, in "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    sub-long v5, v14, v18

    invoke-virtual {v4, v5, v6}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "ms"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 10422
    return-void

    .line 10404
    .end local v14           #end:J
    :catchall_0
    move-exception v3

    :try_start_3
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v3
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 10415
    .end local v13           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v3

    if-eqz v2, :cond_2

    .line 10416
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 10418
    :cond_2
    invoke-static {}, Landroid/os/SystemClock;->currentThreadTimeMillis()J

    move-result-wide v14

    .line 10419
    .restart local v14       #end:J
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Aggregation algorithm upgraded for "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " contacts, in "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    sub-long v6, v14, v18

    invoke-virtual {v5, v6, v7}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "ms"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 10421
    throw v3
.end method

.method protected waitForAccess(Ljava/util/concurrent/CountDownLatch;)V
    .locals 2
    .parameter "latch"

    .prologue
    .line 2466
    if-nez p1, :cond_0

    .line 2473
    :goto_0
    return-void

    .line 2474
    :catch_0
    move-exception v0

    .line 2475
    .local v0, e:Ljava/lang/InterruptedException;
    invoke-static {}, Ljava/lang/Thread;->currentThread()Ljava/lang/Thread;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Thread;->interrupt()V

    .line 2472
    .end local v0           #e:Ljava/lang/InterruptedException;
    :cond_0
    :try_start_0
    invoke-virtual {p1}, Ljava/util/concurrent/CountDownLatch;->await()V
    :try_end_0
    .catch Ljava/lang/InterruptedException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0
.end method

.method wipeData()V
    .locals 1

    .prologue
    .line 2449
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->wipeData()V

    .line 2450
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ProfileDatabaseHelper;->wipeData()V

    .line 2451
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0}, Lcom/android/providers/contacts/PhotoStore;->clear()V

    .line 2452
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0}, Lcom/android/providers/contacts/PhotoStore;->clear()V

    .line 2453
    const/4 v0, 0x4

    iput v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 2454
    return-void
.end method

.method protected yield(Lcom/android/providers/contacts/ContactsTransaction;)Z
    .locals 4
    .parameter "transaction"

    .prologue
    .line 2698
    const-string v2, "profile"

    invoke-virtual {p1, v2}, Lcom/android/providers/contacts/ContactsTransaction;->removeDbForTag(Ljava/lang/String;)Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 2699
    .local v1, profileDb:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v1, :cond_0

    .line 2700
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V

    .line 2701
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2705
    :cond_0
    const-string v2, "contacts"

    invoke-virtual {p1, v2}, Lcom/android/providers/contacts/ContactsTransaction;->getDbForTag(Ljava/lang/String;)Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2706
    .local v0, contactsDb:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v0, :cond_1

    const-wide/16 v2, 0xfa0

    invoke-virtual {v0, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->yieldIfContendedSafely(J)Z

    move-result v2

    if-eqz v2, :cond_1

    const/4 v2, 0x1

    :goto_0
    return v2

    :cond_1
    const/4 v2, 0x0

    goto :goto_0
.end method
